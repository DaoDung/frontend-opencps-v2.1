(function(e){function t(t){for(var o,a,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)a=s[d],i[a]&&l.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(l.length)l.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},i={app:0},r=[];function s(e){return c.p+"../../docs/o/opencps-frontend-cli/voting/app/js/"+({EmployeeDetail:"EmployeeDetail",Employees:"Employees",NotFound:"NotFound"}[e]||e)+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={EmployeeDetail:1,Employees:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var o="../../docs/o/opencps-frontend-cli/voting/app/css/"+({EmployeeDetail:"EmployeeDetail",Employees:"Employees",NotFound:"NotFound"}[e]||e)+".css",i=c.p+o,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===o||d===i))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===o||d===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.request=o,delete a[e],p.parentNode.removeChild(p),n(r)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){a[e]=0}));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise(function(t,n){o=i[e]=[t,n]});t.push(o[2]=r);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e),u=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,n[1](r)}i[e]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=d;r.push(["56d7","chunk-vendors"]),n()})({"56d7":function(e,t,n){"use strict";n.r(t);n("0f18");var o=n("a026"),a=n("bb71");n("74ef");o["a"].use(a["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app_voting"}},[e._e(),n("v-content",[n("router-view")],1)],1)},r=[],s={data:function(){return{}}},c=s,u=n("2877"),d=n("6544"),l=n.n(d),p=n("7496"),m=n("549c"),f=n("f774"),h=Object(u["a"])(c,i,r,!1,null,null,null);h.options.__file="App.vue";var g=h.exports;l()(h,{VApp:p["a"],VContent:m["a"],VNavigationDrawer:f["a"]});var v=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%","background-color":"#ffff","padding-top":"20px"}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-center",staticStyle:{"margin-bottom":"20px"},attrs:{xs12:"",sm12:""}},[n("h3",{staticClass:"text-center",staticStyle:{color:"#065694"}},[e._v("CHỌN CƠ QUAN ĐỂ ĐÁNH GIÁ CÁN BỘ")])]),n("v-flex",{attrs:{xs12:"",sm2:""}}),n("v-flex",{attrs:{xs12:"",sm8:""}},[n("v-layout",{attrs:{row:"",wrap:""}},e._l(e.govAgencys,function(t,o){return n("v-flex",{key:o+"gov",staticStyle:{"padding-left":"5px","padding-right":"5px"},attrs:{xs12:"",sm4:""}},[n("v-btn",{staticClass:"btn-select",staticStyle:{width:"100%",height:"auto","min-height":"38px","background-color":"#b3d4fc5c!important"},attrs:{outline:"",flat:"",color:"primary"},on:{click:function(n){e.viewListEmployee(t)}}},[n("span",{staticStyle:{"white-space":"normal"}},[e._v(e._s(t.itemName))])])],1)}),1)],1),n("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1)},w=[],b={props:["index"],components:{},data:function(){return{govAgencys:[],btnLoading:!1}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var e=this;console.log("landing---------"),e.$nextTick(function(){e.$store.dispatch("loadGovAgencys",{}).then(function(t){e.govAgencys=t,console.log(e.govAgencys)}).catch(function(e){})})},watch:{},methods:{viewListEmployee:function(e){this.$router.push({path:"/danh-sach-can-bo/"+e.itemCode,query:{itemName:e.itemName}})}},filters:{}},I=b,D=n("8336"),x=n("0e8f"),E=n("a722"),_=Object(u["a"])(I,y,w,!1,null,null,null);_.options.__file="Landing.vue";var N=_.exports;l()(_,{VBtn:D["a"],VFlex:x["a"],VLayout:E["a"]});var A=[{path:"/",component:N,props:!0},{path:"/danh-sach-can-bo/:itemCode",name:"Employees",component:function(){return n.e("Employees").then(n.bind(null,"9205"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-can-bo/:itemCode/:id",name:"EmployeeDetail",component:function(){return n.e("EmployeeDetail").then(n.bind(null,"3d62"))},props:!0,meta:{requiresAuth:!1}},{path:"*",name:"NotFound",component:function(){return n.e("NotFound").then(n.bind(null,"be4d"))},props:!0,meta:{requiresAuth:!1}}];o["a"].use(v["a"]);var L=new v["a"]({routes:A}),P=L,k=n("2f62"),C=n("854a"),S=n.n(C),T=n("bc3a"),F=n.n(T),R=n("bbd0");o["a"].use(S.a),o["a"].use(k["a"]);var j=new k["a"].Store({state:{initData:{},loading:!1,index:0},actions:{loadInitResource:function(e){e.commit;var t=e.state;return new Promise(function(e,n){null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20103}),e(t.initData)})},loadVoting:function(e,t){var n=e.commit,o=e.state;return new Promise(function(e,a){n("setLoading",!0),j.dispatch("loadInitResource").then(function(i){var r={headers:{groupId:o.initData.groupId}};F.a.get(R.initData.votingApi+"/"+t.className+"/"+t.classPk,r).then(function(t){t.data?e(t.data.data):e([]),n("setLoading",!1)}).catch(function(e){a(e),n("setLoading",!1)})})})},loadImageEmployee:function(e,t){e.commit;var n=e.state;return console.log(t),new Promise(function(e,o){j.dispatch("loadInitResource").then(function(a){var i={headers:{groupId:n.initData.groupId},responseType:"blob"};F.a.get("/o/rest/v2/users/"+t.mappingUser.userId+"/photo",i).then(function(t){var n=window.URL.createObjectURL(t.data);e(n)}).catch(function(e){o(e)})})})},loadGovAgencys:function(e,t){var n=e.commit,o=e.state;return new Promise(function(e,t){n("setLoading",!0),j.dispatch("loadInitResource").then(function(a){var i={headers:{groupId:o.initData.groupId}};F.a.get(R.initData.dictcollectionsApi+"/GOVERNMENT_AGENCY/dictitems",i).then(function(t){t.data?e(t.data.data):e([]),n("setLoading",!1)}).catch(function(e){t(e),n("setLoading",!1)})})})},loadEmployees:function(e,t){var n=e.commit,o=e.state;return new Promise(function(e,a){n("setLoading",!0),j.dispatch("loadInitResource").then(function(i){var r={headers:{groupId:o.initData.groupId}};F.a.get(R.initData.employeeApi+"/"+t.itemCode,r).then(function(t){t.data?e(t.data.data):e([]),n("setLoading",!1)}).catch(function(e){a(e),n("setLoading",!1)})})})},getEmployee:function(e,t){var n=e.commit,o=e.state;return new Promise(function(e,a){n("setLoading",!0),j.dispatch("loadInitResource").then(function(i){var r={headers:{groupId:o.initData.groupId}};F.a.get(R.initData.detailEmployeeApi+"/"+t.employeeId,r).then(function(t){e(t.data),n("setLoading",!1)}).catch(function(e){a(e),n("setLoading",!1)})})})},checkPermisionVoting:function(e,t){e.commit;var n=e.state;return new Promise(function(e,o){j.dispatch("loadInitResource").then(function(){var a={headers:{groupId:n.initData.groupId},params:{applicantIdNo:t.applicantIdNo,dossierNo:t.dossierNo}};F.a.get("/o/rest/v2/votings/checkpermission",a).then(function(t){var n=t.data;e(n)}).catch(function(e){console.log(e),o(e)})})})},submitVoting:function(e,t){e.commit;var n=e.state;return new Promise(function(e,o){j.dispatch("loadInitResource").then(function(a){var i=new URLSearchParams,r={headers:{groupId:n.initData.groupId}};t.comment&&i.append("comment",t.comment),i.append("selected",t.selected),i.append("className",t.className),i.append("classPk",t.classPk),F.a.post(R.initData.votingApi+"/"+t.votingId+"/results",i,r).then(function(t){e(t.data)}).catch(function(e){o(e)})})})}},mutations:{setIndex:function(e,t){e.index=t},setInitData:function(e,t){e.initData=t}},getters:{loading:function(e){return e.loading},index:function(e){return e.index}}}),O=n("967d");o["a"].use(O["default"]);var U=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0;F.a.defaults.withCredentials=!0,F.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",F.a.defaults.headers.common["groupId"]=U,o["a"].config.productionTip=!0,o["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new o["a"]({router:P,store:j,render:function(e){return e(g)}}).$mount("#app_voting")},"74ef":function(e,t,n){},bbd0:function(e){e.exports={renderURLInit:"?p_p_id=FrontendWebVoting&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit",initData:{votingApi:"/o/rest/v2/postal/votings",agenciesApi:"/o/rest/v2/serviceinfos/statistics/agencies",employeeApi:"/o/rest/v2/employees/publish",detailEmployeeApi:"/o/rest/v2/employees",dictcollectionsApi:"/o/rest/v2/dictcollections"}}}});
//# sourceMappingURL=app.js.map