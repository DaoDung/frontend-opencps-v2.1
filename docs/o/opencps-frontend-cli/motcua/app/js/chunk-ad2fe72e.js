(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad2fe72e"],{"469f":function(e,t,o){o("6c1c"),o("1654"),e.exports=o("7d7b")},5338:function(e,t,o){"use strict";o.r(t);var _=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-form",{ref:"formTiepNhanHoSo",attrs:{"lazy-validation":""},model:{value:e.validTNHS,callback:function(t){e.validTNHS=t},expression:"validTNHS"}},["version_1.0"===e.formTemplate?o("div",[o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},["UPDATE"===e.formCode?o("span",[e._v("SỬA HỒ SƠ")]):"COPY"===e.formCode?o("span",[e._v("SAO CHÉP HỒ SƠ")]):e.isOffLine?o("span",[e._v("NỘP HỒ SƠ TRỰC TUYẾN")]):"NEW_GROUP"===e.formCode?o("span",[e._v("THÊM NHÓM HỒ SƠ")]):o("span",[e._v("THÊM MỚI HỒ SƠ")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.thongTinChiTietHoSo.serviceName}},[e._v("\n          "+e._s(e.thongTinChiTietHoSo.serviceName)+"\n        ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n            Quay lại\n          ")],1)],1)])]),1!==e.originality&&"NEW_GROUP"!==e.formCode?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("thong-tin-chung",{ref:"thongtinchunghoso"})],1)],1)],1):e._e(),1===e.originality?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n            HƯỚNG DẪN      \n          ")]),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:""}},[o("div",{staticClass:"ml-3 mr-3 pt-1",domProps:{innerHTML:e._s(e.thongTinChiTietHoSo.dossierNote)}})])],1)],1)],1)],1):e._e(),o("thong-tin-chu-ho-so",{ref:"thongtinchuhoso",attrs:{showApplicant:"NEW_GROUP"===e.formCode,showDelegate:!1}}),1!==e.originality?o("div",[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),"NEW_GROUP"===e.formCode?o("span",[e._v("Tên nhóm hồ sơ")]):o("span",[e._v("Tên hồ sơ")]),e._v("\n                \n          ")]),o("div",[o("v-card",[o("v-card-text",[o("v-textarea",{attrs:{rows:2,box:"",label:"NEW_GROUP"===e.formCode?"Nhập tên nhóm hồ sơ":"Nhập tên hồ sơ"},model:{value:e.briefNote,callback:function(t){e.briefNote=t},expression:"briefNote"}})],1)],1)],1)])],1)],1):e._e(),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),"NEW_GROUP"===e.formCode?o("span",[e._v("Thành phần hồ sơ dùng chung")]):o("span",[e._v("Thành phần hồ sơ")]),e._v("\n                \n            "),e.stateEditSample||1===e.originality?1!==e.originality?o("v-text-field",{staticClass:"px-0 py-0",staticStyle:{width:"90px","max-width":"90px"},attrs:{type:"number"},model:{value:e.thongTinChiTietHoSo.sampleCount,callback:function(t){e.$set(e.thongTinChiTietHoSo,"sampleCount",t)},expression:"thongTinChiTietHoSo.sampleCount"}}):e._e():o("span",[e._v("("+e._s(0===e.thongTinChiTietHoSo.sampleCount?"?":e.thongTinChiTietHoSo.sampleCount)+" bộ hồ sơ)")]),e._v("  \n            "),e.stateEditSample||1===e.originality?1!==e.originality?o("v-icon",{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(t){t.stopPropagation(),e.stateEditSample=!e.stateEditSample}}},[e._v("done")]):e._e():o("v-icon",{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(t){t.stopPropagation(),e.stateEditSample=!e.stateEditSample}}},[e._v("edit")])],1),o("thanh-phan-ho-so",{ref:"thanhphanhoso",attrs:{onlyView:"NEW_GROUP"===e.formCode,id:"nm",partTypes:"NEW_GROUP"===e.formCode?e.inputTypesGroup:e.inputTypes}})],1)],1)],1),0!==e.viaPortalDetail?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"2"}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Dịch vụ chuyển phát kết quả")]),o("dich-vu-chuyen-phat-ket-qua",{ref:"dichvuchuyenphatketqua",on:{changeViapostal:e.changeViapostal}})],1)],1)],1):e._e(),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"2"}},[e.showThuPhi?o("thu-phi",{attrs:{viaPortal:e.viaPortalDetail},model:{value:e.payments,callback:function(t){e.payments=t},expression:"payments"}}):e._e()],1)],1)],1),o("v-tabs",{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[o("v-tabs-slider",{attrs:{color:"primary"}}),"NEW_GROUP"===e.formCode&&1!==e.originality&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(t){e.tiepNhanNhomHoSo()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n          "),o("span",[e._v("Tạo nhóm")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),"NEW_GROUP"!==e.formCode&&1!==e.originality&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(t){e.tiepNhanHoSo()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n          "),"UPDATE"===e.formCode?o("span",[e._v("Lưu hồ sơ")]):o("span",[e._v("Tiếp nhận")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),1!==e.originality&&"UPDATE"!==e.formCode&&"COPY"!==e.formCode&&"NEW_GROUP"!==e.formCode&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-4"},on:{click:function(t){e.tiepNhanHoSo("add")}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("note_add")]),e._v("   \n          "),o("span",[e._v("Tiếp nhận và thêm mới")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),1===e.originality?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-3"},on:{click:e.luuHoSo}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("  \n          Lưu\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:e.goBack}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n          Quay lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1):e._e(),"version_2.0"===e.formTemplate?o("div",[o("div",{staticStyle:{display:"none"}},[o("input",{attrs:{id:"serviceCode_hidden",type:"text"},domProps:{value:e.serviceCode_hidden}}),o("input",{attrs:{id:"serviceName_hidden",type:"text"},domProps:{value:e.serviceName_hidden}}),o("input",{attrs:{id:"govAgencyCode_hidden",type:"text"},domProps:{value:e.govAgencyCode_hidden}}),o("input",{attrs:{id:"dossierTemplateNo_hidden",type:"text"},domProps:{value:e.dossierTemplateNo_hidden}}),o("input",{attrs:{id:"eformCode_hidden",type:"text"},domProps:{value:e.eformCode_hidden}})]),o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},["UPDATE"===e.formCode?o("span",[e._v("SỬA HỒ SƠ")]):"COPY"===e.formCode?o("span",[e._v("SAO CHÉP HỒ SƠ")]):e.isOffLine?o("span",[e._v("NỘP HỒ SƠ TRỰC TUYẾN")]):o("span",[e._v("THÊM MỚI HỒ SƠ")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.templateName}},[e._v("\n          "+e._s(e.templateName)+"\n        ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n            Quay lại\n          ")],1)],1)])]),e.loadingForm?o("div",{staticClass:"text-xs-center mt-5"},[o("v-progress-circular",{attrs:{size:50,color:"#dedede",indeterminate:""}})],1):o("div",[o("v-card",{attrs:{flat:"",color:"#fff"}},[o("div",{staticClass:"mb-5 pt-0",attrs:{id:"formAlpacaNewTemplate"}})]),o("v-tabs",{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[o("v-tabs-slider",{attrs:{color:"primary"}}),1!==e.originality&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(t){e.tiepNhanHoSoNewTemplate()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n            "),"UPDATE"===e.formCode?o("span",[e._v("Lưu hồ sơ")]):o("span",[e._v("Tiếp nhận")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),1===e.originality?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-3"},on:{click:e.luuHoSo}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("  \n            Lưu\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:e.goBack}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n            Quay lại\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)]):e._e()])},n=[],a=o("a85d"),i=a["a"],s=o("2877"),r=Object(s["a"])(i,_,n,!1,null,null,null);t["default"]=r.exports},"5d73":function(e,t,o){e.exports=o("469f")},"768b":function(e,t,o){"use strict";var _=o("a745"),n=o.n(_);function a(e){if(n()(e))return e}var i=o("5d73"),s=o.n(i);function r(e,t){var o=[],_=!0,n=!1,a=void 0;try{for(var i,r=s()(e);!(_=(i=r.next()).done);_=!0)if(o.push(i.value),t&&o.length===t)break}catch(d){n=!0,a=d}finally{try{_||null==r["return"]||r["return"]()}finally{if(n)throw a}}return o}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){return a(e)||r(e,t)||d()}o.d(t,"a",function(){return c})},"7d7b":function(e,t,o){var _=o("e4ae"),n=o("7cd6");e.exports=o("584a").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return _(t.call(e))}},a85d:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f576"),core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("768b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("f499"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5176"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__),toastr__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_11__),jquery__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_12__),_TiepNhan_TiepNhanHoSo_ThongTinChuHoSo_vue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("826a"),_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("6e92"),_TiepNhan_TiepNhanHoSo_ThongTinChung_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("c199"),_form_xu_ly_FeeDetail_vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("f374"),_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatKetQua_vue__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("a9a9");toastr__WEBPACK_IMPORTED_MODULE_11___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:["index","id","formCode"],components:{"thong-tin-chu-ho-so":_TiepNhan_TiepNhanHoSo_ThongTinChuHoSo_vue__WEBPACK_IMPORTED_MODULE_13__["a"],"thanh-phan-ho-so":_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_14__["a"],"thong-tin-chung":_TiepNhan_TiepNhanHoSo_ThongTinChung_vue__WEBPACK_IMPORTED_MODULE_15__["a"],"thu-phi":_form_xu_ly_FeeDetail_vue__WEBPACK_IMPORTED_MODULE_16__["a"],"dich-vu-chuyen-phat-ket-qua":_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatKetQua_vue__WEBPACK_IMPORTED_MODULE_17__["a"]},data:function(){return{templateName:"",formTemplate:"",data_form_template:"",serviceCode_hidden:"",serviceName_hidden:"",govAgencyCode_hidden:"",dossierTemplateNo_hidden:"",eformCode_hidden:"",validTNHS:!1,dossierId:"",mark:!0,stateEditSample:!1,tiepNhanState:!0,thongTinChiTietHoSo:{},payments:{},paymentProfile:{},briefNote:"",receiveDateEdit:"",editableDate:!1,dueDateEdit:"",viaPortalDetail:0,showThuPhi:!1,inputTypes:[1,3,6],inputTypesGroup:[6],outputTypes:[2],sampleCount:0,isMobile:!1,loadingAction:!1,loadingForm:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua},thongTinChuHoSo:function(){return this.$store.getters.thongTinChuHoSo}},created:function(){var e=this;e.$nextTick(function(){e.dossierId=e.id})},beforeDestroy:function(){var e=jquery__WEBPACK_IMPORTED_MODULE_12___default()('meta[name="viewport"]');e.attr("content","initial-scale=1.0, width=device-width"),"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},watch:{isMobile:function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_12___default()('meta[name="viewport"]');e?t.attr("content",""):t.attr("content","initial-scale=1.0, width=device-width")}},methods:{onResize:function(){var e=this,t=window.innerWidth<1024;e.isMobile=t},initData:function initData(data){var vm=this,currentQuery=vm.$router.history.current.query,filter={dossierTemplateNo:currentQuery.hasOwnProperty("template_no")&&currentQuery.template_no?currentQuery.template_no:""};vm.$store.dispatch("loadDossierFormTemplates",filter).then(function(result){if(vm.templateName=result["templateName"],result["newFormScript"]){vm.data_form_template=eval("( "+result["newFormScript"]+" ) "),console.log("data_form_template",vm.data_form_template),vm.formTemplate="version_2.0",vm.loadingForm=!0;var filterServiceConfig={serviceConfigId:currentQuery.hasOwnProperty("service_config")&&currentQuery.service_config?currentQuery.service_config:""};vm.$store.dispatch("getServiceConfigDetail",filterServiceConfig).then(function(e){vm.loadingForm=!1,vm.serviceName_hidden=e.serviceName,vm.serviceCode_hidden=e.serviceCode,vm.govAgencyCode_hidden=e.govAgencyCode,vm.dossierTemplateNo_hidden=currentQuery.hasOwnProperty("template_no")&&currentQuery.template_no?currentQuery.template_no:"",vm.eformCode_hidden=currentQuery.hasOwnProperty("eformCode")&&currentQuery.eformCode?currentQuery.eformCode:"",setTimeout(function(){var e,t;vm.data_form_template&&(e=vm.data_form_template?vm.data_form_template:{},t={},e.data=t,window.$("#formAlpacaNewTemplate").alpaca(e))},200)})}else vm.formTemplate="version_1.0",vm.$store.dispatch("getDetailDossier",data).then(function(e){if(vm.dossierId=e.dossierId,vm.briefNote=e.dossierName?e.dossierName:"",e["editable"]=!1,""===e.dossierStatus?vm.$store.dispatch("pullNextactions",e).then(function(t){if(t){var o=t.filter(function(e){return 1100===e.actionCode||"1100"===e.actionCode});vm.$store.dispatch("processPullBtnDetail",{dossierId:e.dossierId,actionId:o[0]?o[0].processActionId:""}).then(function(t){e["editable"]=!(!t||!t.receiving)&&t.receiving.editable,e["receivingDuedate"]=t&&t.receiving&&t.receiving.dueDate?t.receiving.dueDate:null,e["receivingDate"]=t&&t.receiving?t.receiving.receiveDate:"",vm.editableDate=!(!t||!t.receiving)&&t.receiving.editable,vm.dueDateEdit=t&&t.receiving&&t.receiving.dueDate?t.receiving.dueDate:"",vm.receiveDateEdit=t&&t.receiving?t.receiving.receiveDate:"",t&&t.payment&&t.payment.requestPayment>0&&5!==t.payment.requestPayment&&(vm.showThuPhi=!0,vm.payments=t.payment),vm.$refs.thongtinchunghoso&&vm.$refs.thongtinchunghoso.initData(e)})}else vm.$refs.thongtinchunghoso&&vm.$refs.thongtinchunghoso.initData(e)}):vm.$refs.thongtinchunghoso&&(console.log("has thong tin chung ho so"),vm.$refs.thongtinchunghoso.initData(e)),vm.thongTinChiTietHoSo=e,vm.$refs.thongtinchuhoso.initData(e),vm.$refs.thanhphanhoso.initData(e),vm.viaPortalDetail=e.viaPostal,e.viaPostal>0){var t=e.address?e.address+", "+e.wardName+" - "+e.districtName+" - "+e.cityName:"";"NEW"===vm.formCode&&1===vm.originality&&(e["postalAddress"]=t,e["postalTelNo"]=vm.thongTinChuHoSo["contactTelNo"]),vm.$store.commit("setDichVuChuyenPhatKetQua",e)}}).catch(function(e){})})},luuHoSo:function(){var e=this;console.log("luu Ho So--------------------"),e.$store.commit("setPrintPH",!1);var t=this.$refs.thongtinchunghoso?this.$refs.thongtinchunghoso.getthongtinchunghoso():{},o=this.$refs.thongtinchuhoso.thongTinChuHoSo,_=this.$refs.thongtinchuhoso?this.$refs.thongtinchuhoso.thongTinNguoiNopHoSo:{},n=(this.$refs.thanhphanhoso.dossierTemplateItems,this.$refs.dichvuchuyenphatketqua?this.$refs.dichvuchuyenphatketqua.dichVuChuyenPhatKetQua:{});console.log("validate TNHS formThongtinchuhoso.validate()",e.$refs.thongtinchuhoso.showValid());var a=e.$refs.thongtinchuhoso.showValid();if(a["validForm"]){var i=!1;if(a["validApplicant"])i=!0;else{var s=confirm(a["message"]+" Bạn có muốn tiếp tục?");s&&(i=!0)}if(i){if(!e.$refs.thanhphanhoso.validDossierTemplate())return;if(2===n.viaPostal&&!e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return;var r=e.$refs.thanhphanhoso.dossierFilesItems,d=[];r&&r.forEach(function(t,o){t.eForm&&(t["dossierId"]=e.dossierId,d.push(e.$store.dispatch("putAlpacaForm",t)))});var c=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(o,_,n,t);c["dossierId"]=e.dossierId,c["sampleCount"]=e.thongTinChiTietHoSo.sampleCount,c["originality"]=e.originality,console.log("data put dossier --\x3e",c),setTimeout(function(){e.$store.dispatch("putDossier",c).then(function(t){if("UPDATE"===e.formCode)e.goBack();else{var o=e.$store.getters.loadingInitData,_=o.user.userName?o.user.userName:"",n={dossierId:e.dossierId,actionCode:1100,actionNote:"",actionUser:_,payload:"",security:"",assignUsers:"",payment:e.payments,createDossiers:"",dueDate:c.dueDate};e.$store.dispatch("postAction",n).then(function(t){e.$router.history.current.query;e.$router.push({path:"/danh-sach-ho-so/4/chi-tiet-ho-so/"+t.dossierId,query:{activeTab:"tabs-1"}}),e.tiepNhanState=!1})}}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_11___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_11___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})},500)}}},tiepNhanHoSo:function(e){var t=this;console.log("luu Ho So--------------------"),t.$store.commit("setPrintPH",!1);var o=this.$refs.thongtinchunghoso.getthongtinchunghoso(),_=this.$refs.thongtinchuhoso.getThongTinChuHoSo(),n=this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo(),a=(this.$refs.thanhphanhoso.dossierTemplateItems,t.dichVuChuyenPhatKetQua);console.log("validate TNHS formThongtinchuhoso.validate()",t.$refs.thongtinchuhoso.showValid());var i=t.$refs.thongtinchuhoso.showValid();if(i["validForm"]){var s=!1;if(i["validApplicant"])s=!0;else{var r=confirm(i["message"]+" Bạn có muốn tiếp tục?");r&&(s=!0)}if(s){if(console.log("valid confirm2",s),t.loadingAction=!0,!t.$refs.thanhphanhoso.validDossierTemplate())return void(t.loadingAction=!1);if(2===a.viaPostal&&!t.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return void(t.loadingAction=!1);var d=t.$refs.thanhphanhoso.dossierFilesItems,c=[];d&&d.forEach(function(e,o){e.eForm&&(e["dossierId"]=t.dossierId,c.push(t.$store.dispatch("putAlpacaForm",e)))});var l=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(_,n,a,o);l["dossierId"]=t.dossierId,l["sampleCount"]=t.thongTinChiTietHoSo.sampleCount,l["dossierName"]=t.briefNote,l["originality"]=t.originality,console.log("data put dossier --\x3e",l),t.$store.dispatch("putDossier",l).then(function(o){if(t.loadingAction=!1,"UPDATE"===t.formCode)t.goBack();else{var _=t.$store.getters.loadingInitData,n=_.user.userName?_.user.userName:"",a={};t.showThuPhi&&(a={requestPayment:t.payments["requestPayment"],paymentNote:t.payments["paymentNote"],advanceAmount:Number(t.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(t.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(t.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(t.payments["shipAmount"].toString().replace(/\./g,""))});var i={dueDate:t.editableDate&&l.dueDate?l.dueDate:t.dueDateEdit,receiveDate:t.receiveDateEdit},s={dossierId:t.dossierId,actionCode:1100,actionNote:"",actionUser:n,payload:i,security:"",assignUsers:"",payment:a,createDossiers:""};t.loadingAction=!0,t.$store.dispatch("postAction",s).then(function(o){if(t.loadingAction=!1,e){var _=t.$router.history.current,n=_.query,a=t.$store.getters.getDataCreateDossier;t.loadingAction=!0,t.$store.dispatch("postDossier",a).then(function(e){t.loadingAction=!1,t.dossierId=e.dossierId,t.$refs.thongtinchunghoso.changeDossierNo(e.dossierNo);var o="?";for(var _ in n)""!==n[_]&&"undefined"!==n[_]&&void 0!==n[_]&&(o+=_+"="+n[_]+"&");console.log("queryString=====",o),t.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+e.dossierId+"/NEW"+o,query:{renew:Math.floor(100*Math.random())+1}})}).catch(function(e){t.loadingAction=!1})}else t.goBack(),t.tiepNhanState=!1}).catch(function(e){t.loadingAction=!1})}}).catch(function(e){t.loadingAction=!1,console.log("rejectXhr==========",e),toastr__WEBPACK_IMPORTED_MODULE_11___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_11___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}}},boSungHoSo:function(){var e=this;console.log("luu Ho So--------------------"),e.$store.commit("setPrintPH",!1);var t=this.$refs.thongtinchunghoso.getthongtinchunghoso(),o=this.$refs.thongtinchuhoso.thongTinChuHoSo,_=this.$refs.thongtinchuhoso.thongTinNguoiNopHoSo,n=this.$refs.thanhphanhoso.dossierTemplateItems,a=this.$refs.lephi.lePhi,i=this.$refs.dichvuchuyenphatketqua.dichVuChuyenPhatKetQua;if(console.log("validate TNHS formThongtinchuhoso.validate()",e.$refs.thongtinchuhoso.showValid()),e.$refs.thongtinchuhoso.showValid()){var s=e.$refs.thanhphanhoso.dossierFilesItems,r=n,d=[],c=[];r&&(r.forEach(function(t,o){1===t.partType&&(t["dossierId"]=e.dossierId,c.push(e.$store.dispatch("postDossierMark",t)))}),s.forEach(function(t,o){t.eForm&&(t["dossierId"]=e.dossierId,d.push(e.$store.dispatch("putAlpacaForm",t)))})),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(c).then(function(e){}).catch(function(e){}),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(d).then(function(s){console.log(s);var r=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(o,_,n,a,i,t);console.log("data put dossier --\x3e",r),r["dossierId"]=e.dossierId,e.$store.dispatch("putDossier",r).then(function(t){var o={dossierId:e.dossierId,actionCode:7100,payload:"",security:"",assignUsers:{},payment:{},createDossiers:{},dueDate:r.dueDate};e.$store.dispatch("postAction",o).then(function(e){})})}).catch(function(e){})}},changeViapostal:function(e){this.viaPortalDetail=e?2:1},tiepNhanNhomHoSo:function(e){var t=this;t.$store.commit("setPrintPH",!1);var o=this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo(),_=(this.$refs.thanhphanhoso.dossierTemplateItems,t.dichVuChuyenPhatKetQua);if(t.loadingAction=!0,2!==_.viaPostal||t.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat()){var n=t.$refs.thanhphanhoso.dossierFilesItems,a=[];n&&n.forEach(function(e,o){e.eForm&&(e["dossierId"]=t.dossierId,a.push(t.$store.dispatch("putAlpacaForm",e)))});var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(o,_);i["sampleCount"]=t.thongTinChiTietHoSo.sampleCount,i["dossierName"]=t.briefNote,console.log("data put dossier --\x3e",i);var s={serviceCode:t.thongTinChiTietHoSo.serviceCode,govAgencyCode:t.thongTinChiTietHoSo.govAgencyCode,templateNo:t.thongTinChiTietHoSo.dossierTemplateNo,originality:9};t.$store.dispatch("postDossier",s).then(function(e){i["dossierId"]=e.dossierId,t.$store.dispatch("putDossier",i).then(function(e){t.loadingAction=!1,t.$router.push({path:"/danh-sach-ho-so/0/nhom-ho-so/"+e.dossierId,query:t.$router.history.current.query})}).catch(function(e){t.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_11___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_11___default.a.error("Yêu cầu của bạn thực hiện thất bại")})})}else t.loadingAction=!1},tiepNhanHoSoNewTemplate:function(e){var t=this,o={originality:t.getOriginality(),serviceCode:jquery__WEBPACK_IMPORTED_MODULE_12___default()("#serviceCode_hidden").val(),govAgencyCode:jquery__WEBPACK_IMPORTED_MODULE_12___default()("#govAgencyCode_hidden").val(),templateNo:jquery__WEBPACK_IMPORTED_MODULE_12___default()("#dossierTemplateNo_hidden").val(),dossiers:""},_=window.$("#formAlpacaNewTemplate").alpaca("get").getValue(),n=_;for(var a in n)String(a).indexOf("_")>=0&&delete n[a];o["dossiers"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(n["dossiers"]),o["dossierFileArr"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(n["dossierFileArr"]),o["dossierMarkArr"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(n["dossierMarkArr"]),o["payment"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(n["payment"]),t.loadingAction=!0,t.$store.dispatch("postDossierNewVersion",o).then(function(e){t.loadingAction=!1,t.goBack()}).catch(function(e){t.loadingAction=!1})},parseDateToTimestamp:function(e){if(!e)return null;var t="".concat(e).split("/"),o=Object(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["a"])(t,3),_=o[0],n=o[1],a=o[2],i="".concat(a,"-").concat(n.padStart(2,"0"),"-").concat(_.padStart(2,"0"));return"Invalid Date"==new Date(i)?"":new Date(i).getTime()},goBack:function(){var e=this,t=e.$router.history.current.params,o=e.$router.history.current.query;e.isOffLine?e.$router.push({path:"/add-dvc/0"}):e.$router.push({path:"/danh-sach-ho-so/"+t.index,query:o})}}}}}]);
//# sourceMappingURL=chunk-ad2fe72e.js.map