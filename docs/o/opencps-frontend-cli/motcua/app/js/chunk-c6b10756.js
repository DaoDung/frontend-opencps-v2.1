(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6b10756"],{"8a22":function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026");__webpack_exports__["a"]={props:{item:{type:Object,default:function(){return{dossierId:0}}},layout_view:{type:Object}},created:function created(){var vm=this;null!==vm.layout_view&&void 0!==vm.layout_view&&"undefined"!==vm.layout_view&&vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("my-dynamic-view",{template:vm.layout_view["template"],data:eval(" ( "+vm.layout_view["data"]+" ) "),created:eval(" ( "+vm.layout_view["created"]+" ) "),updated:eval(" ( "+vm.layout_view["updated"]+" ) "),methods:vm.layout_view["methods"]})}}},dfd7:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row-header no__hidden_class",staticStyle:{"background-color":"#070f52"}},[null!==e.trangThaiHoSoList?i("div",{staticClass:"ml-2 py-2 text-bold white--text"},[i("span",[e._v(e._s(e.trangThaiHoSoList[e.index]["title"]))])]):e._e()]),i("v-layout",{staticClass:"menu_header_list",class:{no__border__bottom:null===e.btnDynamics||void 0===e.btnDynamics||"undefined"===e.btnDynamics||null!==e.btnDynamics&&void 0!==e.btnDynamics&&"undefined"!==e.btnDynamics&&0===e.btnDynamics.length},attrs:{wrap:""}},[1!==e.originality?i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[i("v-autocomplete",{attrs:{items:e.listLinhVuc,placeholder:"Chọn lĩnh vực","item-text":"displayName","item-value":"domainCode","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeDomain},model:{value:e.linhVucSelected,callback:function(t){e.linhVucSelected=t},expression:"linhVucSelected"}})],1),i("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[i("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,placeholder:"Chọn thủ tục hành chính","item-text":"displayName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),i("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[i("v-autocomplete",{attrs:{items:e.listDichVu,placeholder:"Chọn dịch vụ:","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,box:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}})],1),i("v-flex",{staticClass:"pl-2 pr-2 mt-1",attrs:{xs12:"",sm3:""}},[i("div",{staticStyle:{position:"relative"}},[i("v-text-field",{attrs:{placeholder:"Mã hồ sơ, tên hồ sơ, tên thủ tục ...","append-icon":"search",box:"","append-icon-cb":e.keywordEventChange},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.keywordEventChange(t):null}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])],1):e._e(),null!==e.dossierCounting&&void 0!==e.dossierCounting&&e.dossierCounting.length>0&&e.dossierCountingShow?i("div",{staticClass:"py-1 px-1",staticStyle:{background:"#f6f6f6","border-top":"1px solid lightgrey"}},e._l(e.dossierCounting,function(t,n){return i("v-chip",{key:n,on:{click:function(i){e.changeAdvFilterDataChips(t)}}},["deleted"===t.key?i("v-avatar",{staticStyle:{"background-color":"#da0e0e","border-color":"#da0e0e",color:"#fff"}},[i("v-icon",{attrs:{size:"16"}},[e._v("delete")])],1):i("v-avatar",{staticStyle:{"background-color":"#0b72ba","border-color":"#0b72ba",color:"#fff"}},[e._v(e._s(t.count))]),e._v("\n        "+e._s(t.title)+"\n      ")],1)}),1):e._e()],1),1===e.originality&&e.viewMobile?i("v-flex",{staticClass:"pl-2 pr-2 mt-2",attrs:{xs12:"",sm3:""}},[i("div",{staticStyle:{position:"relative"}},[i("v-text-field",{attrs:{placeholder:"Tìm theo mã hồ sơ, tên hồ sơ, tên thủ tục ...","append-icon":"search",box:"","append-icon-cb":e.keywordEventChange},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.keywordEventChange(t):null}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)]):e._e(),e.loadingDynamicBtn?i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:""}}),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("content-placeholders",{staticClass:"mt-3"},[i("content-placeholders-text",{attrs:{lines:1}})],1)],1),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("content-placeholders",{staticClass:"mt-3"},[i("content-placeholders-text",{attrs:{lines:1}})],1)],1),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("content-placeholders",{staticClass:"mt-3"},[i("content-placeholders-text",{attrs:{lines:1}})],1)],1)],1):e._e(),e.loadingDynamicBtn?e._e():i("div",{staticClass:"btn_wrap_actions"},[e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?i("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"UNDO_DOSSIER"},0,!0)}}},[e._v("\n         Undo   \n    ")]):e._e(),e.getUser("Administrator_data")?i("v-menu",{staticStyle:{position:"relative !important"},attrs:{left:""}},[i("v-btn",{attrs:{slot:"activator",color:"red",dark:""},slot:"activator"},[e._v("Go to   "),i("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),i("v-list",[i("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DONE"},0,!0)}}},[i("v-list-tile-title",[e._v("Hoàn thành")])],1),i("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_CANCEL"},0,!0)}}},[i("v-list-tile-title",[e._v("Rút hồ sơ")])],1),i("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DENY"},0,!0)}}},[i("v-list-tile-title",[e._v("Từ chối")])],1)],1)],1):e._e(),e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?i("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"CHANGE_DATA_DOSSIER"},0,!0)}}},[e._v("\n      Điều chỉnh dữ liệu\n    ")]):e._e(),e.getUser("Administrator")&&"deleted"!==e.currentQueryState["status"]?i("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"DELETE"},0,!0)}}},[e._v("\n      DELETE\n    ")]):e._e(),e.getUser("Administrator_data")&&e.currentQueryState.hasOwnProperty("status")&&"deleted"===e.currentQueryState["status"]?i("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"RESTORE_DOSSIER"},0,!0)}}},[e._v("\n      Khôi phục hồ sơ\n    ")]):e._e(),e._l(e.btnDynamics,function(t,n){return String(t.form).indexOf("VIEW")<0&&3!==e.menuType?i("v-btn",{key:n,attrs:{color:"primary",loading:e.loadingAction&&n===e.indexAction,disabled:e.loadingAction&&n===e.indexAction},nativeOn:{click:function(i){e.btnActionEvent(null,t,n,!0)}}},[e._v("\n      "+e._s(t.title)+e._s(t.tiltle)+"\n      "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]):e._e()})],2),i("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.hosoDatas,"total-items":e.hosoDatasTotal,"item-key":"dossierId","select-all":3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data"),"no-data-text":"Không có hồ sơ nào","hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[i("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?i("th",{staticClass:"v_data_table_check_all"},[e.getUser("Administrator")?i("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}}):i("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,disabled:!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1):e._e(),i("th",{attrs:{width:"30px"}},[i("span",[e._v("STT")])]),i("th",[i("span",[e._v("Tên thủ tục")])]),e.hideAction?e._e():i("th",{attrs:{width:"30px"}})])]}},{key:"items",fn:function(t){return[i("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?i("td",{staticClass:"v_data_table_check_all"},[e.getUser("Administrator")||e.getUser("Administrator_data")?i("v-checkbox",{attrs:{primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"props.selected"}}):i("v-checkbox",{attrs:{disabled:0===t.item["assigned"]||!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(i){e.$set(t,"selected",i)},expression:"props.selected"}})],1):e._e(),i("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?i("content-placeholders",[i("content-placeholders-text",{attrs:{lines:1}})],1):i("span",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(i){e.viewDetail(t.item,t.index)}}},[e._v("\n            "+e._s(15*e.hosoDatasPage-15+t.index+1)+"\n          ")])],1),i("td",{staticClass:"px-1 py-0"},[e.loadingTable?i("content-placeholders",[i("content-placeholders-text",{attrs:{lines:1}})],1):i("div",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(i){e.viewDetail(t.item,t.index)}}},[t.item.dossierNo?i("span",{staticClass:"primary--text"},[e._v(" "+e._s(t.item.dossierNo)+" - ")]):e._e(),i("span",{staticClass:"primary--text"},[e._v(" "+e._s(t.item.online?"Hồ sơ trực tuyến":"Hồ sơ một cửa"))]),i("br"),i("span",{staticClass:"primary--text text-bold"},[e._v(" "+e._s(t.item.serviceName)+" ")]),i("br"),i("span",{staticClass:"text-bold"},[e._v("Chủ hồ sơ: ")]),i("span",[e._v(e._s(t.item.applicantName))]),i("br"),i("span",{staticClass:"text-bold"},[e._v("Tiếp nhận: ")]),i("span",[e._v(e._s(t.item.receiveDate))]),i("br"),i("span",{staticClass:"text-bold"},[e._v("Hẹn trả: ")]),i("span",[e._v(e._s(t.item.dueDate))]),i("br"),t.item.dossierOverdue?i("span",{class:t.item.dossierOverdue.indexOf("Quá hạn")>=0?"red--text":"green--text"},[e._v(e._s(t.item.dossierOverdue))]):e._e()])],1),e.hideAction?e._e():i("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?i("content-placeholders",[i("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),e.loadingTable||null===e.btnDynamics&&void 0===e.btnDynamics&&"undefined"===e.btnDynamics&&null===e.btnDossierDynamics&&void 0===e.btnDossierDynamics&&"undefined"===e.btnDossierDynamics?e._e():i("v-menu",{staticStyle:{position:"relative !important"},attrs:{left:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){e.processPullBtnDynamics(t.item)}},slot:"activator"},[i("v-icon",[e._v("more_vert")])],1),i("v-list",[e._l(e.btnDynamics,function(n,o){return 3===e.menuType?i("v-list-tile",{key:o+"_menu_"+t.item.dossierId,attrs:{disabled:-1===String(t.item["permission"]).indexOf("write")},on:{click:function(i){e.btnActionEvent(t.item,n,t.index,!1)}}},[i("v-list-tile-title",[e._v(e._s(n.title)+e._s(n.tiltle))])],1):e._e()}),e._l(e.btnDossierDynamics,function(n,o){return(n["enable"]>0||"special"===n["autoEvent"])&&3!==e.menuType?i("v-list-tile",{key:o+"_"+t.item.dossierId,attrs:{disabled:2===n["enable"]||-1===String(t.item["permission"]).indexOf("write")},on:{click:function(i){e.processPullBtnDetail(t.item,n,t.index,o)}}},[i("v-list-tile-title",[e._v(e._s(n.actionName))])],1):e._e()}),e._l(e.btnStepsDynamics,function(n,o){return-1!==String(t.item["permission"]).indexOf("write")&&"NEW"!==String(n.form)&&3!==e.menuType?i("v-list-tile",{key:o+"_"+t.item.dossierId+"_"+t.item.dossierId,on:{click:function(i){e.btnActionEvent(t.item,n,e.index,!1)}}},[i("v-list-tile-title",[e._v(e._s(n.title))])],1):e._e()}),i("v-list-tile",{attrs:{disabled:!t.item["permission"]},on:{click:function(i){e.viewDetail(t.item,t.index)}}},[e._v("\n                Xem chi tiết\n              ")])],2)],1)],1)])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),i("div",{class:e.viewMobile?"":"text-xs-right layout wrap",staticStyle:{position:"relative"}},[i("div",{staticClass:"flex pagging-table px-2"},[i("tiny-pagination",{attrs:{total:e.hosoDatasTotal,page:e.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]),i("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAction,callback:function(t){e.dialogAction=t},expression:"dialogAction"}},[i("v-card",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogAction=!1}}},[i("v-icon",[e._v("clear")])],1),e.loadingAction?i("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),i("v-card-text",{staticClass:"pb-0 pt-4"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[i("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,placeholder:"chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceConfigId","return-object":"","hide-selected":!0},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),i("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[e.thuTucHanhChinhSelected&&e.listDichVu.length>1?i("v-autocomplete",{attrs:{items:e.listDichVu,label:"Dịch vụ:",placeholder:"chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"dịch vụ bắt buộc phải chọn."}],required:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}}):e._e()],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.dialogAction=!1}}},[i("v-icon",[e._v("undo")]),e._v(" \n            Quay lại\n            "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),i("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.doSubmitDialogAction(e.itemAction)}}},[i("v-icon",[e._v("save")]),e._v(" \n            Đồng ý\n            "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition",persistent:""},model:{value:e.dialogActionProcess,callback:function(t){e.dialogActionProcess=t},expression:"dialogActionProcess"}},[i("v-card",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validProcess,callback:function(t){e.validProcess=t},expression:"validProcess"}},[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.actionName))]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[i("v-icon",[e._v("clear")])],1),e.loadingActionProcess?i("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),i("v-card-text",{staticClass:"py-0 px-0"},[i("v-layout",{attrs:{wrap:""}},[e.dialogActionProcess&&e.showPhanCongNguoiThucHien?i("phan-cong",{attrs:{type:e.type_assign},model:{value:e.assign_items,callback:function(t){e.assign_items=t},expression:"assign_items"}}):e._e(),e.dialogActionProcess&&e.showYkienCanBoThucHien?i("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:e.userNote}}):e._e()],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.submitFormXuLy(e.dossierItemDialogPick,e.itemDialogPick,e.resultDialogPick,e.indexDialogPick,!1)}}},[i("v-icon",[e._v("save")]),e._v(" \n          Xác nhận\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),i("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[i("v-icon",[e._v("undo")]),e._v(" \n          Quay lại\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[i("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_statusAction,callback:function(t){e.dialog_statusAction=t},expression:"dialog_statusAction"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("\n        Trạng thái xử lý\n      ")]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[i("v-icon",[e._v("clear")])],1),i("v-card-text",{staticStyle:{"max-height":"350px"}},e._l(e.selected,function(t,n){return i("div",{key:t.dossierIdCTN},[i("v-layout",{staticClass:"py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd",position:"relative"},attrs:{wrap:""}},[i("v-flex",{attrs:{xs11:""}},[i("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[e._v(e._s(n+1)+".")]),i("div",{staticClass:"ml-4"},[i("span",{staticClass:"text-bold"},[e._v(e._s(t.dossierNo))]),e._v(" - "+e._s(t.serviceName))])]),i("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[t.statusAction?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{attrs:{slot:"activator",size:"20",color:"primary"},slot:"activator"},[e._v("\n                  check\n                ")]),i("span",[e._v("Thành công")])],1):i("v-tooltip",{attrs:{top:""}},[i("v-icon",{attrs:{slot:"activator",size:"20",color:"red darken-3"},slot:"activator"},[e._v("\n                  block\n                ")]),i("span",[e._v("Thất bại")])],1)],1)],1)],1)}),0),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.resend(t)}}},[i("v-icon",{attrs:{size:"20"}},[e._v("refresh")]),e._v(" \n          Thử lại\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),i("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[i("v-icon",[e._v("undo")]),e._v(" \n          Thoát\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_printGuide,callback:function(t){e.dialog_printGuide=t},expression:"dialog_printGuide"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("\n        Thông tin phiếu hướng dẫn hoàn thiện hồ sơ\n      ")]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_printGuide=!1}}},[i("v-icon",[e._v("clear")])],1),i("v-card-text",[i("v-form",{ref:"formGuide",attrs:{"lazy-validation":""},model:{value:e.validGuide,callback:function(t){e.validGuide=t},expression:"validGuide"}},[i("v-layout",{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[i("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[i("div",{staticClass:"my-2"},[e._v("Thủ tục hành chính:")]),i("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{items:e.listThuTucHanhChinh,placeholder:"Chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"Thủ tục bắt buộc phải chọn."}],required:""},on:{change:e.changeServiceConfigsGuide},model:{value:e.thuTucHanhChinhSelectedGuide,callback:function(t){e.thuTucHanhChinhSelectedGuide=t},expression:"thuTucHanhChinhSelectedGuide"}})],1),i("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[i("div",{staticClass:"my-2"},[e._v("Dịch vụ:")]),i("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{items:e.listDichVuGuide,placeholder:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"dịch vụ bắt buộc phải chọn."}],required:""},model:{value:e.dichVuSelectedGuide,callback:function(t){e.dichVuSelectedGuide=t},expression:"dichVuSelectedGuide"}})],1),i("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[i("div",{staticClass:"my-2"},[e._v("Tên người làm thủ tục:")]),i("v-text-field",{attrs:{placeholder:"Nhập tên người làm thủ tục",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.applicantNameGuide,callback:function(t){e.applicantNameGuide=t},expression:"applicantNameGuide"}})],1),i("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[i("div",{staticClass:"my-2"},[e._v("Địa chỉ:")]),i("v-text-field",{attrs:{placeholder:"Nhập địa chỉ",box:""},model:{value:e.applicantAddressGuide,callback:function(t){e.applicantAddressGuide=t},expression:"applicantAddressGuide"}})],1),i("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[i("div",{staticClass:"my-2"},[e._v("Thư điện tử:")]),i("v-text-field",{attrs:{box:"",placeholder:"Nhập thư điện tử"},model:{value:e.applicantEmailGuide,callback:function(t){e.applicantEmailGuide=t},expression:"applicantEmailGuide"}})],1),i("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[i("div",{staticClass:"my-2"},[e._v("Số điện thoại:")]),i("v-text-field",{attrs:{box:""},model:{value:e.applicantTelNoGuide,callback:function(t){e.applicantTelNoGuide=t},expression:"applicantTelNoGuide"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doGuiding()}}},[i("v-icon",[e._v("print")]),e._v("  \n          In phiếu hướng dẫn\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_extraForm,callback:function(t){e.dialog_extraForm=t},expression:"dialog_extraForm"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("\n        Điều chỉnh dữ liệu mã hồ sơ: "+e._s(e.selectedDoAction.length>0?e.selectedDoAction[e.selectedDoAction.length-1]["dossierNo"]:"")+"\n      ")]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_extraForm=!1}}},[i("v-icon",[e._v("clear")])],1),i("v-card-text",{staticClass:"px-0",attrs:{flat:""}},[i("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:e.dossierIdSelected,action_id:e.actionId,type:"dieuchinhdulieu"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.doChangeDossierExtraForm()}}},[i("v-icon",[e._v("save")]),e._v("  \n          Xác nhận\n        ")],1),i("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.dialog_extraForm=!1}}},[i("v-icon",[e._v("clear")]),e._v("  \n          Hủy\n        ")],1)],1)],1)],1)],1)},o=[],a=(i("28a5"),i("768b")),s=(i("f559"),i("a481"),i("c5f6"),i("795b")),r=i.n(s),c=(i("ac6a"),i("5df3"),i("f499")),l=i.n(c),d=(i("6b54"),i("7514"),i("20d6"),i("e814")),h=i.n(d),u=(i("cadf"),i("551c"),i("097d"),i("e4e5")),p=i("000e"),v=i("7121"),m=i("87c1"),g=i("bbd0"),f=i("d80f"),y=i("9029"),S={props:["index"],components:{"tiny-pagination":p["a"],"thong-tin-co-ban-ho-so":ThongTinCoBanHoSo,"phan-cong":v["a"],"tra-ket-qua":TraKetQua,"xac-nhan-thu-phi":XacNhanThuPhi,"thu-phi":ThuPhi,"y-kien-can-bo":m["a"],"template-rendering":u["a"],"form-bo-sung-thong-tin":f["a"]},data:function(){return{isAdminSuper:!1,actionId:"",dossierIdSelected:"",dossierCountingShow:!1,dossierCounting:[],advSearchToolsSelected:[],advSearchTools:g.advSearchTools,advSearchItems:[],advObjectSearch:{},menusss:!1,itemFilterSupport:{years:[{value:"",name:"Lọc theo năm"},{value:"2017",name:"năm 2017"},{value:"2018",name:"năm 2018"},{value:"2019",name:"năm 2019"}],year:"",months:[{value:"",name:"Lọc theo tháng"},{value:"1",name:"tháng 1"},{value:"2",name:"tháng 2"},{value:"3",name:"tháng 3"},{value:"4",name:"tháng 4"},{value:"5",name:"tháng 5"},{value:"6",name:"tháng 6"},{value:"7",name:"tháng 7"},{value:"8",name:"tháng 8"},{value:"9",name:"tháng 9"},{value:"10",name:"tháng 10"},{value:"11",name:"tháng 11"},{value:"12",name:"tháng 12"}],month:"",tops:[{value:"",name:"toàn bộ"},{value:"overdue",name:"hồ sơ đang quá hạn cần giải quyết"},{value:"delay",name:"chậm hạn trả"},{value:"coming",name:"sắp đến hạn"}],top:"",statusLists:[],status:"",substatusLists:[{itemCode:"",itemName:"toàn bộ"}],substatus:"",agencyLists:[],agency:"",serviceLists:[],service:"",domainLists:[],domain:"",keyword:"",register:""},itemFilterKey:["year","month","top","status","substatus","agency","service","domain","keyword","register"],menuType:0,type_assign:"",assign_items:[],returnFiles:[],payments:"",viaPortalDetail:0,countSelected:0,statusFailed:0,dialog_statusAction:!1,dialog_printGuide:!1,dialog_extraForm:!1,validGuide:!1,applicantNameGuide:"",applicantEmailGuide:"",applicantTelNoGuide:"",applicantAddressGuide:"",dossierSelected:[{dossierNo:"18ACE289",serviceName:"Đăng ký, cấp Giấy chứng nhận quyền sử dụng đất, quyền sở hữu nhà ở và tài sản khác gắn liền với đất lần đầu đối với tài sản gắn liền với đất mà chủ sở hữu không đồng thời là người sử dụng đất",statusAction:!1}],buttonConfigItem:{},textNote:"",thongtinhoso:{},dossierId:0,valid:!0,isCallBack:!0,trangThaiHoSoList:null,listDichVu:[],dichVuSelected:null,btnDynamics:[],btnDossierDynamics:[],btnStepsDynamics:[],loading:!0,headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,hosoTotalPage:0,selectedDoAction:[],selectMultiplePage:[],selected:[],listThuTucHanhChinh:[],listThuTuc:[],thuTucHanhChinhSelected:null,thuTucHanhChinhSelectedGuide:null,listLinhVuc:[],linhVucSelected:null,listDichVuGuide:[],dichVuSelectedGuide:null,templateNoGuide:"",domainCode:"",govAgencyCode:"",serviceCode:"",templateNo:"",dossierNoKey:"",searchKey:"",dialogAction:!1,loadingAction:!1,dialogActionProcess:!1,loadingActionProcess:!1,validProcess:!1,indexAction:-1,itemAction:{title:""},showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showXacNhanThuPhi:!1,showThuPhi:!1,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:null,itemDialogPick:null,resultDialogPick:null,indexDialogPick:0,userNote:0,dialogPDF:!1,dialogPDFLoading:!0,filterForm:null,checkSelectAll:!1,titleLanding:"",currentQueryState:""}},computed:{loadingDynamicBtn:function(){return this.$store.getters.loadingDynamicBtn},loadingTable:function(){return this.$store.getters.loadingTable},originality:function(){var e=this;return e.getOriginality()},currentUser:function(){return this.$store.getters.loadingInitData.user},activeLoadingDataHoSo:function(){return this.$store.getters.activeLoadingDataHoSo},viewMobile:function(){return y["isMobile"]}},created:function(){var e=this;e.selectMultiplePage=[],e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.$nextTick(function(){var t=e.$router.history.current.query,i=e.$router.history.current.query;e.currentQueryState=t,t.hasOwnProperty("page")&&"1"!==t["page"]?e.hosoDatasPage=h()(t["page"]):e.hosoDatasPage=1,e.setStateAdvSearch(i)})},updated:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.params,i=e.$router.history.current.query;e.currentQueryState=i,t.hasOwnProperty("index")&&e.isCallBack&&(e.isCallBack=!1,e.$store.commit("setLoadingDynamicBtn",!0),setTimeout(function(){e.$store.dispatch("loadMenuConfigToDo").then(function(t){e.btnDynamics=[],e.trangThaiHoSoList=t,e.menuType=h()(e.trangThaiHoSoList[e.index]["menuType"]),e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.processListTTHC(i),e.processListDomain(i),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("headers")&&(e.headers=e.trangThaiHoSoList[e.index]["tableConfig"]["headers"]),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("hideAction")&&(e.hideAction=e.trangThaiHoSoList[e.index]["tableConfig"]["hideAction"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("buttons")&&(e.btnDynamics=e.trangThaiHoSoList[e.index]["buttonConfig"]["buttons"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("layout_view")&&(e.filterForm=e.trangThaiHoSoList[e.index]["buttonConfig"]["layout_view"]);var n=[],o=[];for(var a in e.btnDynamics)e.btnDynamics[a].hasOwnProperty("onlySteps")?n.push(e.btnDynamics[a]):o.push(e.btnDynamics[a]);if(e.btnDynamics=[],e.btnDynamics=o,e.btnStepsDynamics=[],i.hasOwnProperty("step"))for(var s in e.trangThaiHoSoList[e.index]["items"]){var r=e.trangThaiHoSoList[e.index]["items"][s];if(String(r.stepCode)===String(i.step)){for(var c in n)for(var l=0;l<n[c].onlySteps.length;l++)String(n[c].onlySteps[l])===String(r.stepCode)&&e.btnDynamics.push(n[c]);break}}e.$store.commit("setLoadingDynamicBtn",!1)})},200))})},watch:{$route:function(e,t){var i=this,n=e.query,o=t.query;if(i.currentQueryState=n,n.hasOwnProperty("q")){i.btnDynamics=[],i.$store.commit("setLoadingDynamicBtn",!0),i.menuType=i.trangThaiHoSoList[i.index]["menuType"],i.checkSelectAll=3!==i.menuType&&1!==i.originality,i.headers=i.trangThaiHoSoList[i.index]["tableConfig"]["headers"],null!==i.trangThaiHoSoList[i.index]["tableConfig"]&&void 0!==i.trangThaiHoSoList[i.index]["tableConfig"]&&i.trangThaiHoSoList[i.index]["tableConfig"].hasOwnProperty("hideAction")&&(i.hideAction=i.trangThaiHoSoList[i.index]["tableConfig"]["hideAction"]),null!==i.trangThaiHoSoList[i.index]["buttonConfig"]&&void 0!==i.trangThaiHoSoList[i.index]["buttonConfig"]&&i.trangThaiHoSoList[i.index]["buttonConfig"].hasOwnProperty("buttons")&&(i.btnDynamics=i.trangThaiHoSoList[i.index]["buttonConfig"]["buttons"]),null!==i.trangThaiHoSoList[i.index]["buttonConfig"]&&void 0!==i.trangThaiHoSoList[i.index]["buttonConfig"]&&i.trangThaiHoSoList[i.index]["buttonConfig"].hasOwnProperty("layout_view")&&(i.filterForm=i.trangThaiHoSoList[i.index]["buttonConfig"]["layout_view"]);var a=[],s=[];for(var r in i.btnDynamics)i.btnDynamics[r].hasOwnProperty("onlySteps")?a.push(i.btnDynamics[r]):s.push(i.btnDynamics[r]);if(i.btnDynamics=[],i.btnDynamics=s,i.btnStepsDynamics=[],n.hasOwnProperty("step"))for(var c in i.trangThaiHoSoList[i.index]["items"]){var l=i.trangThaiHoSoList[i.index]["items"][c];if(String(l.stepCode)===String(n.step)){for(var d in a)for(var u=0;u<a[d].onlySteps.length;u++)String(a[d].onlySteps[u])===String(l.stepCode)&&i.btnDynamics.push(a[d]);break}}if(n.hasOwnProperty("page")?(i.hosoDatasPage=h()(n.page),n.page===o["page"]&&(i.selectMultiplePage=[])):(i.hosoDatasPage=1,i.selectMultiplePage=[]),i.$store.commit("setLoadingDynamicBtn",!1),null===i.listLinhVuc||void 0===i.listLinhVuc||null!==i.listLinhVuc&&void 0!==i.listLinhVuc&&0===i.listLinhVuc.length)i.processListDomain(n);else for(var p in i.listLinhVuc)String(i.listLinhVuc[p]["domainCode"])===String(n.domain)&&(i.linhVucSelected=i.listLinhVuc[p],i.domainCode=i.linhVucSelected["domainCode"]);null===i.listThuTucHanhChinh||void 0===i.listThuTucHanhChinh||null!==i.listThuTucHanhChinh&&void 0!==i.listThuTucHanhChinh&&0===i.listThuTucHanhChinh.length?i.processListTTHC(n):i.doLoadingDataHoSo(),i.setStateAdvSearch(n)}},activeLoadingDataHoSo:function(e){var t=this;setTimeout(function(){t.doLoadingDataHoSo()},100)},selectMultiplePage:{handler:function(e){var t=this;if(e.length>0)for(var i in t.selectedDoAction=[],e)t.selectedDoAction=t.selectedDoAction.concat(e[i]["selected"]);else t.selectedDoAction=[]},deep:!0}},methods:{toggleAll:function(){var e=this;if(e.getUser("Administrator"))e.selected.length?e.selected=[]:e.selected=e.hosoDatas;else{if(!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId)return;e.selected.length?e.selected=[]:e.selected=e.hosoDatas.filter(function(e){return 0!==e["assigned"]})}e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},getUser:function(e){var t=this,i=t.$store.getters.getUser.role,n=i.findIndex(function(t){return t===e});return n>=0},changeSelected:function(){var e=this;e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},setStateAdvSearch:function(e){var t=this;if(e.hasOwnProperty("adv_renew")){for(var i in t.advSearchItems=[],t.itemFilterKey)for(var n in e){if(t.itemFilterKey[i]===n&&e[n]){t.itemFilterSupport[t.itemFilterKey[i]]=e[n];break}t.itemFilterSupport[t.itemFilterKey[i]]=""}var o=function(e){var i=t.itemFilterKey[e],n=t.advSearchTools.find(function(e){return e.spec===i});if(t.itemFilterSupport[i])if("keyword"===i)t.advSearchItems.push({spec:i,value:i+":"+t.itemFilterSupport[i],text:i+":"+t.itemFilterSupport[i],index:-1});else if("year"===i){var o=t.advSearchItems.find(function(e){return"year_month"===e.spec});o?(o["value"]="year_month:"+t.itemFilterSupport[i]+"_"+t.itemFilterSupport["month"],o["text"]="year_month:"+t.itemFilterSupport[i]+"_"+t.itemFilterSupport["month"],o["index"]=0):t.advSearchItems.push({spec:"year_month",value:"year_month:"+t.itemFilterSupport[i]+"_"+t.itemFilterSupport["month"],text:"year_month:"+t.itemFilterSupport[i]+"_"+t.itemFilterSupport["month"],index:0})}else if("month"===i){var a=t.advSearchItems.find(function(e){return"year_month"===e.spec});a?(a["value"]="year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[i],a["text"]="year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[i],a["index"]=0):t.advSearchItems.push({spec:"year_month",value:"year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[i],text:"year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[i],index:0})}else t.advSearchItems.push({spec:i,value:i+":"+t.itemFilterSupport[i],text:i+":"+t.itemFilterSupport[i],index:n["index"]})};for(var a in t.itemFilterKey)o(a)}else t.advSearchItems=[];var s=function(e){t.advSearchTools[e].display=!1,t.advSearchTools[e].disabled=!1;var i=t.advSearchItems.find(function(i){return i.spec===t.advSearchTools[e].spec});i&&(t.advSearchTools[e].display=!0,t.advSearchTools[e].disabled=!0)};for(var r in t.advSearchTools)s(r)},resend:function(){var e=this;e.doActions(null,e.buttonConfigItem,null,!0)},closeDialogStatusAction:function(){var e=this;e.dialog_statusAction=!1,e.selectedDoAction=e.selectedDoAction.filter(function(e){return!e.statusAction})},submitFormXuLy:function(e,t,i,n,o){var a=this;if(a.showYkienCanBoThucHien){var s=a.$refs.ykiencanbo.doExport();s.valid&&(a.textNote=s.text,a.processAction(e,t,i,n,!1))}else a.processAction(e,t,i,n,!1)},processListTTHC:function(e){var t=this;t.$store.dispatch("loadListThuTucHanhChinh").then(function(i){if((!e.hasOwnProperty("domain")||e.hasOwnProperty("domain")&&""===String(e.domain))&&(t.listThuTucHanhChinh=i.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})),t.listThuTuc=i.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e}),e.hasOwnProperty("service_config")&&"0"!==String(e.service_config)){for(var n in t.listThuTucHanhChinh)if(String(t.listThuTucHanhChinh[n].serviceConfigId)===String(e.service_config)){if(t.thuTucHanhChinhSelected=t.listThuTucHanhChinh[n],null!==t.thuTucHanhChinhSelected&&void 0!==t.thuTucHanhChinhSelected&&t.thuTucHanhChinhSelected.hasOwnProperty("options"))if(t.govAgencyCode=t.thuTucHanhChinhSelected.govAgencyCode,t.serviceCode=t.thuTucHanhChinhSelected.serviceCode,e.hasOwnProperty("template_no"))for(var o in t.listDichVu=t.thuTucHanhChinhSelected.options,t.listDichVu)t.listDichVu[o].templateNo===e.template_no&&(t.dichVuSelected=t.listDichVu[o],t.templateNo=t.dichVuSelected.templateNo);else t.listDichVu=[],t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";break}}else t.thuTucHanhChinhSelected=null,t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";t.doLoadingDataHoSo()})},processListDomain:function(e){var t=this;t.$store.dispatch("getDomainLists").then(function(i){if(i.length>0&&(t.listLinhVuc=i.map(function(e){return e["displayName"]=e["domainCode"]+" - "+e["domainName"],e})),e.hasOwnProperty("domain")&&""!==String(e.domain)){for(var n in t.listLinhVuc)String(t.listLinhVuc[n]["domainCode"])===String(e.domain)&&(t.linhVucSelected=t.listLinhVuc[n],t.domainCode=t.linhVucSelected["domainCode"]);var o={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",o).then(function(e){t.listThuTucHanhChinh=e.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})}else t.linhVucSelected=null})},checkPemissionSpecialAction:function(e,t,i){var n=this,o=!0;if("PRINT_01"!==e&&"PRINT_02"!==e&&"PRINT_03"!==e&&"GUIDE"!==e&&"PREVIEW"!==e&&"BETIMES"!==e){var a=n.$store.getters.getUsersNextAction;if(a.length>0){var s=a.filter(function(e){if(void 0!==e&&void 0!==t)return e["userId"].toString()===t["userId"].toString()});o=s.length>0}else o=!1}return"ROLLBACK_01"!==e&&"ROLLBACK_02"!==e&&"ROLLBACK_03"!==e||(o=!1),o},paggingData:function(e){var t=this,i=t.$router.history.current,n=i.query,o="?";for(var a in n["page"]="",n)""!==n[a]&&"undefined"!==n[a]&&void 0!==n[a]&&(o+=a+"="+n[a]+"&");o+="page="+e.page,t.$router.push({path:i.path+o})},doLoadingDataHoSo:function(){var e=this;e.selected=[];var t=e.$router.history.current.query;if(console.log("currentQuery======",t),t.hasOwnProperty("q")){var i;i=t.q.indexOf("step")>0?t.q:t["step"]?t.q+"&step="+t["step"]:t.q;var n=null;if(3!==e.menuType)n={queryParams:i,page:e.hosoDatasPage,order:t.hasOwnProperty("order")?t.order:"",agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")&&t.keyword?t.keyword:e.searchKey,register:t.hasOwnProperty("register")?t.register:"",paymentStatus:t.hasOwnProperty("paymentStatus")?t.paymentStatus:"",dossierNo:e.dossierNoKey?e.dossierNoKey:""};else{var o=t.hasOwnProperty("status")&&"deleted"===t["status"]?-1:"";n={queryParams:i,page:e.hosoDatasPage,order:t.hasOwnProperty("order")?t.order:"",agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")&&t["status"]&&"deleted"!==t["status"]?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")&&t.keyword?t.keyword:"",register:t.hasOwnProperty("register")?t.register:"",paymentStatus:t.hasOwnProperty("paymentStatus")?t.paymentStatus:"",originality:t.hasOwnProperty("originality")&&t["originality"]?t.originality:o,dossierNo:e.dossierNoKey?e.dossierNoKey:""}}e.$store.dispatch("loadingDataHoSo",n).then(function(t){if(e.hosoDatas=t.data,e.hosoDatasTotal=t.total,e.hosoTotalPage=Math.ceil(e.hosoDatasTotal/15),e.hosoTotalPage>0&&0===e.selectMultiplePage.length){for(var i=0;i<e.hosoTotalPage;i++){var n={selected:[],page:i+1};e.selectMultiplePage.push(n)}console.log("selectMultiplePage",e.selectMultiplePage)}e.selected=e.selectMultiplePage[e.hosoDatasPage-1]["selected"]}).catch(function(t){e.hosoDatas=[],e.hosoDatasTotal=0})}3===e.menuType||"3"===String(e.menuType)?setTimeout(function(){e.$store.dispatch("loadingDossierCounting").then(function(t){if(null!==t&&void 0!==t){if(e.dossierCounting=t,e.getUser("Administrator_data")){var i={key:"deleted",title:"Hồ sơ đã xóa",count:0};e.dossierCounting.push(i)}}else e.dossierCounting=[];e.dossierCountingShow=!0})},200):e.dossierCountingShow=!1},changeServiceConfigs:function(e){var t=this;t.selectMultiplePage=[],null!==e&&"null"!==e&&e.hasOwnProperty("options")?this.listDichVu=e.options:this.listDichVu=[],null!==this.listDichVu&&void 0!==this.listDichVu&&"undefined"!==this.listDichVu&&this.listDichVu.length>0?(this.dichVuSelected=this.listDichVu[0],this.templateNo=this.dichVuSelected.templateNo):this.dichVuSelected=null;var i=t.$router.history.current,n=i.query,o="?";for(var a in n["service_config"]="",n["template_no"]="",n)"page"===a?o+=a+"=1&":""!==n[a]&&"undefined"!==n[a]&&void 0!==n[a]&&"step"!==a&&(o+=a+"="+n[a]+"&");-1===String(n["q"]).indexOf("&step")&&3!==t.menuType&&(o+="step="+n["step"]+"&"),null!==this.listDichVu&&void 0!==this.listDichVu&&"undefined"!==this.listDichVu&&this.listDichVu.length>0?(o+="service_config="+e.serviceConfigId,o+="&template_no="+this.dichVuSelected.templateNo,t.govAgencyCode=e.govAgencyCode,t.serviceCode=e.serviceCode):(t.templateNo="",t.govAgencyCode="",t.serviceCode=""),t.$router.push({path:i.path+o})},changeServiceConfigsGuide:function(e){null!==e&&"null"!==e&&e.hasOwnProperty("options")?this.listDichVuGuide=e.options:this.listDichVuGuide=[],null!==this.listDichVuGuide&&void 0!==this.listDichVuGuide&&"undefined"!==this.listDichVuGuide&&this.listDichVuGuide.length>0?(this.dichVuSelectedGuide=this.listDichVuGuide[0],this.templateNoGuide=this.dichVuSelectedGuide.templateNo):this.dichVuSelectedGuide=null},changeDomain:function(e){var t=this;t.selectMultiplePage=[],t.linhVucSelected=e,e?setTimeout(function(){var e={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",e).then(function(e){t.listThuTucHanhChinh=e.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})},100):t.listThuTucHanhChinh=t.listThuTuc,t.domainCode=null!==e?t.linhVucSelected["domainCode"]:"";var i=t.$router.history.current,n=i.query,o="?";for(var a in n["domain"]="",n)"page"===a?o+=a+"=1&":""!==n[a]&&"undefined"!==n[a]&&void 0!==n[a]&&"step"!==a&&(o+=a+"="+n[a]+"&");-1===String(n["q"]).indexOf("&step")&&3!==t.menuType&&(o+="step="+n["step"]+"&"),o+="domain="+t.domainCode,t.$router.push({path:i.path+o,query:{renew:Math.floor(100*Math.random())+1}})},changeDossierNoKey:function(){var e=this;e.selectMultiplePage=[],setTimeout(function(){e.dossierNoKey?(e.dossierNoKey.length>3||""===e.dossierNoKey)&&e.doLoadingDataHoSo():e.doLoadingDataHoSo()},200)},clearDossierNoKey:function(){this.dossierNoKey="",this.changeDossierNoKey()},changeDichVuConfigs:function(e){var t=this;t.selectMultiplePage=[];var i=t.$router.history.current,n=i.query,o="?";for(var a in n["template_no"]="",n)""!==n[a]&&"undefined"!==n[a]&&void 0!==n[a]&&(o+=a+"="+n[a]+"&");o+="template_no="+e.templateNo,t.templateNo=e.templateNo,t.$router.push({path:i.path+o})},btnActionEvent:function(e,t,i,n){var o=this;if(o.buttonConfigItem={},o.buttonConfigItem=t,o.itemAction=t,o.indexAction=i,"NEW"===String(t.form)){var a=!0;null!==o.dichVuSelected&&void 0!==o.dichVuSelected&&"undefined"!==o.dichVuSelected&&null!==o.listDichVu&&void 0!==o.listDichVu&&1===o.listDichVu.length&&(a=!1),a?o.dialogAction=!0:o.doCreateDossier()}else if("UPDATE"===String(t.form))o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+e.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query});else if("ADD"===String(t.form))o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/bo-sung-ho-so/"+e.dossierId,query:o.$router.history.current.query});else if("COPY"===String(t.form))o.doCopy(e,t,i,n);else if("CANCEL"===String(t.form))o.doCancel(e,t,i,n);else if("PRINT_01"===String(t.form))o.doPrint01(e,t,i,n);else if("PRINT_02"===String(t.form))o.doPrint02(e,t,i,n);else if("PRINT_03"===String(t.form))o.doPrint03(e,t,i,n);else if("GUIDING"===String(t.form))o.dialog_printGuide=!0;else if("PREVIEW"===String(t.form))o.doPreview(e,t,i,n);else if("ACTIONS"===String(t.form))o.doActions(e,t,i,n);else if("DELETE"===String(t.form))o.doDeleteDossier(e,t,i,n);else if("ROLLBACK_01"===String(t.form)){var s={actionCode:9e3};o.processAction(e,t,s,i,!0)}else if("ROLLBACK_02"===String(t.form)){var r={actionCode:9e3};o.processAction(e,t,r,i,!0)}else if("OVERDUE"===String(t.form)){var c={actionCode:8500,dossierId:e.dossierId,overdue:e["extendDate"]};o.processPullBtnDetailRouter(e,null,c,null,8500)}else if("PREOVERDUE"===String(t.form)){var l={actionCode:8501,dossierId:e.dossierId,preoverdue:e["extendDate"]};o.processPullBtnDetailRouter(e,null,l,null,8501)}else if("BETIMES"===String(t.form)){var d={actionCode:8400,dossierId:e.dossierId,betimes:e["extendDate"]};o.processPullBtnDetailRouter(e,null,d,null,8400)}else if("CHANGE_DATA_DOSSIER"===String(t.form))o.doChangeDossier(e,t,i,n);else if("UNDO_DOSSIER"===String(t.form))o.doUndoDossier(e,t,i,n);else if("RESTORE_DOSSIER"===String(t.form))o.doRestoreDossier(e,t,i,n);else if("GOTO_DONE"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var h={actionCode:4e3};o.processAction(e,t,h,i,!0)}else if("GOTO_CANCEL"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var u={actionCode:4100};o.processAction(e,t,u,i,!0)}else if("GOTO_DENY"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var p={actionCode:4200};o.processAction(e,t,p,i,!0)}},doPrint01:function(e,t,i,n){var o=this;o.dialogPDFLoading=!0,o.dialogPDF=!0;var a={dossierId:e.dossierId,document:t.document};o.$store.dispatch("doPrint01",a).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doPrint02:function(e,t,i,n){var o=this;if(console.log("vm.selectedDoAction",o.selectedDoAction),null===o.thuTucHanhChinhSelected||void 0===o.thuTucHanhChinhSelected||"undefined"===o.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var a={document:t.document,serviceCode:o.thuTucHanhChinhSelected.serviceCode,govAgencyCode:o.thuTucHanhChinhSelected.govAgencyCode,dossiers:l()(o.selectedDoAction)};o.dialogPDFLoading=!0,o.dialogPDF=!0,o.$store.dispatch("doPrint02",a).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},doPrint03:function(e,t,i,n){var o=this;o.dialogPDFLoading=!0,o.dialogPDF=!0;var a={dossierId:e.dossierId,document:t.document};o.$store.dispatch("doPrint03",a).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doGuiding:function(){var e=this;if(e.$refs.formGuide.validate()){e.loadingAction=!0;var t={serviceConfigId:e.thuTucHanhChinhSelectedGuide.serviceConfigId,serviceCode:e.thuTucHanhChinhSelectedGuide.serviceCode,serviceName:e.thuTucHanhChinhSelectedGuide.serviceName,templateNo:e.templateNoGuide,applicantName:e.applicantNameGuide,applicantAddress:e.applicantAddressGuide,applicantEmail:e.applicantEmailGuide,applicantTelNo:e.applicantTelNoGuide,employeeName:window.themeDisplay.getUserName()?window.themeDisplay.getUserName():"",typeCode:"DOC_03"};e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("doGuiding",t).then(function(t){e.loadingAction=!1,e.dialog_printGuide=!1,e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t}).catch(function(){e.loadingAction=!1})}},doPreview:function(e,t,i,n){var o=this;o.dialogPDFLoading=!0,o.dialogPDF=!0;var a={dossierId:e.dossierId,document:t.document};o.$store.dispatch("doPrint03",a).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doActions:function(e,t,i,n){var o=this;o.$router.history.current.query,t.action;if(n)if(o.countSelected=0,1===o.selectedDoAction.length)for(var a in o.selectedDoAction){var s=o.selectedDoAction[a];o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/chi-tiet-ho-so/"+s["dossierId"],query:{activeTab:"tabs-1",btnIndex:null}})}else o.selectedDoAction.length>1?o.$store.dispatch("loadActionActive",t).then(function(){o.$store.dispatch("loadDossierSelected",o.selectedDoAction).then(function(){var e=o.selectedDoAction.map(function(e){return e.dossierId}).join(","),i=o.$router.history.current.query;i["dossiers"]=e,i["actionActive"]=l()(t),o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/xu-ly-ho-so",query:i})})}):alert("Chọn hồ sơ để thao tác")},doCopy:function(e,t,i,n){var o=this,a={dossierId:e.dossierId};o.loadingAction=!0,o.$store.dispatch("doCopy",a).then(function(e){o.loadingAction=!1,o.indexAction=-1,o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+e.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query})}).catch(function(e){o.loadingAction=!1})},doCancel:function(e,t,i,n){var o=this;if(o.loadingAction=!0,n);else{var a={dossierId:e.dossierId};o.$store.dispatch("doCancel",a).then(function(e){o.loadingAction=!1,o.indexAction=-1,o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+e.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query})}).catch(function(e){o.loadingAction=!1})}},doChangeDossier:function(e,t,i,n){var o=this;o.$router.history.current.query;if(n)if(o.selectedDoAction.length>0){var a=o.selectedDoAction.length;o.actionId=9100,o.dossierIdSelected=o.selectedDoAction[a-1].dossierId,o.dialog_extraForm=!0}else alert("Chọn hồ sơ để thực hiện")},doUndoDossier:function(e,t,i,n){var o=this;o.$router.history.current.query;if(o.selectedDoAction.length>0){var a=o.selectedDoAction.length,s=confirm("Xác thực Undo hồ sơ với mã: "+o.selectedDoAction[a-1].dossierNo);if(s){var r={dossierId:o.selectedDoAction[a-1].dossierId};o.$store.dispatch("rollBack",r).then(function(e){setTimeout(function(){o.doLoadingDataHoSo()},300)}).catch(function(){setTimeout(function(){o.doLoadingDataHoSo()},300)})}}else alert("Chọn hồ sơ để thực hiện")},doChangeDossierExtraForm:function(){var e=this,t=e.$refs.formBoSungThongTinNgan.checkValid();if(t){var i=e.$refs.formBoSungThongTinNgan.formSubmitData(),n=confirm("Bạn có chắc chắn thực hiện hành động điều chỉnh dữ liệu?");if(n){var o=e.selectedDoAction.length,a={dossierId:e.selectedDoAction[o-1].dossierId,actionCode:e.actionId,payload:i};e.$store.dispatch("processDossierRouter",a).then(function(t){e.doLoadingDataHoSo(),e.dialog_extraForm=!1}).catch(function(){e.dialog_extraForm=!1,e.doLoadingDataHoSo()})}}},doRestoreDossier:function(){var e=this,t=confirm("Bạn có chắc chắn thực hiện hành động khôi phục hồ sơ?");t&&(e.selectedDoAction.length>0?function(){var t=0,i=e.selectedDoAction.length;for(var n in e.selectedDoAction){var o={dossierId:e.selectedDoAction[n]["dossierId"]};console.log("filter Restore",o),e.selectedDoAction[n]["originality"]&&e.$store.dispatch("restoreDossier",o).then(function(n){t+=1,t===i&&e.doLoadingDataHoSo()}).catch(function(){t+=1,t===i&&e.doLoadingDataHoSo()})}}():alert("Chọn hồ sơ để thực hiện"))},doDeleteDossier:function(e,t,i,n){var o=this,a=confirm("Bạn có chắc chắn thực hiện hành động xóa hồ sơ?");if(!a)return!1;var s=o.$router.history.current.query;if(n){var r={dossierId:0};if(o.selectedDoAction.length>0){var c=[];for(var l in o.selectedDoAction)c.push(o.selectedDoAction[l]["dossierId"]);r["dossierId"]=c,o.$store.dispatch("deleteDossierPatch",r).then(function(e){})}else alert("Chọn hồ sơ để thực hiện")}else{var d={dossierId:e.dossierId};o.$store.dispatch("deleteDossier",d).then(function(e){o.dialogActionProcess=!1,o.loadingActionProcess=!1,o.$router.push({path:o.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:s["q"]}})})}},doCreateDossier:function(){var e=this,t={serviceCode:e.serviceCode,govAgencyCode:e.govAgencyCode,templateNo:e.templateNo,originality:e.getOriginality()};e.$store.commit("setDataCreateDossier",t),e.loadingAction=!0,e.$store.dispatch("postDossier",t).then(function(t){e.loadingAction=!1,e.indexAction=-1,e.$router.push({path:"/danh-sach-ho-so/"+e.index+"/ho-so/"+t.dossierId+"/"+e.itemAction.form,query:e.$router.history.current.query})}).catch(function(t){e.loadingAction=!1})},doSubmitDialogAction:function(e){var t=this;t.$refs.form.validate()&&t.doCreateDossier()},processPullBtnDynamics:function(e){var t=this;t.btnDossierDynamics=[];var i={dossierId:e.dossierId,dossierStatus:e.dossierStatus,dossierSubStatus:e.dossierSubStatus};if(t.dossierId=e.dossierId,""===e.dossierStatus||""===e.dossierSubStatus)t.$store.dispatch("pullNextactions",i).then(function(e){t.btnDossierDynamics=e});else{t.btnStepsDynamics=[];var n=[t.$store.dispatch("pullNextactions",i),t.$store.dispatch("pullBtnConfigStep",i)];r.a.all(n).then(function(e){t.btnDossierDynamics=e[0],t.btnStepsDynamics=e[1]}).catch(function(e){t.$store.dispatch("pullNextactions",i).then(function(e){t.btnDossierDynamics=e})})}},processAction:function(e,t,i,n,o){var a=this,s=null;a.payments&&(s={requestPayment:a.payments["requestPayment"],advanceAmount:Number(a.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(a.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(a.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(a.payments["shipAmount"].toString().replace(/\./g,""))});var r={dossierId:e.dossierId,actionCode:i.actionCode,toUsers:a.assign_items,payment:s,userNote:a.textNote?a.textNote:""};a.dossierId=e.dossierId;var c=a.$router.history.current.query,l="?";for(var d in c["recount"]=Math.floor(100*Math.random())+1,c["renew"]=Math.floor(100*Math.random())+1,c)""!==c[d]&&"undefined"!==c[d]&&void 0!==c[d]&&(l+=d+"="+c[d]+"&");if(a.loadingActionProcess=!0,o){var h=confirm("Bạn có muốn thực hiện hành động này?");if(!h)return!1;a.$store.dispatch("processDossierRouter",r).then(function(e){a.dialogActionProcess=!1,a.loadingActionProcess=!1,a.$router.push({path:a.$router.history.current.path+l})})}else e.statusAction||a.$store.dispatch("processCheckNextActions",r).then(function(e){a.$store.dispatch("processDossierRouter",e).then(function(e){a.dialogActionProcess=!1,a.loadingActionProcess=!1,"ACTIONS"===String(t.form)?(a.hosoDatas.splice(n,1),a.selectedDoAction[n].statusAction=!0,a.countSelected+=1,a.countSelected===a.selectedDoAction.length&&a.statusFailed>0&&a.selectedDoAction.length>1?a.dialog_statusAction=!0:a.countSelected===a.selectedDoAction.length&&0===a.statusFailed&&a.$router.push({path:a.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:c["q"]}})):a.$router.push({path:a.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:c["q"]}})}).catch(function(){a.loadingActionProcess=!1,"ACTIONS"===String(t.form)&&(a.countSelected+=1,a.statusFailed+=1,a.selectedDoAction[n].statusAction=!1,a.countSelected===a.selectedDoAction.length&&a.statusFailed>0&&a.selectedDoAction.length>1&&(a.dialog_statusAction=!0))})})},processPullBtnDetailRouter:function(e,t,i,n,o){var a=this,s=!1;if(a.dossierId=e.dossierId,a.showYkienCanBoThucHien=!1,a.showFormBoSungThongTinNgan=!1,a.showPhanCongNguoiThucHien=!1,a.showTaoTaiLieuKetQua=!1,a.showKyPheDuyetTaiLieu=!1,a.showTraKetQua=!1,a.showXacNhanThuPhi=!1,a.showThuPhi=!1,a.showThucHienThanhToanDienTu=!1,a.dossierItemDialogPick=e,a.itemDialogPick=t,a.resultDialogPick=i,a.indexDialogPick=n,a.userNote=0,null!==i&&void 0!==i&&"undefined"!==i&&(i.hasOwnProperty("userNote")||i.hasOwnProperty("extraForm")||i.hasOwnProperty("allowAssignUser")||i.hasOwnProperty("createFiles")||i.hasOwnProperty("eSignature")||i.hasOwnProperty("returnFiles")||i.hasOwnProperty("payment")||i.hasOwnProperty("overdue")||i.hasOwnProperty("betimes"))){if(!i.hasOwnProperty("userNote")||1!==i.userNote&&"1"!==i.userNote&&2!==i.userNote&&"2"!==i.userNote||(s=!0,a.showYkienCanBoThucHien=!0,a.userNote=i.userNote),i.hasOwnProperty("extraForm")&&i.extraForm&&(s=!0,a.showFormBoSungThongTinNgan=!0),i.hasOwnProperty("allowAssignUser")&&0!==i.allowAssignUser&&(a.assign_items=i.toUsers,a.type_assign=i.allowAssignUser,s=!0,a.showPhanCongNguoiThucHien=!0),i.hasOwnProperty("returnFiles")&&null!==i.createFiles&&void 0!==i.createFiles&&"undefined"!==i.createFiles&&i.createFiles.length>0&&(s=!0,a.showTaoTaiLieuKetQua=!0),i.hasOwnProperty("eSignature")&&i.eSignature&&(s=!0,a.showKyPheDuyetTaiLieu=!0),i.hasOwnProperty("returnFiles")&&null!==i.returnFiles&&void 0!==i.returnFiles&&"undefined"!==i.returnFiles&&i.returnFiles.length>0&&(s=!0,a.showTraKetQua=!0,a.returnFiles=i.returnFiles),i.hasOwnProperty("payment")&&null!==i.payment&&void 0!==i.payment&&"undefined"!==i.payment&&i.payment.requestPayment>0)if(2===i.payment.requestPayment||"2"===i.payment.requestPayment){s=!0;var r={dossierId:a.dossierId};a.$store.dispatch("loadDossierPayments",r).then(function(e){a.paymentProfile=e}).catch(function(e){})}else s=!0,a.showThuPhi=!0,a.payments=i.payment,a.viaPortalDetail=e.viaPostal;i.hasOwnProperty("overdue")&&(s=!0),i.hasOwnProperty("betimes")&&(s=!0)}if(s){var c={activeTab:"tabs-1",btnIndex:o};a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/chi-tiet-ho-so/"+e["dossierId"],query:c})}else a.processAction(e,t,i,n,!0)},processPullBtnDetail:function(e,t,i,n){var o=this;if(1===t["enable"]||"special"===t["autoEvent"]){o.itemAction=t;var a={dossierId:e.dossierId,actionId:t.processActionId};o.dossierId=e.dossierId,o.loadingActionProcess=!0,o.$store.dispatch("processPullBtnDetail",a).then(function(a){o.processPullBtnDetailRouter(e,t,a,i,n)})}},goBack:function(){window.history.back()},viewDetail:function(e,t){var i=this;console.log("permission: ",e.permission),null!==e.permission&&""!==e.permission&&i.$router.push("/danh-sach-ho-so/"+this.index+"/chi-tiet-ho-so/"+e["dossierId"])},keywordEventChange:function(e){var t=this;for(var i in t.selectMultiplePage=[],console.log("keywordEventChange",e),t.advObjectSearch={},e)if("string"===typeof e[i]&&null!==e[i]&&void 0!==e[i]&&"undefined"!==e[i])if(e[i].startsWith("keyword:")||e[i].startsWith("year_month:")||e[i].startsWith("top:")||e[i].startsWith("status:")||e[i].startsWith("substatus:")||e[i].startsWith("agency:")||e[i].startsWith("service:")||e[i].startsWith("domain:")||e[i].startsWith("register:")||(t.advObjectSearch["keyword"]=e[i]),e[i].startsWith("keyword:"))t.advObjectSearch["keyword"]=e[i].replace("keyword:","");else for(var n in t.advSearchItems)e[i].startsWith(t.advSearchItems[n].spec+":")&&(t.advObjectSearch[t.advSearchItems[n].spec]=e[i].replace(t.advSearchItems[n].spec+":",""));else{var o=e[i].value;t.advObjectSearch[e[i].spec]=o.replace(e[i].spec+":","")}for(var a in t.advSearchItems=[],t.advObjectSearch)if(t.advObjectSearch.hasOwnProperty(a)){var s=t.advObjectSearch[a];if("string"===typeof s&&null!==s&&void 0!==s&&""!==s)if("keyword"===a)t.advSearchItems.push({spec:a,value:a+":"+s,text:a+":"+s,index:-1});else{var r=-2;for(var c in t.advSearchTools)if(t.advSearchTools[c].spec===a){r=t.advSearchTools[c].index;break}t.advSearchItems.push({spec:a,value:a+":"+s,text:a+":"+s,index:r})}else"string"!==typeof s&&null!==s&&void 0!==s&&""!==s&&t.advSearchItems.push({spec:a,value:a+":"+s.value,text:a+":"+s.value,index:a+":"+s.index})}for(var l in t.advSearchTools)t.advSearchTools[l].display=!1,t.advSearchTools[l].disabled=!1,null!==t.advObjectSearch[t.advSearchTools[l].spec]&&void 0!==t.advObjectSearch[t.advSearchTools[l].spec]&&""!==t.advObjectSearch[t.advSearchTools[l].spec]&&(t.advSearchTools[l].display=!0,t.advSearchTools[l].disabled=!0);console.log("vm.advSearchItems",t.advSearchItems),t.doRedirectFilter()},selectedAdvFilter:function(e){var t=this;t.advSearchTools[e.index].display=!0,t.advSearchTools[e.index].disabled=!0;var i=!1;for(var n in t.advSearchItems)if(t.advSearchItems[n].index===e.index){i=!0;break}i||t.advSearchItems.push({spec:t.advSearchTools[e.index].spec,value:t.advSearchTools[e.index].spec+":__",text:t.advSearchTools[e.index].spec+":__",index:e.index})},showAdvFilter:function(){var e=this;e.menusss=!e.menusss,e.$store.dispatch("getStatusLists").then(function(t){e.itemFilterSupport.statusLists=t;var i={itemCode:"deleted",itemName:"Đã xóa"};e.getUser("Administrator_data")&&e.itemFilterSupport.statusLists.push(i)});var t={itemCode:""};e.$store.dispatch("getSubstatusLists",t).then(function(t){e.itemFilterSupport.substatusLists=t}),e.$store.dispatch("getAgencyLists").then(function(t){e.itemFilterSupport.agencyLists=t}),e.$store.dispatch("getServiceLists").then(function(t){e.itemFilterSupport.serviceLists=t}),e.$store.dispatch("getDomainLists").then(function(t){e.itemFilterSupport.domainLists=t})},changeAdvFilterData:function(e,t,i){var n=this;if(console.log("data change advSearch",e,t,i),"status"===t){var o={itemCode:e};n.$store.dispatch("getSubstatusLists",o).then(function(e){n.itemFilterSupport.substatusLists=e})}var a=e;for(var s in"year"===t?(n.itemFilterSupport.year=e,a=n.itemFilterSupport.year+"_"+n.itemFilterSupport.month,t="year_month"):"month"===t?(n.itemFilterSupport.month=e,a=n.itemFilterSupport.year+"_"+n.itemFilterSupport.month,t="year_month"):n.itemFilterSupport[t]=e,n.advSearchItems)if(console.log("adv Search index",n.advSearchItems[s].index),n.advSearchItems[s].index===i){console.log("vm.itemFilterSupport2",n.itemFilterSupport),n.advSearchItems[s].value=t+":"+a,n.advSearchItems[s].text=t+":"+a;break}n.doRedirectFilter()},doRedirectFilter:function(){var e=this;e.selectMultiplePage=[];var t=e.$router.history.current,i=t.query,n="?";for(var o in i)""!==i[o]&&"undefined"!==i[o]&&void 0!==i[o]&&"top"!==o&&"status"!==o&&"substatus"!==o&&"agency"!==o&&"service"!==o&&"domain"!==o&&"register"!==o&&"year"!==o&&"month"!==o&&"adv_renew"!==o&&"keyword"!==o&&(n+=o+"="+i[o]+"&");for(var s in e.advSearchItems){var r=e.advSearchItems[s];if("year_month"===r.spec){var c=r.text.replace(r.spec+":",""),l=c.split("_"),d=Object(a["a"])(l,2),h=d[0],u=d[1];n+="year="+h+"&month="+u+"&"}else console.log("currentItemFilter.spec",r.text.replace(r.spec+":","")),n+=r.spec+"="+r.text.replace(r.spec+":","")+"&"}n+="adv_renew="+Math.floor(100*Math.random())+1,n=n.replace(/=__/g,"="),e.$router.push({path:t.path+n})},changeAdvFilterDataChips:function(e){var t=this,i=-2;for(var n in t.advSearchTools)"delay"===e.key||"overdue"===e.key||"coming"===e.key?"top"===t.advSearchTools[n]["spec"]&&(i=t.advSearchTools[n]["index"],t.advSearchTools[n].display=!0,t.advSearchTools[n].disabled=!0):"status"===t.advSearchTools[n]["spec"]&&(i=t.advSearchTools[n]["index"],t.advSearchTools[n].display=!0,t.advSearchTools[n].disabled=!0);var o="";o="delay"===e.key||"overdue"===e.key||"coming"===e.key?"top":"status";var a=!0;for(var s in t.advSearchItems)if("status"===t.advSearchItems[s]["spec"]){if("delay"!==e.key&&"overdue"!==e.key&&"coming"!==e.key){t.advSearchItems[s].value="status:"+e.key,t.advSearchItems[s].text="status:"+e.key,a=!1;break}}else if("top"===t.advSearchItems[s]["spec"]&&("delay"===e.key||"overdue"===e.key||"coming"===e.key)){t.advSearchItems[s].value="top:"+e.key,t.advSearchItems[s].text="top:"+e.key,a=!1;break}a&&t.advSearchItems.push({spec:o,value:o+":"+e.key,text:o+":"+e.key,index:i}),t.doRedirectFilter()},validate:function(){return!0},callback:function(e){e?alert(e):alert("please check you are not robot")}}},_=S,b=i("2877"),C=Object(b["a"])(_,n,o,!1,null,null,null);t["default"]=C.exports},e4e5:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!==e.layout_view&&void 0!==e.layout_view&&"undefined"!==e.layout_view?i("my-dynamic-view"):e._e()},o=[],a=i("8a22"),s=a["a"],r=i("2877"),c=Object(r["a"])(s,n,o,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-c6b10756.js.map