(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25afc45a"],{"0838":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Ngày hẹn trả\n      ")]),i("v-card",[i("v-card-text",[i("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[i("v-icon",{staticClass:"hover-pointer",attrs:{color:"primary"},on:{click:t.showDatePicker}},[t._v("event")]),i("vue-ctk-date-time-picker",{ref:"datepicker",staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0,formatted:"DD/MM/YYYY HH:mm",label:t.dueDateInput?"":"Chọn ngày","min-date":t.minDate},model:{value:t.dueDateInput,callback:function(e){t.dueDateInput=e},expression:"dueDateInput"}})],1)],1)],1)],1)],1)],1)},s=[],n=(i("6b54"),i("f576"),i("e30a")),o=i.n(n),r={components:{"vue-ctk-date-time-picker":o.a},props:["dueDateEdit"],data:function(){return{dueDateInput:"",minDate:null}},created:function(){var t=this;t.dueDateInput=t.dueDateEdit?t.formatDateInput(t.dueDateEdit):"",console.log("dueDateInput",t.dueDateInput)},watch:{},mounted:function(){this.dueDateInput=this.dueDateEdit?this.formatDateInput(this.dueDateEdit):"",console.log("dueDateInput",this.dueDateInput),this.minDate=this.getCurentDateTime("date")},methods:{getDateInput:function(){var t=this;console.log("vm.dueDateInput",t.dueDateInput);var e=t.dueDateInput?new Date(t.dueDateInput).getTime():"";return e},getCurentDateTime:function(t){var e=new Date;return"datetime"===t?"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):"date"===t?"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")):void 0},formatDateInput:function(t){return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()}}},l=r,c=i("2877"),d=Object(c["a"])(l,a,s,!1,null,null,null);e["a"]=d.exports},1136:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Thông tin chung hồ sơ")]),i("v-card",[i("v-card-text",{staticClass:"py-0"},[i("v-layout",{staticClass:"px-2 py-2",attrs:{wrap:""}},[1!==t.originality?i("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Chủ hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.applicantName))])]),i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("span",{staticClass:"pr-2"},[t._v("Địa chỉ: ")]),i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)),t.thongTinChiTietHoSo.wardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()]),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)),t.thongTinChiTietHoSo.wardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()])])],1),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("v-menu",{staticStyle:{position:"relative !important"},attrs:{"offset-y":""}},[i("span",{staticClass:"pr-2",attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  Thông tin người nộp\n                  "),i("v-icon",{staticStyle:{position:"absolute",right:"-12px",top:"-2px"},attrs:{color:"blue",size:"22"}},[t._v("arrow_drop_down")])],1),i("v-list",{staticClass:"px-3 py-2"},[i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Tên người nộp:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                      "+t._s(t.thongTinChiTietHoSo.applicantName)+"\n                    ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateName)+" ")])]),i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Địa chỉ:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                      "+t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)+"\n                      "),t.thongTinChiTietHoSo.wardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                      "+t._s(t.thongTinChiTietHoSo.delegateAddress)+" "+t._s(t.thongTinChiTietHoSo.delegateWardName)+"\n                      "),t.thongTinChiTietHoSo.delegateWardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.delegateDistrictName)+", "+t._s(t.thongTinChiTietHoSo.delegateCityName))]):t._e()])]),i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Thư điện tử:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateEmail)+" ")])]),i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Số điện thoại:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateTelNo)+" ")])])])],1)],1)]):t._e(),1===t.originality?i("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Cơ quan: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.govAgencyName)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])])]):t._e(),1!==t.originality?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[t.thongTinChiTietHoSo.online?i("span",{staticClass:"pr-2"},[t._v("Ngày gửi trực tuyến: ")]):i("span",{staticClass:"pr-2"},[t._v("Ngày nộp hồ sơ: ")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Thời hạn giải quyết: ")]),t.thongTinChiTietHoSo.durationCount>0?i("span",{staticClass:"pl-0 text-bold "},[t._v(" \n                "+t._s(t.durationText(t.thongTinChiTietHoSo.durationUnit,t.thongTinChiTietHoSo.durationCount))+" làm việc \n              ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v("\n                Không quy định\n              ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]):i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[t.thongTinChiTietHoSo.online?i("span",{staticClass:"pr-2"},[t._v("Ngày gửi trực tuyến: ")]):i("span",{staticClass:"pr-2"},[t._v("Ngày nộp hồ sơ: ")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]),1!==t.originality?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),t.thongTinChiTietHoSo.originDossierNo?i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Hồ sơ gốc: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.originDossierNo)+" ")])]):t._e(),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])]),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n              Ghi chú:\n            ")]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.dossierNote)+" ")]),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNote)+" ")])])],1):t._e(),t.thongTinChiTietHoSo["groupDossierId"]?i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Nhóm hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold",style:t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?"cursor: pointer; color: #0072bc":"",attrs:{title:t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?"Chi tiết nhóm hồ sơ":""},on:{click:t.detailGroup}},[t._v("\n                "+t._s(t.groupDossierName)+"\n              ")])]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n              Ghi chú:\n            ")]):t._e()]):i("v-flex",{attrs:{xs12:"",sm4:""}},[t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n              Ghi chú:\n            ")]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.dossierNote)+" ")]),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNote)+" ")])])],1):t._e(),t.thongTinChiTietHoSo.extendDate?i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pl-0 text-bold"},[t._v("Hẹn lại: "+t._s(t.thongTinChiTietHoSo.extendDate))])]):t._e()])],1)],1)],1)],1)],1)},s=[],n=(i("6b54"),i("f576"),{props:{detailDossier:{type:Object,default:function(){}}},watch:{detailDossier:function(t){var e=this;e.thongTinChiTietHoSo=t,e.thongTinChiTietHoSo["groupDossierId"]&&e.$store.dispatch("getDetailDossier",e.thongTinChiTietHoSo["groupDossierId"]).then(function(t){e.groupDossierNo=t["dossierNo"],e.groupDossierName=t["dossierName"]})}},components:{},data:function(){return{thongTinChiTietHoSo:{},groupDossierNo:"",groupDossierName:"",showContactDetail:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()}},created:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier,t.thongTinChiTietHoSo["groupDossierId"]&&t.$store.dispatch("getDetailDossier",t.thongTinChiTietHoSo["groupDossierId"]).then(function(e){t.groupDossierNo=e["dossierNo"],t.groupDossierName=e["dossierName"]})},mounted:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier},methods:{initData:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t,console.log("thongTinChiTietHoSo",e.thongTinChiTietHoSo)})},goBack:function(){window.history.back()},durationText:function(t,e){var i;if(1===t&&e>8){var a,s=Math.floor(e/8)+" ngày";a=e%8!==0?8*(e/8-Math.floor(e/8))+" giờ":"",i="".concat(s," ").concat(a)}else 0===t?i=e+" ngày":1===t&&e<=8&&(i=e+" giờ");return i},detailGroup:function(){var t=this;t.thongTinChiTietHoSo["permission"].indexOf("write")>=0&&t.$router.push("/danh-sach-ho-so/0/nhom-ho-so/"+t.thongTinChiTietHoSo["groupDossierId"])}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}}}),o=n,r=i("2877"),l=Object(r["a"])(o,a,s,!1,null,null,null);e["a"]=l.exports},"24fb":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" Kết quả xử lý\n      ")]),i("v-card",t._l(t.createFiles,function(e,a){return i("div",{key:e.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[i("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:t.currentFormView==="formAlpaca"+e.partNo+t.id?[!0]:[!1]}},[i("v-expansion-panel-content",{attrs:{"hide-actions":""}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[i("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(i){t.loadAlpcaFormClick(e)}}},[i("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[i("span",{staticClass:"text-bold"},[t._v(t._s(a+1)+".")]),t._v("  ")]),i("div",{staticClass:"header__tphs"},[t._v("\n                      "+t._s(e.partName)+" "),e.required?i("span",{staticStyle:{color:"red"}},[t._v(" (*)")]):t._e(),t._v("\n                        \n                      "),e.hasForm?i("span",{staticStyle:{color:"#004b94"}},[t._v("(Bản khai trực tuyến)")]):t._e(),t._v("\n                        \n                      ")])]),t._l(t.dossierFilesItems,function(a,s){return e.partNo+t.id!==a.dossierPartNo+t.id||a.eForm?t._e():i("div",{key:s+"cr"},[i("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"25px","font-size":"12px"}},[i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(a)}}},[i("v-icon",{staticClass:"mr-1",attrs:{color:t.getDocumentTypeIcon(a.fileType)["color"],size:t.getDocumentTypeIcon(a.fileType)["size"]}},[t._v("\n                          "+t._s(t.getDocumentTypeIcon(a.fileType)["icon"])+"\n                        ")]),t._v("\n                        "+t._s(a.displayName)+" - \n                        "),i("i",[t._v(t._s(a.modifiedDate))])],1),i("v-btn",{staticClass:"mx-0 my-0",attrs:{title:"Xóa",icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(a,s)}}},[i("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1),7===a["dossierPartType"]?i("v-btn",{staticClass:"mx-0 my-0",attrs:{title:"Đính kèm cho hồ sơ khác",icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.attachOtherDossier(a)}}},[i("v-icon",{attrs:{color:"primary",size:"13"}},[t._v("fas fa fa-clone")])],1):t._e()],1)])})],2)]),e.eForm?i("v-card",[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[i("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e.eForm?i("v-btn",{attrs:{color:"primary",id:"saveBtn"+e.partNo+e.templateFileNo},on:{click:function(i){i.stopPropagation(),t.saveAlpacaForm(e,a)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("save")]),t._v(" \n                          Lưu lại\n                        ")],1):t._e(),e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){i.stopPropagation(),t.previewFileEfom(e,a)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("print")]),t._v(" \n                          In\n                        ")],1):t._e(),e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){i.stopPropagation(),t.deleteSingleFileEform(e,a)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("delete")]),t._v(" \n                          Xóa\n                        ")],1):t._e()],1),i("div",{attrs:{id:"formAlpaca"+e.partNo+t.id}})])],1)],1)],1):t._e()],1)],1),i("div",{staticClass:"absolute__btn group__thanh_phan pr-3 mr-1"},[t.loading?i("content-placeholders",{staticClass:"mt-1"},[i("content-placeholders-text",{attrs:{lines:1}})],1):i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticStyle:{width:"100px"}},[i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(i){t.onUploadSingleFile(i,e)}}}),t.progressUploadPart+t.id===e.partNo+t.id?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.progressUploadPart+t.id!==e.partNo+t.id&e.eForm?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){i.stopPropagation(),t.loadAlpcaFormClick(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[t._v("edit")])],1)],1),i("span",[t._v("Khai trực tuyến")])],1):t._e(),t.progressUploadPart+t.id!==e.partNo+t.id?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.pickFile(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?i("span",[t._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB)")]):i("span",[t._v("Tải giấy tờ lên")])],1):t._e()],1)],1)],1)],1)}),0),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("File đính kèm")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1),i("v-dialog",{attrs:{"hide-overlay":"",persistent:"","max-width":"350",transition:"fade-transition"},model:{value:t.dialogConfirm,callback:function(e){t.dialogConfirm=e},expression:"dialogConfirm"}},[i("v-card",{attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:"",dark:"",color:"#1867c0"}},[i("v-toolbar-title",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.labelConfirm))]),i("v-spacer")],1),i("v-card-actions",{staticClass:"mt-3"},[i("v-flex",{staticClass:"text-xs-center"},[i("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},nativeOn:{click:function(e){return t.confirmAction(e)}}},[i("v-icon",[t._v("send")]),t._v(" \n            Đồng ý\n          ")],1),i("v-btn",{staticClass:"ml-2",staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(e){t.dialogConfirm=!1}}},[i("v-icon",[t._v("close")]),t._v(" \n            Bỏ qua\n          ")],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:t.dialogSelectDosier,callback:function(e){t.dialogSelectDosier=e},expression:"dialogSelectDosier"}},[i("v-card",{attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("Chọn hồ sơ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelAddFile(e)}}},[i("v-icon",[t._v("close")])],1)],1),i("v-card-text",{staticClass:"pt-0 pb-0 px-0"},[i("ho-so-nhom",{attrs:{dossiersgroup:t.dossierIntoGroup}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){t.addFileToDossier()}}},[i("v-icon",[t._v("send")]),t._v(" \n          Xác nhận\n        ")],1),i("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(e){return t.cancelAddFile(e)}}},[i("v-icon",[t._v("close")]),t._v(" \n          Bỏ qua\n        ")],1)],1)],1)],1)],1)},s=[],n=i("e12a"),o=n["a"],r=i("2877"),l=Object(r["a"])(o,a,s,!1,null,null,null);e["a"]=l.exports},"26ed":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"background-color":"white",width:"100%"}},["overdue"===t.type||"preoverdue"===t.type?i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",["overdue"===t.type?i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),i("span",[t._v("Lý do chậm hạn trả")]),i("span",{staticStyle:{color:"red"}},[t._v(" *")])]):i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),i("span",[t._v("Lý do")]),i("span",{staticStyle:{color:"red"}},[t._v(" *")])]),i("v-card",[i("v-card-text",{staticClass:"py-2 px-2"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"mx-3",attrs:{xs12:""}},[i("v-form",{ref:"delayNoteForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{box:"","multi-line":"",rows:3,rules:function(){return""!==t.delayNote||"Trường dữ liệu bắt buộc"}},model:{value:t.delayNote,callback:function(e){t.delayNote=e},expression:"delayNote"}})],1)],1)],1)],1)],1)],1)],1):t._e(),i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),"overdue"===t.type||"preoverdue"===t.type?i("span",[t._v("Ngày hẹn lại")]):t._e(),"betimes"===t.type?i("span",[t._v("Ngày hẹn trả sớm")]):t._e()]),i("v-card",[i("v-card-text",[i("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[i("v-icon",{staticClass:"hover-pointer",attrs:{color:"blue"},on:{click:t.showDatePicker}},[t._v("event")]),i("vue-ctk-date-time-picker",{ref:"datepicker",staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0,formatted:"DD/MM/YYYY HH:mm",label:t.extendDateInput?"":"Chọn ngày","min-date":t.minDate},model:{value:t.extendDateInput,callback:function(e){t.extendDateInput=e},expression:"extendDateInput"}})],1)],1)],1)],1)],1)],1)},s=[],n=(i("28a5"),i("768b")),o=(i("6b54"),i("f576"),i("e30a")),r=i.n(o),l={components:{"vue-ctk-date-time-picker":r.a},props:["extendDateEdit","type"],data:function(){return{extendDateInput:"",minDate:null,delayNote:""}},created:function(){},watch:{},mounted:function(){this.extendDateInput=this.extendDateEdit?this.parseCurrentDate(this.extendDateEdit):this.formatDateInput(new Date),console.log("extendDateInput",this.extendDateInput),this.minDate=this.getCurentDateTime("date")},methods:{doExport:function(){var t,e=this,i=e.extendDateInput?new Date(e.extendDateInput).getTime():"";return t="overdue"===e.type||"preoverdue"===e.type?{text:e.delayNote,extendDate:i,valid:e.$refs.delayNoteForm.validate()}:{text:e.delayNote,extendDate:i,valid:!0},t},getCurentDateTime:function(t){var e=new Date;return"datetime"===t?"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):"date"===t?"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")):void 0},formatDateInput:function(t){return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()},parseCurrentDate:function(t){if(!t)return null;var e=t.split(" "),i=Object(n["a"])(e,2),a=i[0],s=i[1],o="".concat(a).split("/"),r=Object(n["a"])(o,3),l=r[0],c=r[1],d=r[2],p="".concat(s).split(":"),u=Object(n["a"])(p,3),f=u[0],m=u[1];u[2];return"".concat(d,"-").concat(c.padStart(2,"0"),"-").concat(l.padStart(2,"0")," ").concat(f,":").concat(m)}}},c=l,d=i("2877"),p=Object(d["a"])(c,a,s,!1,null,null,null);e["a"]=p.exports},"32a6":function(t,e,i){var a=i("241e"),s=i("c3a1");i("ce7e")("keys",function(){return function(t){return s(a(t))}})},"335e":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.dossiersgroup.length>0?i("div",{staticClass:"mb-3"},[i("v-data-table",{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:t.headers,items:t.dossiersgroup,pagination:t.pagination,"hide-actions":"","item-key":"dossierId"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[i("tr",[i("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[i("v-checkbox",{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(e){return t.toggleAllSelectDialog(e)}}})],1),t._l(t.headers,function(e){return i("th",{key:e.text,class:e["class"]?e["class"]:"",attrs:{width:e["width"]?e["width"]+"px":""}},[i("v-tooltip",{attrs:{bottom:""}},[i("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.text))]),i("span",[t._v(t._s(e.text))])])],1)})],2)]}},{key:"items",fn:function(e){return[i("tr",{staticStyle:{cursor:"pointer"}},[i("td",{staticClass:"text-xs-center pl-3",staticStyle:{height:"40px !important"},attrs:{width:"32px"}},[i("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(i){t.$set(e,"selected",i)},expression:"props.selected"}})],1),i("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[i("span",[t._v(t._s(t.pagination.page*t.pagination.rowsPerPage-t.pagination.rowsPerPage+e.index+1))])]),i("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"250px"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.dossierNo)+"\n          ")]),i("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.applicantName)+"\n          ")]),i("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"200px"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.dossierSubStatusText?e.item.dossierSubStatusText:e.item.dossierStatusText)+"\n          ")])])]}}]),model:{value:t.selectedAttach,callback:function(e){t.selectedAttach=e},expression:"selectedAttach"}}),t.dossiersgroup.length>10?i("div",{staticClass:"text-xs-center layout wrap mt-2 pr-1",staticStyle:{position:"relative"}},[i("div",{staticClass:"flex pagging-table px-2"},[i("tiny-pagination",{attrs:{total:t.dossiersgroup.length,currentLimit:15,page:t.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)]):t._e()],1):t._e()])},s=[],n=(i("6b54"),i("bd86")),o=(i("cadf"),i("551c"),i("097d"),i("854a")),r=i.n(o),l=(i("1157"),i("000e"));r.a.options={closeButton:!0,timeOut:"5000"};var c={props:["index","id","dossiersgroup"],components:{"tiny-pagination":l["a"]},data:function(){var t;return t={detailGroup:!1,dialogImportDosier:!1,dialogSelectDosier:!1,groupDossierList:[],groupDossierSelected:"",dossiersgroup:[]},Object(n["a"])(t,"dossiersgroup",[]),Object(n["a"])(t,"selected",[]),Object(n["a"])(t,"selectedAttach",[]),Object(n["a"])(t,"stepList",[]),Object(n["a"])(t,"stepSelected",""),Object(n["a"])(t,"btnDynamics",[]),Object(n["a"])(t,"processOptionSelected",""),Object(n["a"])(t,"inputTypes",[6]),Object(n["a"])(t,"outputTypesGroup",[7]),Object(n["a"])(t,"inputTypesIntoGroup",[1,3,6]),Object(n["a"])(t,"outputTypes",[2]),Object(n["a"])(t,"loadingAction",!1),Object(n["a"])(t,"dialogAddGroup",!1),Object(n["a"])(t,"activeAddDossierIntoGroup",!1),Object(n["a"])(t,"headers",[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Tên chủ hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"}]),Object(n["a"])(t,"filesGroupDossier",[]),Object(n["a"])(t,"progressUploadFile",!1),Object(n["a"])(t,"totalDossier",0),Object(n["a"])(t,"valueProgress",0),Object(n["a"])(t,"countDossierSuccess",0),Object(n["a"])(t,"pagination",{rowsPerPage:15,page:1}),t},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},filesAdd:function(){return this.$store.getters.getFilesAdd},activeAddFileGroup:function(){return this.$store.getters.activeAddFileGroup}},created:function(){var t=this;t.$nextTick(function(){t.$router.history.current.query})},mounted:function(){},watch:{$route:function(t,e){t.query},selectedAttach:function(t){var e=this;e.$store.commit("setSelectDossierGroup",t)},selected:function(t){},activeAddFileGroup:function(t){var e=this;console.log("val activeAddFileGroup",t),e.stepSelected="",e.dialogSelectDosier=t}},methods:{paggingData:function(t){var e=this;e.pagination.page=t.page},changeStep:function(){var t=this;setTimeout(function(){t.stepSelected?(t.dossiersgroup=t.dossiersgroup.filter(function(e){return String(e["stepCode"])===String(t.stepSelected["stepCode"])}),t.$store.dispatch("pullProcessSteps",t.stepSelected).then(function(e){e.hasOwnProperty("menuGroup")&&e.menuGroup?t.$store.dispatch("getDetailMenuConfig",e).then(function(e){if(e.hasOwnProperty("buttonConfig")&&e.buttonConfig)try{t.btnDynamics=JSON.parse(e["buttonConfig"])["buttons"],t.btnDynamics=t.btnDynamics.filter(function(t){return"ACTIONS"===t["form"]}),t.btnDynamics=t.btnDynamics.filter(function(e){return!e.hasOwnProperty("onlySteps")||e.hasOwnProperty("onlySteps")&&e["onlySteps"].filter(function(e){return String(e)===String(t.stepSelected["stepCode"])})>0})}catch(i){t.btnDynamics=[]}else t.btnDynamics=[]}):t.btnDynamics=[]})):(t.dossiersgroup=t.dossiersgroup,t.btnDynamics=[])},200)},viewDetail:function(t,e){var i=this;i.$router.history.current.query;i.$router.push("/danh-sach-ho-so/0/chi-tiet-ho-so/"+t["dossierId"])},addFileToDossier:function(){var t=this,e=t.selectedAttach.map(function(t){return t.dossierId}).toString(),i=t.filesAdd.map(function(t){return t.dossierFileId}).toString(),a={dossierIds:e,dossierFileId:i};t.$store.dispatch("uploadFileDossierGroup",a).then(function(e){r.a.success("Đính kèm tài liệu thành công"),t.$store.commit("setActiveAddFileGroup",!1)})},cancelAddFile:function(){var t=this;t.$store.commit("setActiveAddFileGroup",!1)},toggleAll:function(){var t=this;t.selected.length?t.selected=[]:t.selected=t.dossiersgroup},toggleAllSelectDialog:function(){var t=this;console.log("toggleAllSelectDialog",t.dossiersgroup,t.selectedAttach),t.selectedAttach.length?t.selectedAttach=[]:t.selectedAttach=t.dossiersgroup,console.log("toggleAllSelectDialog 2",t.selectedAttach)},goBack:function(){var t=this,e=t.$router.history.current.params,i=t.$router.history.current.query;t.activeAddDossierIntoGroup?(t.activeAddDossierIntoGroup=!1,t.getDetaiGroup(t.id)):t.$router.push({path:"/danh-sach-ho-so/"+e.index,query:i})}}},d=c,p=i("2877"),u=Object(p["a"])(d,a,s,!1,null,null,null);e["a"]=u.exports},"454f":function(t,e,i){i("46a7");var a=i("584a").Object;t.exports=function(t,e,i){return a.defineProperty(t,e,i)}},"46a7":function(t,e,i){var a=i("63b6");a(a.S+a.F*!i("8e60"),"Object",{defineProperty:i("d9f6").f})},"4a3a":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"1"}},[""!==t.esignType&&"digital"!==t.esignType?i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Duyệt hồ sơ\n      ")]):t._e(),i("v-card",[i("v-card-text",{staticClass:"px-0 py-0"},["captcha"===t.esignType?i("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm12:""}},[i("span",{staticClass:"ml-3",staticStyle:{color:"#ec0f0f"}},[t._v("(*) Xác thực ký duyệt hồ sơ")]),i("v-captcha",{ref:"captcha"})],1):t._e(),"password"===t.esignType?i("v-flex",{staticClass:"my-3 pl-3",attrs:{xs12:"",sm4:""}},[i("span",{staticClass:"ml-3",staticStyle:{color:"#ec0f0f"}},[t._v("(*) Xác thực ký duyệt hồ sơ")]),i("v-text-field",{attrs:{box:"",label:"Nhập mật khẩu xác thực","append-icon":t.e1?"visibility":"visibility_off","append-icon-cb":function(){return t.e1=!t.e1},rules:[function(t){return!!t||"Yêu cầu nhập mật khẩu"}],type:t.e1?"password":"text",name:"input-10-2",required:""},model:{value:t.passWord,callback:function(e){t.passWord=e},expression:"passWord"}})],1):t._e()],1)],1)],1)],1)],1)},s=[],n=i("f499"),o=i.n(n),r=i("a745"),l=i.n(r),c=i("1157"),d=i.n(c),p=i("854a"),u=i.n(p),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm12:""}},[i("span",[t._v("Kéo thả các ô vuông đúng thứ tự của từ")]),i("br"),i("v-chip",{staticStyle:{"background-color":"#81D4FA"},attrs:{label:"","text-color":"white"}},[t._v("\n      "+t._s(t.captcha)+"\n    ")])],1),i("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:t.options,expression:"options",arg:"options"}],staticClass:"drag-wrapper text-xs-center mt-3"},[i("ul",{staticClass:"captcha-wrap",attrs:{id:"captcha"}},t._l(t.arrCaptcha,function(e,a){return i("li",{key:a,staticClass:"item-captcha",staticStyle:{padding:"10px 15px","background-color":"#81D4FA","margin-right":"2px",color:"#fff","font-weight":"bold"}},[t._v(t._s(e))])}),0)])],1)},m=[],h=(i("6b54"),i("f576"),i("28a5"),i("a026")),g=i("d8c5"),v=i.n(g);h["a"].use(v.a);var _={props:["index"],components:{},data:function(){return{options:{dropzoneSelector:"ul.captcha-wrap"},arrCaptcha:[],captcha:"",currentlyDragging:null,loggedEvent:"",images:[{name:"Image 1",src:"http://placehold.it/100/000000/ffffff"},{name:"Image 2",src:"http://placehold.it/100/C93742/ffffff"},{name:"Image 3",src:"http://placehold.it/100/6894D1/ffffff"}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;t.makeRandomString(),t.shuffleArrCaptcha(t.arrCaptcha)},watch:{},methods:{makeRandomString:function(){for(var t=this,e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<4;a++)e+=i.charAt(Math.floor(Math.random()*i.length));e&&(t.arrCaptcha=t.shuffleArrCaptcha(e.split(""))),t.captcha=e},shuffleArrCaptcha:function(t){var e=t.length,i=null,a=0;while(e>0)a=Math.floor(Math.random()*e),e--,i=t[e],t[e]=t[a],t[a]=i;return t},checkValidCatcha:function(){var t=this,e="",i=d()("#captcha").children();console.log(i);for(var a=0;a<i.length;a++)e+=i[a].innerHTML;return t.captcha===e}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""}}},y=_,b=i("2877"),x=Object(b["a"])(y,f,m,!1,null,null,null),D=x.exports;function C(){return document.getElementById("plugin0")}u.a.options={closeButton:!0,timeOut:"5000"};var S=C,T={props:{detailDossier:{},dataEsign:{}},components:{"v-captcha":D},data:function(){return{tabActive:"tabs-1",activeKS:!1,noteReason:"",thongTinHoSo:{},passWord:"",e1:!0}},created:function(){""!==this.esignType&&"digital"!==this.esignType||(this.activeKS=!0)},computed:{kysoSuccess:function(){return this.$store.getters.kysoSuccess},esignType:function(){return this.dataEsign.signatureType}},watch:{},mounted:function(){""!==this.esignType&&"digital"!==this.esignType||(this.activeKS=!0)},methods:{changeActive:function(){var t=this;console.log("tabActive",t.tabActive)},doExport:function(){var t=this,e={textValue:t.noteReason,required:"password"===t.esignType?t.passWord:"digital"===t.esignType||""===t.esignType?t.activeKS:t.$refs.captcha.checkValidCatcha()};return console.log("exportData",e),e},checkCreateFile:function(t){var e;e=l()(t.createFiles)?t.createFiles:[t.createFiles];var i=!1;if(e.length>0)for(var a=e.length,s=0;s<a;s++){var n=e[s];0===n.counter&&(i=!0)}else i=!0;return i},kySo:function(t){console.log("run ky so data payload",t);var e,i=this;e=l()(t.createFiles)?t.createFiles:[t.createFiles];var a=[],s=!1;if(e.length>0)for(var n=e.length,o=0;o<n;o++){var r=e[o];if(0===r.counter){s=!0;break}var c=r.dossierFileId,d=r.dossierPartId;if(c&&d&&"digital"===i.esignType){var p=c+","+d;a.push(p)}else if(c&&"digital"!==i.esignType){var u=c;a.push(u)}}else alert("Không tồn tại tệp điện tử. Vui lòng kiểm tra lại");console.log("idArr",a);var f=t.eSignature;if(f){if(s)return void alert("Tệp điện tử chưa sẵn sàng. Xin vui lòng chờ trong giây lát");if(a){var m,h={};h.actionCode=t.actionCode,h.actionUser=window.themeDisplay.getUserName()?window.themeDisplay.getUserName():"",h.actionNote="",h.postStepCode=t.postStepCode?t.postStepCode:"",h.payload=t.payload?t.payload:"",h.assignUsers=t.assignUsers?t.assignUsers:"",h.payment=t.payment?t.payment:"",h.userNote=t.userNote?t.userNote:"",m=a.join(",");var g=t.actionName;if(console.log("strIdArr",m),console.log("paramObj",h),"digital"===i.esignType){if(!S().valid)return f=!1,void alert("Plugin ký số không hoạt động");i.kyDuyetYCGiamDinh(m,h,g)}else"captcha"!==i.esignType&&"password"!==i.esignType&&""!==i.esignType||i.completeKyDuyetCaptchaSignature(m,h,g)}}},kyDuyetYCGiamDinh:function(t,e,i){var a=this,s="/o/rest/v2/defaultsignature/digitalSignature/"+a.detailDossier.dossierId+"/hashComputed";console.log(a.detailDossier.dossierId),d.a.ajax({type:"POST",url:s,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay.authToken},data:{strIdArr:t,actionCode:e.actionCode,postStepCode:e.postStepCode},success:function(t){console.log(t);var s=t.msg;if("fileEntryId"!==s){var n=t.hashComputers,o=t.signFieldNames,r=t.fileNames,l=t.fileEntryId;console.log("hashComputers: "+n),console.log("signFieldNames: "+o),console.log("fileNames: "+r),console.log("msgs: "+s);var c=[];if(S().valid){for(var d=0;d<n.length;d++){var p=n[d],u=S().Sign(p);if(0===u||7===u){var f=S().Signature,m=o[d],h=r[d];console.log("sign: "+f),console.log("signFieldName: "+m),console.log("fileName: "+h),c.push(f)}else alert(S().ErrorMessage)}a.completeKyDuyetManyYCGiamDinh(c.join(","),o.join(","),r.join(","),l.join(","),e,i)}else alert("Plugin ký số không hoạt động")}else alert("Không tìm thấy file bản thảo. Tạm dừng tiến trình ký số")},error:function(t){}})},completeKyDuyetManyYCGiamDinh:function(t,e,i,a,s,n){var r=this,l="/o/rest/v2/defaultsignature/digitalSignature/"+r.detailDossier.dossierId+"/dossierFiles";d.a.ajax({type:"PUT",url:l,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay.authToken},data:{actionCode:s["actionCode"],actionUser:s["actionUser"],actionNote:s["actionNote"],assignUserId:s["assignUserId"],postStepCode:s["postStepCode"],subUsers:s["subUsers"],payload:s["payload"]?o()(s["payload"]):"",assignUsers:s["assignUsers"],payment:s["payment"]?o()(s["payment"]):"",userNote:s["userNote"],sign:t,signFieldName:e,fileName:i,fileEntryId:a},success:function(t){console.log(t);var e=t.msg;"success"===e?(r.$store.commit("setKysoSuccess",!0),u.a.success("Thực hiện ký số thành công")):"fileEntryId"===e?alert("Không tìm thấy file bản thảo. Tạm dừng tiến trình ký số"):alert(e)},error:function(){alert("Thực hiện ký số thất bại")}})},completeKyDuyetCaptchaSignature:function(t,e,i){var a=this,s="/o/rest/v2/defaultsignature/"+a.detailDossier.dossierId+"/dossierFiles";d.a.ajax({type:"PUT",url:s,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay.authToken?window.Liferay.authToken:""},data:{actionCode:e["actionCode"],actionUser:e["actionUser"],actionNote:e["actionNote"],assignUserId:e["assignUserId"],postStepCode:e["postStepCode"],subUsers:e["subUsers"],payload:e["payload"]?o()(e["payload"]):"",assignUsers:e["assignUsers"],payment:e["payment"]?o()(e["payment"]):"",userNote:e["userNote"],fileEntryId:t},success:function(t){a.$store.commit("setKysoSuccess",!0),u.a.success("Thực hiện ký số thành công.")},error:function(){u.a.error("Thực hiện ký số thất bại")}})},completeKyDuyetYCGiamDinh:function(t,e,i,a,s,n){var o=this,r="/o/rest/v2/defaultsignature/digitalSignature/"+o.detailDossier.dossierId+"/dossierFile";d.a.ajax({type:"PUT",url:r,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:"","Cache-Control":"no-cache"},data:{actionCode:s["actionCode"],actionUser:s["actionUser"],actionNote:s["actionNote"],assignUserId:s["assignUserId"],postStepCode:s["postStepCode"],subUsers:s["subUsers"],sign:t,signFieldName:e,fileName:i,fileEntryId:a},success:function(t){console.log(t);var e=t.msg;"success"===e?u.a.success("Yêu cầu của bạn được thực hiện thành công."):"fileEntryId"===e?alert("Cảnh báo: Không tìm thấy file bản thảo. Tạm dừng tiến trình đóng dấu số"):alert(e)},error:function(){alert("ky so false")}})}}},w=T,F=Object(b["a"])(w,a,s,!1,null,null,null);e["a"]=F.exports},"4ea3":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment-temp"},[i("div",[i("v-expansion-panel",{staticClass:"expansion-pl-transparent",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("v-card",{staticClass:"comments__container"},[i("v-card-text",{staticClass:"pl-4"},[i("div",{attrs:{id:"comments-container-el"}})])],1)],1)],1)],1)])},s=[],n=i("a4bb"),o=i.n(n),r=(i("f576"),i("6b54"),i("c5f6"),i("28a5"),i("7f7f"),i("854a")),l=i.n(r);l.a.options={closeButton:!0,timeOut:"10000"};var c={props:["classPK","className"],data:function(){return{usersComment:[],comment:[],argShowMore:!0,checkOpinion:!0,validFileUpload:!0,fileTypeAllow:["png","jpg","jpeg","pdf","docx","doc","xls","xlsx","txt","rtf"]}},computed:{loading:function(){return this.$store.getters.loading},initData:function(){return this.$store.getters.loadingInitData}},watch:{classPK:function(t){var e=this;e.$store.dispatch("loadUsersComment",t).then(function(t){e.usersComment=t,e.initComment()}).catch(function(t){e.initComment()})}},created:function(){},mounted:function(){},methods:{runComment:function(){var t=this;t.classPK&&t.initComment()},validateFile:function(t){var e=this,i=t.file.name?t.file.name.split("."):"",a=i?i[i.length-1]:"",s=e.fileTypeAllow,n=10,o=s?s.filter(function(t){return t===a}):"";e.validFileUpload=!1,o&&o.length>0?Number(t.file.size)<=1048576*n?e.validFileUpload=!0:(l.a.error("Tài liệu tải lên dung lượng tối đa là "+n+" MB"),e.validFileUpload=!1):(l.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+s.toString()),e.validFileUpload=!1)},initComment:function(){var t=this;window.$("#comments-container-el").comments({profilePictureURL:"https://png.icons8.com/material/50/000000/guest-male.png",textareaRows:2,enableAttachments:!0,enableHashtags:!0,enablePinging:!1,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,textareaPlaceholderText:"Thêm bình luận mới",newestText:"Mới nhất",oldestText:"Cũ nhất",popularText:"Phổ biến",attachmentsText:"Đính kèm",sendText:"Gửi",replyText:"Trả lời",editText:"Sửa",editedText:"Đã sửa",youText:"Bạn",saveText:"Ghi lại",deleteText:"Xóa",hideRepliesText:"Ẩn câu trả lời",noCommentsText:"Không có bình luận nào",noAttachmentsText:"Không có tệp đính kèm",attachmentDropText:"Kéo thả tệp đính kèm",fieldMappings:{id:"commentId",parent:"parent",userId:"userId",created:"createdDate",modified:"modifiedDate",content:"content",fileURL:"fileUrl",fileMimeType:"fileType",fileName:"fileName",pings:"pings",creator:"userId",fullname:"fullname",profileURL:"profileUrl",profilePictureURL:"pictureUrl",isNew:"isNew",createdByAdmin:"isAdmin",createdByCurrentUser:"createdByCurrentUser",upvoteCount:"upvoteCount",userHasUpvoted:"userHasUpvoted",email:"email",opinion:"opinion",className:"className",classPK:"classPK"},timeFormatter:function(t){if(t){var e=new Date(t);return e.setHours(e.getHours()-7),"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""},getUsers:function(e,i){e(t.usersComment)},getComments:function(e,i){var a={classPK:t.classPK,className:t.className},s=t.$store.dispatch("loadCommentItems",a);s.then(function(i){var a=[];window.$.each(i,function(e,i){t.comment=i,t.formatComment(t.comment),a.push(t.comment)}),e(a)}).catch(function(t){e([]),i()})},postComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,e.opinion=document.getElementById("opinion").checked,t.$store.dispatch("postComment",e).then(function(e){e.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1,t.comment=e,t.formatComment(t.comment),i(t.comment)})},putComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("putComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),i(t.comment)})},deleteComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("deleteComment",e).then(function(t){i()}).catch(function(t){a(),console.log(t)})},upvoteComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("upvoteComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),i(t.comment)}).catch(function(t){console.log(t)})},uploadAttachments:function(e,i,a){var s=0,n=[],r=function(){s++,s===e.length&&(0===n.length?a():i(n))};window.$(e).each(function(e,i){var a=new FormData;window.$(o()(i)).each(function(t,e){var s=i[e];s&&a.append(e,s)}),a.append("file",i.file),a.append("className",t.className),a.append("classPK",t.classPK),a.append("parent",null!=i.parent?i.parent:0),a.append("fileName",i.file.name),a.append("fileType",i.file.type),a.append("fileSize",i.file.size),a.append("pings",i.pings.join()),a.append("opinion",document.getElementById("opinion").checked),a.append("email",""),a.append("fullname",t.initData.user.userName),a.append("opinion",document.getElementById("opinion").checked);var s={file:i.file};t.validateFile(s),t.validFileUpload?window.$.ajax({url:t.initData.commentApi+"/uploads",dataType:"json",type:"POST",headers:{groupId:t.initData.groupId},data:a,cache:!1,contentType:!1,processData:!1,success:function(e){e.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1,t.formatComment(e),n.push(t.comment),r(),e.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1},error:function(t,e){r()}}):r()})}})},formatComment:function(t){var e=this;e.comment=t,0===t.parent&&(e.comment.parent=null),""===t.fileName&&(e.comment.fileName=null),""===t.fileType&&(e.comment.fileType=null),""===t.fileUrl&&(e.comment.fileUrl=null),""===t.pictureUrl&&(e.comment.pictureUrl="https://png.icons8.com/material/50/000000/guest-male.png"),e.comment.fullname=t.fullname,e.comment.opinion=t.opinion,e.comment.pings=t.pings.toString().split(","),e.comment.createdDate=e.comment.createDate,e.comment.modifiedDate=e.comment.modifiedDate},dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear(),"  ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}}},d=c,p=i("2877"),u=Object(p["a"])(d,a,s,!1,null,null,null);e["a"]=u.exports},5279:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__),toastr__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_3__);toastr__WEBPACK_IMPORTED_MODULE_3___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{id:{type:String,default:function(){return"nm"}},detailDossier:{type:Object,default:function(){}},createFiles:{type:Array,default:function(){return[]}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData}},created:function(){var t=this;t.page=1,t.$nextTick(function(){console.log("vm.detailDossier------------",t.detailDossier),t.detailDossier["dossierId"]&&t.$store.dispatch("loadDossierFiles",t.detailDossier.dossierId).then(function(e){t.dossierFilesItems=e,t.createFiles=t.mergeDossierTemplateVsDossierFiles(t.createFiles,e),console.log("vm.createFiles------------",t.createFiles),console.log("vm.dossierFilesItems------------",t.dossierFilesItems)}).catch(function(t){})})},mounted:function(){var t=this;t.$nextTick(function(){t.createFiles.length>0&&setTimeout(function(){console.log("vm.createFiles------------",t.createFiles),console.log("vm.dossierFilesItems------------",t.dossierFilesItems),t.genAllAlpacaForm(t.dossierFilesItems,t.createFiles)},300)})},methods:{genAllAlpacaForm:function(t,e){var i=this;if(t.length>0){var a=t.filter(function(t){return t.eForm}),s=e.filter(function(t){return t.eForm});a.length>0?a.forEach(function(t){t.eForm&&i.$store.dispatch("loadAlpcaForm",t)}):e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))}),s.length!==a.length&&s.forEach(function(t){var e=a.findIndex(function(e){return t.partNo===e.dossierPartNo});-1===e&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})}else e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})},mergeDossierTemplateVsDossierFiles:function(t,e){return 0!==e.length?t.forEach(function(t){var i=e.find(function(e){return t.partNo===e.dossierPartNo&&e.eForm});i?t["daKhai"]=!0:!i&&t.eForm&&(t["daKhai"]=!1)}):t.forEach(function(t){t.eForm&&(t["daKhai"]=!1)}),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)})})},loadAlpcaForm:function(t){var e=this,i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.createFiles.forEach(function(i){i.eForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.detailDossier.dossierTemplateNo,e.showAlpacaJSFORM(i))})},previewFileEfom:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e["dossierId"]=i.detailDossier.dossierId,i.dialogPDFLoading=!0,i.dialogPDF=!0,e["id"]=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(t){setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t})},1e3)}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_3___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))})},viewFile:function(t){var e=this,i=this;i.dossierFilesItems.forEach(function(a){a["dossierId"]=i.detailDossier.dossierId,a.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",a)})},viewFile2:function(t){var e=this;if("doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType){var i=e.initDataResource.dossierApi+"/"+e.detailDossier.dossierId+"/files/"+t.referenceUid;window.open(i)}else e.dialogPDFLoading=!0,e.dialogPDF=!0,t["dossierId"]=e.detailDossier.dossierId,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});if(!i)return;e.fileViews=i,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},checkStyle:function(t){return"calc(100% - 50px)"},downloadFileTemplate:function(t,e){var i=this;if(i.fileTemplateItems.length>0){var a=i.fileTemplateItems.find(function(e){return t.fileTemplateNo===e.fileTemplateNo});if(a){var s=i.initDataResource.serviceInfoApi+"/"+a.serviceCode+"/filetemplates/"+a.fileTemplateNo;window.open(s)}else console.log("ko thay file")}}}}},"716b":function(t,e,i){(function(e,i){t.exports=i()})(0,function(){return function(t){function e(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=9)}([function(t,e,i){"use strict";e.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(t,e,i){"use strict";var a=i(2),s=i(5),n=i(0);e.a=function(t,e){if(e.value){var o=i.i(s.a)(n.a,e.value);if("INPUT"!==t.tagName.toLocaleUpperCase()){var r=t.getElementsByTagName("input");1!==r.length||(t=r[0])}t.oninput=function(){var e=t.value.length-t.selectionEnd;t.value=i.i(a.a)(t.value,o),e=Math.max(e,o.suffix.length),e=t.value.length-e,e=Math.max(e,o.prefix.length+1),i.i(a.b)(t,e),t.dispatchEvent(i.i(a.c)("change"))},t.onfocus=function(){i.i(a.b)(t,t.value.length-o.suffix.length)},t.oninput(),t.dispatchEvent(i.i(a.c)("input"))}}},function(t,e,i){"use strict";function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;"number"==typeof t&&(t=t.toFixed(o(e.precision)));var i=t.indexOf("-")>=0?"-":"",a=n(t),s=l(a,e.precision),r=p(s).split("."),u=r[0],f=r[1];return u=c(u,e.thousands),e.prefix+i+d(u,f,e.decimal)+e.suffix}function s(t,e){var i=t.indexOf("-")>=0?-1:1,a=n(t),s=l(a,e);return parseFloat(s)*i}function n(t){return p(t).replace(/\D+/g,"")||"0"}function o(t){return r(0,t,20)}function r(t,e,i){return Math.max(t,Math.min(e,i))}function l(t,e){var i=Math.pow(10,e);return(parseFloat(t)/i).toFixed(o(e))}function c(t,e){return t.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+e)}function d(t,e,i){return e?t+i+e:t}function p(t){return t?t.toString():""}function u(t,e){var i=function(){t.setSelectionRange(e,e)};t===document.activeElement&&(i(),setTimeout(i,1))}function f(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var m=i(0);i.d(e,"a",function(){return a}),i.d(e,"d",function(){return s}),i.d(e,"b",function(){return u}),i.d(e,"c",function(){return f})},function(t,e,i){"use strict";function a(t,e){e&&Object.keys(e).map(function(t){r.a[t]=e[t]}),t.directive("money",o.a),t.component("money",n.a)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(6),n=i.n(s),o=i(1),r=i(0);i.d(e,"Money",function(){return n.a}),i.d(e,"VMoney",function(){return o.a}),i.d(e,"options",function(){return r.a}),i.d(e,"VERSION",function(){return l});var l="0.8.1";e.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),s=i(0),n=i(2);e.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return s.a.precision}},decimal:{type:String,default:function(){return s.a.decimal}},thousands:{type:String,default:function(){return s.a.thousands}},prefix:{type:String,default:function(){return s.a.prefix}},suffix:{type:String,default:function(){return s.a.suffix}}},directives:{money:a.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(t,e){var a=i.i(n.a)(t,this.$props);a!==this.formattedValue&&(this.formattedValue=a)}}},methods:{change:function(t){this.$emit("input",this.masked?t.target.value:i.i(n.d)(t.target.value,this.precision))}}}},function(t,e,i){"use strict";e.a=function(t,e){return t=t||{},e=e||{},Object.keys(t).concat(Object.keys(e)).reduce(function(i,a){return i[a]=void 0===e[a]?t[a]:e[a],i},{})}},function(t,e,i){var a=i(7)(i(4),i(8),null,null);t.exports=a.exports},function(t,e){t.exports=function(t,e,i,a){var s,n=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(s=t,n=t.default);var r="function"==typeof n?n.options:n;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),i&&(r._scopeId=i),a){var l=r.computed||(r.computed={});Object.keys(a).forEach(function(t){var e=a[t];l[t]=function(){return e}})}return{esModule:s,exports:n,options:r}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:t.precision,decimal:t.decimal,thousands:t.thousands,prefix:t.prefix,suffix:t.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:t.formattedValue},on:{change:t.change}})},staticRenderFns:[]}},function(t,e,i){t.exports=i(3)}])})},"85f2":function(t,e,i){t.exports=i("454f")},"8aae":function(t,e,i){i("32a6"),t.exports=i("584a").Object.keys},"8bf2":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Thông tin gửi bưu chính\n    ")]),i("v-card",[i("v-layout",{staticClass:"my-2",attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Dịch vụ đăng ký: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v("VNPOST")])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Bưu cục: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postName))])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Tên người nhận: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postalService.applicantName))])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Số điện thoại: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postalService.postalTelNo))])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Địa chỉ: ")])],1),i("v-flex",{attrs:{xs12:"",sm10:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postalService.postalAddress))])])],1)],1)],1)],1)},s=[],n=(i("c5f6"),{props:{postalService:{type:Object,default:function(){}}},data:function(){return{postName:""}},computed:{},created:function(){var t=this;t.$nextTick(function(){var t=this;t.$store.dispatch("getVNPOSTcode").then(function(e){var i=e.filter(function(e){return Number(e.itemCode)===Number(t.postalService.postalCityCode)});i.length>0&&(t.postName=i[0].itemName)})})},methods:{}}),o=n,r=i("2877"),l=Object(r["a"])(o,a,s,!1,null,null,null);e["a"]=l.exports},a4bb:function(t,e,i){t.exports=i("8aae")},bd86:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var a=i("85f2"),s=i.n(a);function n(t,e,i){return e in t?s()(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},c23d:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" Tài liệu kết quả\n      ")]),i("v-card",t._l(t.createFiles,function(e,a){return i("div",{key:e.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[i("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!1}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},t._l(t.dossierFilesItems,function(a,s){return e.partNo+t.id===a.dossierPartNo+t.id?i("div",{key:s+"cr"},[i("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"25px","font-size":"12px"}},[i("span",{staticClass:"text-bold"},[t._v(t._s(s+1)+". ")]),i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(a)}}},[a.eForm?i("v-icon",[t._v("border_color")]):i("v-icon",[t._v("attach_file")]),t._v("\n                        "+t._s(a.displayName)+" - \n                        "),i("i",[t._v(t._s(a.modifiedDate))])],1)])]):t._e()}),0)]),e.eForm?i("v-card",[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.previewFileEfom(e,a)}}},[t._v("In")]):t._e(),i("div",{attrs:{id:"formAlpaca"+e.partNo+t.id}})],1)],1)],1)],1):t._e()],1)],1)],1)}),0),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("File đính kèm")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1)],1)},s=[],n=i("5279"),o=n["a"],r=i("2877"),l=Object(r["a"])(o,a,s,!1,null,null,null);e["a"]=l.exports},ce7e:function(t,e,i){var a=i("63b6"),s=i("584a"),n=i("294c");t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],o={};o[t]=e(i),a(a.S+a.F*n(function(){i(1)}),"Object",o)}},d8c5:function(t,e,i){(function(e,i){t.exports=i()})(0,function(){return function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="./src/index.js")}({"./src/core/helpers/dom.helper.js":
/*!****************************************!*\
  !*** ./src/core/helpers/dom.helper.js ***!
  \****************************************/
/*! exports provided: getDroptargets, getDraggables, setInitialAtributes, removeOldDropzoneAreaElements, getContainer, addDropeffects, clearDropeffects, hasModifier */function(t,e,i){"use strict";i.r(e),i.d(e,"getDroptargets",function(){return a}),i.d(e,"getDraggables",function(){return s}),i.d(e,"setInitialAtributes",function(){return n}),i.d(e,"removeOldDropzoneAreaElements",function(){return o}),i.d(e,"getContainer",function(){return r}),i.d(e,"addDropeffects",function(){return l}),i.d(e,"clearDropeffects",function(){return c}),i.d(e,"hasModifier",function(){return d});var a=function(t){return t.querySelectorAll(this.defaultOptions.dropzoneSelector)},s=function(t){return t.querySelectorAll(this.defaultOptions.draggableSelector)},n=function(t){this.targets=a.bind(this)(t),this.items=s.bind(this)(t);for(var e=0;e<this.targets.length;e++)this.targets[e].setAttribute("aria-dropeffect","none");for(var i=0;i<this.items.length;i++)this.items[i].setAttribute("draggable","true"),this.items[i].setAttribute("aria-grabbed","false"),this.items[i].setAttribute("tabindex","0")},o=function(){for(var t=document.querySelectorAll(".item-dropzone-area"),e=0;e<t.length;e++)t[e].remove()},r=function(t){var e=t;do{if(e&&1===e.nodeType&&e.getAttribute("aria-dropeffect"))return e}while(e=e?e.parentNode:null);return null},l=function(t,e,i){for(var a=i.length,s=0;s<a;s++)i[s]!==e.owner&&"none"===i[s].getAttribute("aria-dropeffect")&&(i[s].setAttribute("aria-dropeffect","move"),i[s].setAttribute("tabindex","0"));for(var n=t.length,o=0;o<n;o++)t[o].parentNode!==e.owner&&t[o].getAttribute("aria-grabbed")&&(t[o].removeAttribute("aria-grabbed"),t[o].removeAttribute("tabindex"))},c=function(t,e,i){if(e.items.length){for(var a=0;a<i.length;a++)"none"!==i[a].getAttribute("aria-dropeffect")&&(i[a].setAttribute("aria-dropeffect","none"),i[a].removeAttribute("tabindex"));for(var s=0;s<t.length;s++)t[s].getAttribute("aria-grabbed")?"true"===t[s].getAttribute("aria-grabbed")&&t[s].setAttribute("tabindex","0"):(t[s].setAttribute("aria-grabbed","false"),t[s].setAttribute("tabindex","0"))}},d=function(t){return t.ctrlKey||t.metaKey||t.shiftKey}},"./src/core/helpers/index.js":
/*!***********************************!*\
  !*** ./src/core/helpers/index.js ***!
  \***********************************/
/*! exports provided: getDroptargets, getDraggables, setInitialAtributes, removeOldDropzoneAreaElements, getContainer, addDropeffects, clearDropeffects, hasModifier, addSelection, removeSelection, clearSelections, stopDragAndDrop */function(t,e,i){"use strict";i.r(e);var a=i(/*! ./dom.helper */"./src/core/helpers/dom.helper.js");i.d(e,"getDroptargets",function(){return a["getDroptargets"]}),i.d(e,"getDraggables",function(){return a["getDraggables"]}),i.d(e,"setInitialAtributes",function(){return a["setInitialAtributes"]}),i.d(e,"removeOldDropzoneAreaElements",function(){return a["removeOldDropzoneAreaElements"]}),i.d(e,"getContainer",function(){return a["getContainer"]}),i.d(e,"addDropeffects",function(){return a["addDropeffects"]}),i.d(e,"clearDropeffects",function(){return a["clearDropeffects"]}),i.d(e,"hasModifier",function(){return a["hasModifier"]});var s=i(/*! ./state.helper */"./src/core/helpers/state.helper.js");i.d(e,"addSelection",function(){return s["addSelection"]}),i.d(e,"removeSelection",function(){return s["removeSelection"]}),i.d(e,"clearSelections",function(){return s["clearSelections"]}),i.d(e,"stopDragAndDrop",function(){return s["stopDragAndDrop"]})},"./src/core/helpers/state.helper.js":
/*!******************************************!*\
  !*** ./src/core/helpers/state.helper.js ***!
  \******************************************/
/*! exports provided: addSelection, removeSelection, clearSelections, stopDragAndDrop */function(t,e,i){"use strict";function a(t){return o(t)||n(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}i.r(e),i.d(e,"addSelection",function(){return r}),i.d(e,"removeSelection",function(){return l}),i.d(e,"clearSelections",function(){return c}),i.d(e,"stopDragAndDrop",function(){return d});var r=function(t){this.selections.owner||(this.selections.owner=t.parentNode),(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||this.selections.owner===t.parentNode)&&(t.setAttribute("aria-grabbed","true"),this.selections.items=a(this.selections.items).concat([t]))},l=function(t){t.setAttribute("aria-grabbed","false");for(var e=0;e<this.selections.items.length;e++)if(this.selections.items[e]===t){this.selections.items.splice(e,1);break}},c=function(){if(this.selections.items.length){this.selections.owner=null;for(var t=0;t<this.selections.items.length;t++)this.selections.items[t].setAttribute("aria-grabbed","false");this.selections.items=[]}},d=function(){throw new Error("Requested D&D stop...")}},"./src/core/index.js":
/*!***************************!*\
  !*** ./src/core/index.js ***!
  \***************************/
/*! exports provided: VueDraggable */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggable",function(){return c});var a=i(/*! ./listeners */"./src/core/listeners/index.js"),s=i(/*! ./helpers */"./src/core/helpers/index.js"),n=i(/*! ./options */"./src/core/options.js"),o=i(/*! ./state */"./src/core/state.js");function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){l(t,e,i[e])})}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=r({},n["VueDraggableOptions"],o["VueDraggableState"],{registerListeners:function(t){a["attachListeners"].bind(this)(t)},initiate:function(t){s["setInitialAtributes"].bind(this)(t)}})},"./src/core/listeners/handlers/dragend.handler.js":
/*!********************************************************!*\
  !*** ./src/core/listeners/handlers/dragend.handler.js ***!
  \********************************************************/
/*! exports provided: dragendHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragendHandler",function(){return o});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js");function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){n(t,e,i[e])})}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=function(t){if("function"===typeof this.defaultOptions.onDragend)try{this.defaultOptions.onDragend(s({nativeEvent:t,stop:a["stopDragAndDrop"]},this.selections))}catch(i){return void Object(a["removeOldDropzoneAreaElements"])()}if(this.selections.droptarget){for(var e=0;e<this.selections.items.length;e++)this.nextItemElement?this.selections.droptarget.insertBefore(this.selections.items[e],this.nextItemElement):this.selections.droptarget.appendChild(this.selections.items[e]);"function"===typeof this.defaultOptions.onDrop&&this.defaultOptions.onDrop(s({nativeEvent:t,stop:function(){throw new Error("Stop method is available only for callbacks\n                    'onDragstart' and 'onDragend'. For more info look at\n                    https://github.com/Vivify-Ideas/vue-draggable/blob/master/README.md\n                  ")}},this.selections)),t.preventDefault()}this.selections.items.length&&(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),this.selections.droptarget&&(a["clearSelections"].bind(this)(),this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,""),this.selections.droptarget=null)),Object(a["removeOldDropzoneAreaElements"])()}},"./src/core/listeners/handlers/dragenter.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/dragenter.handler.js ***!
  \**********************************************************/
/*! exports provided: dragenterHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragenterHandler",function(){return a});var a=function(t){this.related=t.target}},"./src/core/listeners/handlers/dragleave.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/dragleave.handler.js ***!
  \**********************************************************/
/*! exports provided: dragleaveHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragleaveHandler",function(){return s});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),s=function(){var t=Object(a["getContainer"])(this.related);t!==this.selections.droptarget&&(this.selections.droptarget&&(this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,"")),t&&(t.className+=" dragover"),this.selections.droptarget=t)}},"./src/core/listeners/handlers/dragover.handler.js":
/*!*********************************************************!*\
  !*** ./src/core/listeners/handlers/dragover.handler.js ***!
  \*********************************************************/
/*! exports provided: dragoverHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragoverHandler",function(){return o});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),s={previousTarget:null,dragoverCalls:0},n=function(t){if(s.dragoverCalls%100===0||t.target!==s.previousTarget&&t.target&&"item-dropzone-area"!==t.target.className){s.dragoverCalls++,s.previousTarget=t.target,this.nextItemElement=t.target.closest(this.defaultOptions.draggableSelector),this.selections.droptarget=t.target.closest(this.defaultOptions.dropzoneSelector);var e=document.createElement("div");e.className="item-dropzone-area",Object(a["removeOldDropzoneAreaElements"])(),this.selections.droptarget&&this.nextItemElement&&this.selections.droptarget.insertBefore(e,s.previousTarget.closest(this.defaultOptions.draggableSelector)),this.selections.droptarget&&!this.nextItemElement&&this.selections.droptarget.appendChild(e)}},o=function(t){this.selections.items.length&&t.preventDefault(),this.defaultOptions.showDropzoneAreas&&n.bind(this)(t)}},"./src/core/listeners/handlers/dragstart.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/dragstart.handler.js ***!
  \**********************************************************/
/*! exports provided: dragstartHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragstartHandler",function(){return o});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js");function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){n(t,e,i[e])})}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=function(t){var e=t.target.closest(this.defaultOptions.draggableSelector);if(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||!e||this.selections.owner===e.parentNode){if("function"===typeof this.defaultOptions.onDragstart)try{this.defaultOptions.onDragstart(s({nativeEvent:t,stop:a["stopDragAndDrop"]},this.selections))}catch(i){return t.preventDefault(),void Object(a["removeOldDropzoneAreaElements"])()}Object(a["hasModifier"])(t)&&"false"===e.getAttribute("aria-grabbed")&&a["addSelection"].bind(this)(e),t.dataTransfer.setData("text",""),Object(a["addDropeffects"])(this.items,this.selections,this.targets)}else t.preventDefault()}},"./src/core/listeners/handlers/index.js":
/*!**********************************************!*\
  !*** ./src/core/listeners/handlers/index.js ***!
  \**********************************************/
/*! exports provided: mousedownHandler, mouseupHandler, dragoverHandler, dragstartHandler, dragenterHandler, dragleaveHandler, dragendHandler, keydownHandler */function(t,e,i){"use strict";i.r(e);var a=i(/*! ./mousedown.handler */"./src/core/listeners/handlers/mousedown.handler.js");i.d(e,"mousedownHandler",function(){return a["mousedownHandler"]});var s=i(/*! ./mouseup.handler */"./src/core/listeners/handlers/mouseup.handler.js");i.d(e,"mouseupHandler",function(){return s["mouseupHandler"]});var n=i(/*! ./dragover.handler */"./src/core/listeners/handlers/dragover.handler.js");i.d(e,"dragoverHandler",function(){return n["dragoverHandler"]});var o=i(/*! ./dragstart.handler */"./src/core/listeners/handlers/dragstart.handler.js");i.d(e,"dragstartHandler",function(){return o["dragstartHandler"]});var r=i(/*! ./dragenter.handler */"./src/core/listeners/handlers/dragenter.handler.js");i.d(e,"dragenterHandler",function(){return r["dragenterHandler"]});var l=i(/*! ./dragleave.handler */"./src/core/listeners/handlers/dragleave.handler.js");i.d(e,"dragleaveHandler",function(){return l["dragleaveHandler"]});var c=i(/*! ./dragend.handler */"./src/core/listeners/handlers/dragend.handler.js");i.d(e,"dragendHandler",function(){return c["dragendHandler"]});var d=i(/*! ./keydown.handler */"./src/core/listeners/handlers/keydown.handler.js");i.d(e,"keydownHandler",function(){return d["keydownHandler"]})},"./src/core/listeners/handlers/keydown.handler.js":
/*!********************************************************!*\
  !*** ./src/core/listeners/handlers/keydown.handler.js ***!
  \********************************************************/
/*! exports provided: keydownHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"keydownHandler",function(){return s});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),s=function(t){if(t.target.getAttribute("aria-grabbed")&&(32===t.keyCode&&(Object(a["hasModifier"])(t)?"true"===t.target.getAttribute("aria-grabbed")?(1===this.selections.items.length&&Object(a["clearDropeffects"])(this.items,this.selections,this.targets),a["removeSelection"].bind(this)(t.target),this.selections.items.length&&Object(a["addDropeffects"])(this.items,this.selections,this.targets),this.selections.items.length||(this.selections.owner=null)):(a["addSelection"].bind(this)(t.target),Object(a["addDropeffects"])(this.items,this.selections,this.targets)):"false"===t.target.getAttribute("aria-grabbed")?(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),a["clearSelections"].bind(this)(),a["addSelection"].bind(this)(t.target),Object(a["addDropeffects"])(this.items,this.selections,this.targets)):Object(a["addDropeffects"])(this.items,this.selections,this.targets),t.preventDefault()),77===t.keyCode&&Object(a["hasModifier"])(t))){if(this.selections.items.length)if(Object(a["addDropeffects"])(this.items,this.selections,this.targets),this.selections.owner===this.targets[this.targets.length-1])this.targets[0].focus();else for(var e=0;e<this.targets.length;e++)if(this.selections.owner===this.targets[e]){this.targets[e+1].focus();break}t.preventDefault()}if(27===t.keyCode&&this.selections.items.length&&(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),a["clearSelections"].bind(this)()),t.target.getAttribute("aria-dropeffect")&&(13===t.keyCode||77===t.keyCode&&Object(a["hasModifier"])(t))){for(var i=0;i<this.selections.items.length;i++)t.target.appendChild(this.selections.items[i]);Object(a["clearDropeffects"])(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),a["clearSelections"].bind(this)(),t.preventDefault()}}},"./src/core/listeners/handlers/mousedown.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/mousedown.handler.js ***!
  \**********************************************************/
/*! exports provided: mousedownHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"mousedownHandler",function(){return s});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),s=function(t){var e=t.target.closest(this.defaultOptions.draggableSelector);e&&e.getAttribute("draggable")?(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),Object(a["hasModifier"])(t)||"false"!==e.getAttribute("aria-grabbed")||(a["clearSelections"].bind(this)(),a["addSelection"].bind(this)(e))):Object(a["hasModifier"])(t)?Object(a["clearDropeffects"])(this.items,this.selections,this.targets):(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),a["clearSelections"].bind(this)())}},"./src/core/listeners/handlers/mouseup.handler.js":
/*!********************************************************!*\
  !*** ./src/core/listeners/handlers/mouseup.handler.js ***!
  \********************************************************/
/*! exports provided: mouseupHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"mouseupHandler",function(){return n});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),s=function(t,e,i){return t.parentNode===e.parentNode&&(e.offsetTop>i.offsetTop&&t.offsetTop<=e.offsetTop&&t.offsetTop>=i.offsetTop||t.offsetTop>=e.offsetTop&&t.offsetTop<=i.offsetTop)},n=function(t){var e=this,i=t.target.closest(this.defaultOptions.draggableSelector);if(i&&i.getAttribute("draggable")&&Object(a["hasModifier"])(t))if(this.selections.items.length&&t.shiftKey){var n=this.selections.items.slice(-1).pop();this.items.forEach(function(t){var o=s(t,i,n);o&&a["addSelection"].bind(e)(t)})}else"true"===i.getAttribute("aria-grabbed")?(a["removeSelection"].bind(this)(i),this.selections.items.length||(this.selections.owner=null)):a["addSelection"].bind(this)(i)}},"./src/core/listeners/index.js":
/*!*************************************!*\
  !*** ./src/core/listeners/index.js ***!
  \*************************************/
/*! exports provided: attachListeners */function(t,e,i){"use strict";i.r(e),i.d(e,"attachListeners",function(){return s});var a=i(/*! ./handlers */"./src/core/listeners/handlers/index.js"),s=function(t){var e=this;t.addEventListener("mousedown",a["mousedownHandler"].bind(this),!1),t.addEventListener("mouseup",a["mouseupHandler"].bind(this),!1),t.addEventListener("dragstart",a["dragstartHandler"].bind(this),!1),t.addEventListener("keydown",a["keydownHandler"].bind(this),!1),t.addEventListener("dragenter",function(t){return a["dragenterHandler"].bind(e)(t)},!1),t.addEventListener("dragleave",a["dragleaveHandler"].bind(this),!1),document.addEventListener("dragover",a["dragoverHandler"].bind(this),!1),t.addEventListener("dragend",a["dragendHandler"].bind(this),!1)}},"./src/core/options.js":
/*!*****************************!*\
  !*** ./src/core/options.js ***!
  \*****************************/
/*! exports provided: VueDraggableOptions */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggableOptions",function(){return a});var a={defaultOptions:{dropzoneSelector:"ul",draggableSelector:"li",multipleDropzonesItemsDraggingEnabled:!0,showDropzoneAreas:!0,onDrop:function(){},onDragstart:function(){},onDragend:function(){}},targets:null,items:null,nextItemElement:null,related:null,selections:{items:[],owner:null,droptarget:null}}},"./src/core/state.js":
/*!***************************!*\
  !*** ./src/core/state.js ***!
  \***************************/
/*! exports provided: VueDraggableState */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggableState",function(){return a});var a={targets:null,items:null,nextItemElement:null,related:null,selections:{items:[],owner:null,droptarget:null}}},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: VueDraggableDirective, default */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggableDirective",function(){return s});var a=i(/*! ./core */"./src/core/index.js"),s={bind:function(t,e){Object.assign(a["VueDraggable"].defaultOptions,e.value),a["VueDraggable"].registerListeners(t),a["VueDraggable"].initiate(t)},componentUpdated:function(t){setTimeout(function(){a["VueDraggable"].initiate(t)})}};a["VueDraggable"].install=function(t){t.directive("drag-and-drop",s)},e["default"]=a["VueDraggable"]}})})},e12a:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),toastr__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_6__),_TiepNhan_HoSoTrongNhom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("335e");toastr__WEBPACK_IMPORTED_MODULE_6___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{id:{type:String,default:function(){return"nm"}},detailDossier:{type:Object,default:function(){}},createFiles:{type:Array,default:function(){return[]}}},components:{"ho-so-nhom":_TiepNhan_HoSoTrongNhom__WEBPACK_IMPORTED_MODULE_7__["a"]},data:function(){return{dialogConfirm:!1,labelConfirm:"",dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[],currentFormView:"",pstFixed:0,pstEl:0,endEl:0,dialogSelectDosier:!1,dossierIntoGroup:[],filesAdd:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierIntoGroupSelect:function(){return this.$store.getters.getDossierIntoGroup}},created:function(){var t=this;t.page=1,t.$nextTick(function(){if(t.detailDossier["dossierId"]){var e=[];e.push(t.$store.dispatch("loadDossierFiles",t.detailDossier.dossierId)),e.push(t.$store.dispatch("loadDossierTemplates",t.detailDossier)),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default.a.all(e).then(function(e){var i=e[1],a=e[0];t.dossierFilesItems=a,t.createFiles=t.mergeDossierTemplateVsDossierFiles(t.createFiles,a),0!==i.length&&t.createFiles.forEach(function(t){var e=i.find(function(e){return t.partNo===e.partNo});e&&(t["required"]=e["required"],t["partTip"]=e["partTip"])})}),t.detailDossier["groupDossierId"]&&t.getDossierIntoGroup(t.detailDossier["groupDossierId"])}})},mounted:function(){var t=this;t.$nextTick(function(){t.createFiles.length>0&&setTimeout(function(){t.genAllAlpacaForm(t.dossierFilesItems,t.createFiles)},300)})},methods:{genAllAlpacaForm:function(t,e){var i=this;if(t.length>0){var a=t.filter(function(t){return t.eForm}),s=e.filter(function(t){return t.eForm});a.length>0?a.forEach(function(t){t.eForm&&i.$store.dispatch("loadAlpcaForm",t)}):e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))}),s.length!==a.length&&s.forEach(function(t){var e=a.findIndex(function(e){return t.partNo===e.dossierPartNo});-1===e&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})}else e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})},mergeDossierTemplateVsDossierFiles:function(t,e){return 0!==e.length?t.forEach(function(t){var i=e.find(function(e){return t.partNo===e.dossierPartNo&&0!==e.fileSize});i?t["daKhai"]=!0:!i&&t.eForm&&(t["daKhai"]=!1)}):t.forEach(function(t){t.eForm&&(t["daKhai"]=!1)}),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').alpaca(formScript)})})},saveAlpacaForm:function(t,e){var i=this;console.log("itemSave",t);var a=i.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});a?(a["dossierId"]=i.detailDossier.dossierId,a["id"]=i.id,i.$store.dispatch("putAlpacaForm",a).then(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Yêu cầu của bạn thực hiện thành công"),i.createFiles[e].daKhai=!0,i.dossierIntoGroup.length>0&&(i.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",i.dialogConfirm=!0,i.filesAdd=[t]),i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){})}).catch(function(t){console.log("run saveForm"),toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})):(t["dossierId"]=i.detailDossier.dossierId,t["id"]=i.id,i.$store.dispatch("postEform",t).then(function(t){i.dossierIntoGroup.length>0&&(i.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",i.dialogConfirm=!0,i.filesAdd=[resData]),setTimeout(function(){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Yêu cầu của bạn thực hiện thành công"),i.createFiles[e].daKhai=!0},3e3),i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},onDeleteAttackFiles:function(t){var e=this;console.log("delete");var i=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");i&&e.dossierFilesItems.forEach(function(i){i.dossierPartNo===t.partNo&&(i["dossierId"]=e.detailDossier.dossierId,e.$store.dispatch("deleteAttackFiles",i).then(function(t){e.$store.dispatch("loadDossierFiles",e.detailDossier.dossierId)}).catch(function(t){}))})},pickFile:function(t){var e=this;e.stateAddFileOther=!1,document.getElementById("file"+t.partNo).value="",document.getElementById("file"+t.partNo).click()},onUploadSingleFile:function(t,e){var i=this;i.dossierTemplatesItemSelect=e,i.progressUploadPart=e.partNo,e["dossierId"]=i.detailDossier.dossierId,e["dossierTemplateNo"]=i.detailDossier.dossierTemplateNo,i.$store.dispatch("uploadSingleFile",e).then(function(t){i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t,i.createFiles=i.mergeDossierTemplateVsDossierFiles(i.createFiles,i.dossierFilesItems),console.log("createFiles",i.createFiles)}),console.log("vm.dossierIntoGroup",i.dossierIntoGroup),i.dossierIntoGroup.length>0&&(i.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",i.dialogConfirm=!0,i.filesAdd=t)}).catch(function(t){i.progressUploadPart=""})},loadAlpcaForm:function(t){var e=this,i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.createFiles.forEach(function(i){i.eForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.detailDossier.dossierTemplateNo,e.showAlpacaJSFORM(i))})},loadAlpcaFormClick:function(t){var e=this;e.currentFormView==="formAlpaca"+t.partNo+e.id?e.currentFormView="":e.currentFormView="formAlpaca"+t.partNo+e.id,e.pstEl=e.endEl=0,setTimeout(function(){$("#formAlpaca"+t.partNo+e.id).height()>200&&(e.pstEl=$("#wrapForm"+t.partNo+e.id).offset().top,e.endEl=$("#formAlpaca"+t.partNo+e.id).height(),$(window).scroll(function(){e.pstFixed=$(window).scrollTop()}))},300);var i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.createFiles.forEach(function(i){i.eForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.detailDossier.dossierTemplateNo,e.showAlpacaJSFORM(i))})},deleteSingleFileEform:function(t,e){var i=this,a=confirm("Bạn có muốn xóa?");a&&(i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e["dossierId"]=i.detailDossier.dossierId,i.$store.dispatch("deleteDossierFile",e).then(function(e){console.log("success!"),i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(e){i.dossierFilesItems=e;var a=i.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});a&&(i.fileViews=a)})}))}),i.createFiles[e].daKhai=!1)},previewFileEfom:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e["dossierId"]=i.detailDossier.dossierId,i.dialogPDFLoading=!0,i.dialogPDF=!0,e["id"]=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(t){setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t})},1e3)}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))})},deleteSingleFile:function(t,e){var i=this,a=confirm("Bạn có muốn xóa?");a&&(t["dossierId"]=i.detailDossier.dossierId,i.$store.dispatch("deleteDossierFile",t).then(function(a){i.fileViews.splice(e,1),i.partView=t.dossierPartNo,i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t,i.createFiles=i.mergeDossierTemplateVsDossierFiles(i.createFiles,i.dossierFilesItems)})}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},viewFile:function(t){var e=this,i=this;i.dossierFilesItems.forEach(function(a){a["dossierId"]=i.detailDossier.dossierId,a.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",a)})},viewFile2:function(t){var e=this;if("doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType){var i=e.initDataResource.dossierApi+"/"+e.detailDossier.dossierId+"/files/"+t.referenceUid;window.open(i)}else e.dialogPDFLoading=!0,e.dialogPDF=!0,t["dossierId"]=e.detailDossier.dossierId,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});if(!i)return;e.fileViews=i,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},checkStyle:function(t){return"calc(100% - 140px)"},downloadFileTemplate:function(t,e){var i=this;if(i.fileTemplateItems.length>0){var a=i.fileTemplateItems.find(function(e){return t.fileTemplateNo===e.fileTemplateNo});if(a){var s=i.initDataResource.serviceInfoApi+"/"+a.serviceCode+"/filetemplates/"+a.fileTemplateNo;window.open(s)}else console.log("ko thay file")}},cancelDialog:function(){var t=this;t.dialogAddOtherTemp=!1,t.progressUploadPart=""},addFileOther:function(t){var e=this;e.dialogAddOtherTemp=!0,e.stateAddFileOther=!0,e.dossierTemplatesItemSelect=t},changeDisplayName:function(t,e){var i=this,a={dossierId:i.detailDossier.dossierId,value:value};i.$store.dispatch("changeDisplayNameFile",a).then(function(t){i.fileViews[e].displayName=t.displayName,i.stateEdit=!1}).catch(function(t){console.log("error")})},validCreateFileTemplate:function(){var t=this;if(t.createFiles.length>0){for(var e=0;e<t.createFiles.length;e++)if(t.createFiles[e]["required"]&&!t.createFiles[e]["daKhai"]){var i="Chú ý :"+t.createFiles[e].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error(i),!1}return!0}return!0},getDossierIntoGroup:function(t){var e=this,i={groupDossierId:t};e.dossierIntoGroup=[],e.$store.dispatch("getDossiersIntoGroup",i).then(function(t){e.dossierIntoGroup=t,e.dossierIntoGroup=e.dossierIntoGroup.filter(function(t){return String(t["stepCode"])===String(e.detailDossier["stepCode"])&&String(t["dossierId"])!==String(e.detailDossier["dossierId"])})})},addFileToDossier:function(){var t=this,e=t.dossierIntoGroupSelect.map(function(t){return t.dossierId}).toString(),i=t.filesAdd.map(function(t){return t.dossierFileId}).toString(),a={dossierIds:e,dossierFileId:i};t.$store.dispatch("uploadFileDossierGroup",a).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Đính kèm tài liệu thành công"),t.dialogSelectDosier=!1,t.filesAdd=[],t.$store.commit("setSelectDossierGroup",[])})},attachOtherDossier:function(t){var e=this;e.filesAdd=[t],e.dialogSelectDosier=!0},cancelAddFile:function(){var t=this;t.dialogSelectDosier=!1,t.filesAdd=[],t.$store.commit("setSelectDossierGroup",[])},confirmAction:function(t){var e=this;e.dialogConfirm=!1,e.dialogSelectDosier=!0},getDocumentTypeIcon:function(t){var e="doc,docx",i="xls,xlsx",a="png,jpg,jpeg";return t?e.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:i.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===t.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:a.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:{icon:"attach_file",color:"primary",size:14}}}}},f374:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"payment-info",staticStyle:{width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),1===t.data_payment.requestPayment||5===t.data_payment.requestPayment?i("span",[t._v(t._s(t.data_payment.paymentFee))]):t._e(),2===t.data_payment.requestPayment?i("span",[t._v("Lập phiếu thanh toán")]):t._e()]),i("v-card",[i("v-card-text",{staticClass:"pb-1"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Lệ phí: ")])],1),i("v-flex",{attrs:{xs12:"",sm3:""}},[1===t.data_payment.editable||3===t.data_payment.editable?i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.feeAmount,callback:function(e){t.$set(t.data_payment,"feeAmount",e)},expression:"data_payment.feeAmount"}}):i("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.feeAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),i("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Phí: ")])],1),i("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm3:""}},[2===t.data_payment.editable||3===t.data_payment.editable?i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.serviceAmount,callback:function(e){t.$set(t.data_payment,"serviceAmount",e)},expression:"data_payment.serviceAmount"}}):i("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.serviceAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),i("v-flex",{attrs:{xs12:"",sm2:""}}),2!==t.viaPortal&&"2"!==t.viaPortal||0===t.data_payment.shipAmount?t._e():i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Phí chuyển phát: ")])],1),2!==t.viaPortal&&"2"!==t.viaPortal||0===t.data_payment.shipAmount?t._e():i("v-flex",{attrs:{xs12:"",sm3:""}},[1===t.data_payment.editable||3===t.data_payment.editable?i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.shipAmount,callback:function(e){t.$set(t.data_payment,"shipAmount",e)},expression:"data_payment.shipAmount"}}):i("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.shipAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),i("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1),i("v-card-text",{staticClass:"pt-0"},[i("v-layout",{attrs:{wrap:""}},[1===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),1===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),1===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),2===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),2===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),2===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),5===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Đã tạm nộp: ")])])],1):t._e(),5===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(Number(t.data_payment.advanceAmount.toString().replace(/\./g,"")).toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Còn phải nộp: ")])])],1):t._e(),5===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e()],1),i("v-layout",{staticStyle:{position:"relative"},attrs:{wrap:""}},[i("v-flex",{staticClass:"my-0 py-1",staticStyle:{width:"70px"}},[i("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" Ghi chú:")]),i("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[0==t.activeEdit?i("div",{staticClass:"pl-2"},[i("v-textarea",{staticClass:"py-0",attrs:{row:"2",readonly:t.activeEdit,required:""},model:{value:t.data_payment.paymentNote,callback:function(e){t.$set(t.data_payment,"paymentNote",e)},expression:"data_payment.paymentNote"}})],1):t._e(),t.activeEdit||""===t.data_payment.paymentNote?i("p",{staticClass:"px-2 my-0 py-1"},[t._v("\n                "+t._s(t.data_payment.paymentNote)+"   \n                "),1==t.activeEdit?i("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"blue",size:"20",title:"Sửa",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!1}}},[t._v("\n                  create\n                ")]):t._e()],1):t._e(),i("span",{staticStyle:{position:"absolute",top:"15px",right:"10px"}},[0==t.activeEdit?i("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"green",size:"25",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!0}}},[t._v("\n                  check\n                ")]):t._e()],1)])],1),t.paymentFile&&5===t.data_payment.requestPayment?i("div",[i("span",[i("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" File báo thanh toán:")]),t._v(" \n            "),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile()}}},[i("v-icon",[t._v("attach_file")]),t._v("\n              "+t._s(t.paymentFileName)+"\n            ")],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.downloadPaymentFile(t.item)}},slot:"activator"},[i("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{size:"16",color:"primary"}},[t._v("save_alt")])],1),i("span",[t._v("Tải xuống")])],1)],1):t._e()],1)],1)],1)],1),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("File đính kèm")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},s=[],n=(i("6b54"),i("a481"),i("c5f6"),i("716b")),o={props:{payments:{type:Object,default:function(){}},viaPortal:{type:Number,default:function(){return 0}},detailDossier:{type:Object,default:function(){}}},model:{prop:"payments"},data:function(){return{data_payment:{},money:{decimal:"",thousands:".",prefix:"",suffix:"",precision:0,masked:!1},totalFee:0,feeTamThu:0,feeTong:0,checkPaid:!0,activeEdit:!0,paymentFile:"",dialogPDF:!1,dialogPDFLoading:!0}},directives:{money:n["VMoney"]},created:function(){var t=this;t.data_payment=t.payments,t.payments&&setTimeout(function(){var e="number"===typeof t.payments.feeAmount?Number(t.payments.feeAmount):Number(t.payments.feeAmount.toString().replace(/\./g,""));if(1===t.payments.requestPayment){var i="number"===typeof t.payments.serviceAmount?Number(t.payments.serviceAmount):Number(t.payments.serviceAmount.toString().replace(/\./g,""));t.feeTong=e+i,t.totalFee=e+i}else if(2===t.payments.requestPayment){var a=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,s=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;2!==t.viaPortal&&"2"!==t.viaPortal||0===s?t.totalFee=e+a:t.totalFee=e+a+s}else{var n=t.payments.advanceAmount?Number(t.payments.advanceAmount.toString().replace(/\./g,"")):0,o=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,r=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;if(2!==t.viaPortal&&"2"!==t.viaPortal||0===r?(t.feeTong=e+o,t.totalFee=e+o-n):(t.feeTong=e+o+r,t.totalFee=e+o+r-n),5===t.payments.requestPayment){var l=t.detailDossier;t.$store.dispatch("getPaymentFiles",l).then(function(e){t.paymentFile=e})}}t.totalFee<0&&(t.totalFee=0)},300)},computed:{paymentFileName:function(){return this.$store.getters.getPaymentFileName}},watch:{viaPortal:function(t){console.log("viaPortal",t),this.changeFee()},detailDossier:function(t){var e=this;if(5===e.payments.requestPayment){var i=t;console.log("run get paymentfile",i),e.$store.dispatch("getPaymentFiles",i).then(function(t){e.paymentFile=t})}}},methods:{changeFee:function(){var t=this,e=t.data_payment,i=e.feeAmount?Number(e.feeAmount.toString().replace(/\./g,"")):0;if(1===e.requestPayment){var a=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0;t.feeTong=i+a,t.totalFee=i+a}else if(2===e.requestPayment){var s=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,n=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;2!==t.viaPortal&&"2"!==t.viaPortal||0===n?t.totalFee=i+s:t.totalFee=i+s+n}else{var o=Number(e.advanceAmount.toString().replace(/\./g,"")),r=Number(e.serviceAmount.toString().replace(/\./g,"")),l=Number(e.shipAmount.toString().replace(/\./g,""));2!==t.viaPortal&&"2"!==t.viaPortal||0===l?(t.feeTong=i+r,t.totalFee=i+r-o):(t.feeTong=i+r+l,t.totalFee=i+r+l-o)}t.totalFee<0&&(t.totalFee=0)},viewFile:function(){var t=this;t.dialogPDFLoading=!0,t.dialogPDF=!0;var e={dossierId:t.detailDossier.dossierId,referenceUid:t.detailDossier.referenceUid};t.$store.dispatch("viewPaymentFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=e})},downloadPaymentFile:function(t){var e=this,i="/o/rest/v2/dossiers/"+e.detailDossier.dossierId+"/payments/"+e.detailDossier.referenceUid+"/confirmfile";window.open(i)},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},goBack:function(){window.history.back()}},filters:{}},r=o,l=i("2877"),c=Object(l["a"])(r,a,s,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-25afc45a.js.map