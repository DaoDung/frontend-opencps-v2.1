(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c2ad700"],{"716b":function(t,e,a){(function(e,a){t.exports=a()})(0,function(){return function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=9)}([function(t,e,a){"use strict";e.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(t,e,a){"use strict";var n=a(2),i=a(5),s=a(0);e.a=function(t,e){if(e.value){var r=a.i(i.a)(s.a,e.value);if("INPUT"!==t.tagName.toLocaleUpperCase()){var o=t.getElementsByTagName("input");1!==o.length||(t=o[0])}t.oninput=function(){var e=t.value.length-t.selectionEnd;t.value=a.i(n.a)(t.value,r),e=Math.max(e,r.suffix.length),e=t.value.length-e,e=Math.max(e,r.prefix.length+1),a.i(n.b)(t,e),t.dispatchEvent(a.i(n.c)("change"))},t.onfocus=function(){a.i(n.b)(t,t.value.length-r.suffix.length)},t.oninput(),t.dispatchEvent(a.i(n.c)("input"))}}},function(t,e,a){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.a;"number"==typeof t&&(t=t.toFixed(r(e.precision)));var a=t.indexOf("-")>=0?"-":"",n=s(t),i=c(n,e.precision),o=d(i).split("."),p=o[0],m=o[1];return p=u(p,e.thousands),e.prefix+a+l(p,m,e.decimal)+e.suffix}function i(t,e){var a=t.indexOf("-")>=0?-1:1,n=s(t),i=c(n,e);return parseFloat(i)*a}function s(t){return d(t).replace(/\D+/g,"")||"0"}function r(t){return o(0,t,20)}function o(t,e,a){return Math.max(t,Math.min(e,a))}function c(t,e){var a=Math.pow(10,e);return(parseFloat(t)/a).toFixed(r(e))}function u(t,e){return t.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+e)}function l(t,e,a){return e?t+a+e:t}function d(t){return t?t.toString():""}function p(t,e){var a=function(){t.setSelectionRange(e,e)};t===document.activeElement&&(a(),setTimeout(a,1))}function m(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var v=a(0);a.d(e,"a",function(){return n}),a.d(e,"d",function(){return i}),a.d(e,"b",function(){return p}),a.d(e,"c",function(){return m})},function(t,e,a){"use strict";function n(t,e){e&&Object.keys(e).map(function(t){o.a[t]=e[t]}),t.directive("money",r.a),t.component("money",s.a)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),s=a.n(i),r=a(1),o=a(0);a.d(e,"Money",function(){return s.a}),a.d(e,"VMoney",function(){return r.a}),a.d(e,"options",function(){return o.a}),a.d(e,"VERSION",function(){return c});var c="0.8.1";e.default=n,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=a(0),s=a(2);e.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return i.a.precision}},decimal:{type:String,default:function(){return i.a.decimal}},thousands:{type:String,default:function(){return i.a.thousands}},prefix:{type:String,default:function(){return i.a.prefix}},suffix:{type:String,default:function(){return i.a.suffix}}},directives:{money:n.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(t,e){var n=a.i(s.a)(t,this.$props);n!==this.formattedValue&&(this.formattedValue=n)}}},methods:{change:function(t){this.$emit("input",this.masked?t.target.value:a.i(s.d)(t.target.value,this.precision))}}}},function(t,e,a){"use strict";e.a=function(t,e){return t=t||{},e=e||{},Object.keys(t).concat(Object.keys(e)).reduce(function(a,n){return a[n]=void 0===e[n]?t[n]:e[n],a},{})}},function(t,e,a){var n=a(7)(a(4),a(8),null,null);t.exports=n.exports},function(t,e){t.exports=function(t,e,a,n){var i,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(i=t,s=t.default);var o="function"==typeof s?s.options:s;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),n){var c=o.computed||(o.computed={});Object.keys(n).forEach(function(t){var e=n[t];c[t]=function(){return e}})}return{esModule:i,exports:s,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:t.precision,decimal:t.decimal,thousands:t.thousands,prefix:t.prefix,suffix:t.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:t.formattedValue},on:{change:t.change}})},staticRenderFns:[]}},function(t,e,a){t.exports=a(3)}])})},c199:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-text",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-subheader",{staticClass:"pl-0"},[t._v("\n            Mã hồ sơ: \n          ")])],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-subheader",{staticClass:"text-bold",staticStyle:{float:"left"}},[a("span",{staticClass:"text-bold"},[t._v("\n              "+t._s(t.thongTinChungHoSo.dossierNo)+"\n            ")])])],1),a("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-subheader",{staticClass:"pl-0"},[t._v("Thời gian giải quyết: ")])],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),!t.loading&&t.thongTinChungHoSo.durationCount?a("v-subheader",{staticStyle:{float:"left"}},[a("span",{staticClass:"text-bold"},[t._v("\n              "+t._s(t.durationText(t.thongTinChungHoSo.durationUnit,t.thongTinChungHoSo.durationCount))+" làm việc\n            ")])]):t._e()],1),a("v-flex",{attrs:{xs12:""}}),a("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-subheader",{staticClass:"pl-0"},[t._v("Ngày tiếp nhận: ")])],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-subheader",{staticStyle:{float:"left"}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.thongTinChungHoSo.receiveDate))])])],1),a("v-flex",{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-subheader",{staticClass:"pl-0"},[t._v("Ngày hẹn trả: ")])],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||!1!==t.editable&&null!==t.editable&&void 0!==t.editable&&"undefined"!==t.editable?t._e():a("v-subheader",{staticStyle:{float:"left",height:"100%"}},[a("span",{staticClass:"text-bold"},[t._v("\n              "+t._s(t.thongTinChungHoSo.dueDate)+"\n            ")])]),t.loading||!0!==t.editable?t._e():a("v-subheader",{staticStyle:{float:"left",height:"100%"}},[a("vue-ctk-date-time-picker",{ref:"datepicker",attrs:{format:"YYYY-MM-DDTHH:mm",formatted:"DD/MM/YYYY HH:mm","time-format":"HH:mm","without-header":!0,label:t.dueDateInput?"":"Chọn ngày","min-date":t.minDate},model:{value:t.dueDateInput,callback:function(e){t.dueDateInput=e},expression:"dueDateInput"}}),a("v-icon",{staticClass:"hover-pointer",on:{click:t.showDatePicker}},[t._v("event")])],1)],1)],1)],1)],1)],1)},i=[],s=(a("6b54"),a("f576"),a("c5f6"),a("e30a")),r=a.n(s),o={components:{"vue-ctk-date-time-picker":r.a},data:function(){return{minDate:null,editable:!1,dueDateInput:null,dataPostDossier:{serviceCode:"",govAgencyCode:"",processOptionId:""},thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:"",dueDate:"",durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:"",durationUnit:"",durationCount:""}}},created:function(){var t=this;t.$nextTick(function(){t.minDate=t.getCurentDateTime("date")})},computed:{loading:function(){return this.$store.getters.loading},isDetail:function(){return this.$store.getters.isDetail}},watch:{dueDateInput:function(t){this.thongTinChungHoSo["dueDate"]=this.getDuedateF(t)}},methods:{initData:function(t){var e=this,a={serviceName:t.serviceName,dossierTemplateName:t.dossierTemplateName,dossierNo:t.dossierNo?t.dossierNo:"",dueDate:null,receiveDate:t.receivingDate?e.dateTimeView(t.receivingDate):t.receiveDate,durationDate:t.durationDate,dossierId:t.dossierId,dossierIdCTN:t.dossierIdCTN,dossierStatus:t.dossierStatus,dossierStatusText:t.dossierStatusText,durationUnit:t.durationUnit,durationCount:t.durationCount};t.receivingDuedate&&t.editable?a.dueDate=t.receivingDuedate:t.receivingDuedate&&!t.editable?a.dueDate=t.receivingDuedate?e.dateTimeView(t.receivingDuedate):t.dueDate:a.dueDate=t.dueDate,e.thongTinChungHoSo=a,e.editable=t.editable,e.thongTinChungHoSo["editable"]=e.editable,e.editable&&(e.dueDateInput=e.thongTinChungHoSo.dueDate?e.formatDateInput(new Date(Number(e.thongTinChungHoSo.dueDate))):null),e.minDate=e.getCurentDateTime("date")},getthongtinchunghoso:function(){return this.thongTinChungHoSo},getCurentDateTime:function(t){var e=new Date;return"datetime"===t?"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):"date"===t?"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate()):void 0},changeDate:function(){this.thongTinChungHoSo["dueDate"]=this.getDuedate()},changeDossierNo:function(t){this.thongTinChungHoSo["dossierNo"]=t},getDuedate:function(){var t=this.dueDateInput?new Date(this.dueDateInput).getTime():"";return t},getDuedateF:function(t){var e=new Date(t).getTime();return e},durationText:function(t,e){var a;if(1===t&&e>8){var n,i=Math.floor(e/8)+" ngày";n=e%8!==0?8*(e/8-Math.floor(e/8))+" giờ":"",a="".concat(i," ").concat(n)}else 0===t?a=e+" ngày":1===t&&e<=8&&(a=e+" giờ");return a},goBack:function(){var t=this,e=t.$router.history.current.params,a=t.$router.history.current.query;t.$router.push({path:"/danh-sach-ho-so/"+e.index,query:a})},dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}},formatDateInput:function(t){return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}}},c=o,u=a("2877"),l=Object(u["a"])(c,n,i,!1,null,null,null);e["a"]=l.exports},f374:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-info",staticStyle:{width:"100%"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),1===t.data_payment.requestPayment||5===t.data_payment.requestPayment?a("span",[t._v(t._s(t.data_payment.paymentFee))]):t._e(),2===t.data_payment.requestPayment?a("span",[t._v("Lập phiếu thanh toán")]):t._e()]),a("v-card",[a("v-card-text",{staticClass:"pb-1"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Lệ phí: ")])],1),a("v-flex",{attrs:{xs12:"",sm3:""}},[1===t.data_payment.editable||3===t.data_payment.editable?a("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.feeAmount,callback:function(e){t.$set(t.data_payment,"feeAmount",e)},expression:"data_payment.feeAmount"}}):a("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.feeAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),a("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Phí: ")])],1),a("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm3:""}},[2===t.data_payment.editable||3===t.data_payment.editable?a("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.serviceAmount,callback:function(e){t.$set(t.data_payment,"serviceAmount",e)},expression:"data_payment.serviceAmount"}}):a("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.serviceAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),a("v-flex",{attrs:{xs12:"",sm2:""}}),2!==t.viaPortal&&"2"!==t.viaPortal||0===t.data_payment.shipAmount?t._e():a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Phí chuyển phát: ")])],1),2!==t.viaPortal&&"2"!==t.viaPortal||0===t.data_payment.shipAmount?t._e():a("v-flex",{attrs:{xs12:"",sm3:""}},[1===t.data_payment.editable||3===t.data_payment.editable?a("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.shipAmount,callback:function(e){t.$set(t.data_payment,"shipAmount",e)},expression:"data_payment.shipAmount"}}):a("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.shipAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),a("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1),a("v-card-text",{staticClass:"pt-0"},[a("v-layout",{attrs:{wrap:""}},[1===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),1===t.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),1===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),2===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),2===t.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),2===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),5===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),5===t.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),5===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[t._v("Đã tạm nộp: ")])])],1):t._e(),5===t.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[t._v(t._s(t.currency(Number(t.data_payment.advanceAmount.toString().replace(/\./g,"")).toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),5===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),5===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[t._v("Còn phải nộp: ")])])],1):t._e(),5===t.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),5===t.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):t._e()],1),a("v-layout",{staticStyle:{position:"relative"},attrs:{wrap:""}},[a("v-flex",{staticClass:"my-0 py-1",staticStyle:{width:"70px"}},[a("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" Ghi chú:")]),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[0==t.activeEdit?a("div",{staticClass:"pl-2"},[a("v-textarea",{staticClass:"py-0",attrs:{row:"2",readonly:t.activeEdit,required:""},model:{value:t.data_payment.paymentNote,callback:function(e){t.$set(t.data_payment,"paymentNote",e)},expression:"data_payment.paymentNote"}})],1):t._e(),t.activeEdit||""===t.data_payment.paymentNote?a("p",{staticClass:"px-2 my-0 py-1"},[t._v("\n                "+t._s(t.data_payment.paymentNote)+"   \n                "),1==t.activeEdit?a("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"blue",size:"20",title:"Sửa",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!1}}},[t._v("\n                  create\n                ")]):t._e()],1):t._e(),a("span",{staticStyle:{position:"absolute",top:"15px",right:"10px"}},[0==t.activeEdit?a("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"green",size:"25",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!0}}},[t._v("\n                  check\n                ")]):t._e()],1)])],1),t.paymentFile&&5===t.data_payment.requestPayment?a("div",[a("span",[a("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" File báo thanh toán:")]),t._v(" \n            "),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile()}}},[a("v-icon",[t._v("attach_file")]),t._v("\n              "+t._s(t.paymentFileName)+"\n            ")],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.downloadPaymentFile(t.item)}},slot:"activator"},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{size:"16",color:"primary"}},[t._v("save_alt")])],1),a("span",[t._v("Tải xuống")])],1)],1):t._e()],1)],1)],1)],1),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("File đính kèm")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},i=[],s=(a("6b54"),a("a481"),a("c5f6"),a("716b")),r={props:{payments:{type:Object,default:function(){}},viaPortal:{type:Number,default:function(){return 0}},detailDossier:{type:Object,default:function(){}}},model:{prop:"payments"},data:function(){return{data_payment:{},money:{decimal:"",thousands:".",prefix:"",suffix:"",precision:0,masked:!1},totalFee:0,feeTamThu:0,feeTong:0,checkPaid:!0,activeEdit:!0,paymentFile:"",dialogPDF:!1,dialogPDFLoading:!0}},directives:{money:s["VMoney"]},created:function(){var t=this;t.data_payment=t.payments,t.payments&&setTimeout(function(){var e="number"===typeof t.payments.feeAmount?Number(t.payments.feeAmount):Number(t.payments.feeAmount.toString().replace(/\./g,""));if(1===t.payments.requestPayment){var a="number"===typeof t.payments.serviceAmount?Number(t.payments.serviceAmount):Number(t.payments.serviceAmount.toString().replace(/\./g,""));t.feeTong=e+a,t.totalFee=e+a}else if(2===t.payments.requestPayment){var n=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,i=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;2!==t.viaPortal&&"2"!==t.viaPortal||0===i?t.totalFee=e+n:t.totalFee=e+n+i}else{var s=t.payments.advanceAmount?Number(t.payments.advanceAmount.toString().replace(/\./g,"")):0,r=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,o=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;if(2!==t.viaPortal&&"2"!==t.viaPortal||0===o?(t.feeTong=e+r,t.totalFee=e+r-s):(t.feeTong=e+r+o,t.totalFee=e+r+o-s),5===t.payments.requestPayment){var c=t.detailDossier;t.$store.dispatch("getPaymentFiles",c).then(function(e){t.paymentFile=e})}}t.totalFee<0&&(t.totalFee=0)},300)},computed:{paymentFileName:function(){return this.$store.getters.getPaymentFileName}},watch:{viaPortal:function(t){console.log("viaPortal",t),this.changeFee()},detailDossier:function(t){var e=this;if(5===e.payments.requestPayment){var a=t;console.log("run get paymentfile",a),e.$store.dispatch("getPaymentFiles",a).then(function(t){e.paymentFile=t})}}},methods:{changeFee:function(){var t=this,e=t.data_payment,a=e.feeAmount?Number(e.feeAmount.toString().replace(/\./g,"")):0;if(1===e.requestPayment){var n=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0;t.feeTong=a+n,t.totalFee=a+n}else if(2===e.requestPayment){var i=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,s=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;2!==t.viaPortal&&"2"!==t.viaPortal||0===s?t.totalFee=a+i:t.totalFee=a+i+s}else{var r=Number(e.advanceAmount.toString().replace(/\./g,"")),o=Number(e.serviceAmount.toString().replace(/\./g,"")),c=Number(e.shipAmount.toString().replace(/\./g,""));2!==t.viaPortal&&"2"!==t.viaPortal||0===c?(t.feeTong=a+o,t.totalFee=a+o-r):(t.feeTong=a+o+c,t.totalFee=a+o+c-r)}t.totalFee<0&&(t.totalFee=0)},viewFile:function(){var t=this;t.dialogPDFLoading=!0,t.dialogPDF=!0;var e={dossierId:t.detailDossier.dossierId,referenceUid:t.detailDossier.referenceUid};t.$store.dispatch("viewPaymentFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=e})},downloadPaymentFile:function(t){var e=this,a="/o/rest/v2/dossiers/"+e.detailDossier.dossierId+"/payments/"+e.detailDossier.referenceUid+"/confirmfile";window.open(a)},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},goBack:function(){window.history.back()}},filters:{}},o=r,c=a("2877"),u=Object(c["a"])(o,n,i,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-3c2ad700.js.map