(function(e){function t(t){for(var r,n,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)n=s[u],o[n]&&d.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(r=!1)}r&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},o={app:0},i=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=l;i.push(["56d7","chunk-vendors"]),a()})({"19cd":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!0,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[a("v-text-field",{attrs:{slot:"activator","append-icon":"event",value:e.formatDate(e.rawDate),rules:[e.rules.required]},on:{blur:function(t){e.toDate=e.parseDate(e.toDateFormatted)}},slot:"activator"},[a("template",{slot:"label"},[e._v(e._s(e.item["label"])+" "),e.item.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2),a("v-date-picker",{attrs:{max:e.maxDate,min:e.minDate,"no-title":""},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)},o=[],i=a("830f"),n=i["a"],s=a("2877"),l=a("6544"),c=a.n(l),p=a("2e4b"),u=a("e449"),d=a("2677"),f=Object(s["a"])(n,r,o,!1,null,null,null);f.options.__file="DatetimePicker.vue";t["a"]=f.exports;c()(f,{VDatePicker:p["a"],VMenu:u["a"],VTextField:d["a"]})},"3c87":function(e,t,a){"use strict";var r="\n    {\n        getDynamicReports(start: -1, end: -1) {\n            dynamicReportId\n            reportCode\n            reportName\n            filterConfig\n            tableConfig\n            userConfig\n            sharing\n        }\n    }\n",o='\n    mutation {\n        updateDynamicReport(\n            body: "INPUTBODY"\n        ) {\n            dynamicReportId\n        }\n    }\n';t["a"]={getDynamicReports:r,updateDynamicReport:o}},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),_AdminConfig__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("3c87"),jquery__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_6__),file_saver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_7__);vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]);var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},dataSocket:{},pullCounter:0,tocken:"",loginUser:[{email:"",role:""}],user:null,socket:{isConnected:!1,message:"",reconnectError:!1},endPointApi:"/o/rest/v2",getDeliverableTypes:[],getContentFile:"",getContentFileSimple:[],selected:["dossierNo","delegateName","delegateAddress","delegateTelNo","receiveDate","dueDate"],reportType:"REPORT_01",groupType:"domain",siteName:"",itemsReports:[],reportConfigStatic:{}},actions:{loadInitResource:function(e){var t=e.commit,a=e.state;return new Promise(function(e){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20103});var r={headers:{groupId:a.initData["groupId"]}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/site/name",r).then(function(r){var o=r.data;a.siteName=o,console.log(a.siteName),t("setsiteName",o),e(a.initData)}).catch(function(e){console.log(e)})})},updateDynamicReport:function(e,t){var a=e.commit,r=e.state;return new Promise(function(e,o){var i={headers:{groupId:r.groupId,"Content-Type":"text/plain",Accept:"application/json"}},n={};for(var s in t.itemsReports)if(t.itemsReports[s]["code"]===String(t.index)){n["dynamicReportId"]=t.itemsReports[s]["dynamicReportId"],n["userConfig"]=t.itemsReports[s]["userConfig"];break}var l=n["userConfig"];l[t.userId]=t.selected,n["userConfig"]=l;var c=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].updateDynamicReport.replace("INPUTBODY",JSON.stringify(n).replace(/"/g,'\\"').replace(/'/g,'\\"'));axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",c,i).then(function(t){console.log(t),e(t.data)}).catch(function(e){a("setsnackbarerror",!0),o(e)})})},doChotSoLieu:function(e,t){e.commit;var a=e.state;return new Promise(function(e,r){var o={headers:{groupId:a.groupId,"Content-Type":"text/plain",Accept:"application/json"},params:{}};for(var i in o["params"][t["key"]]=t["value"],t["data"]){var n=t["data"][i];if(""!==n&&void 0!==n&&null!==n){var s=new Date(n).toLocaleDateString("vi-VN");"Invalid Date"!==s&&13===String(n).length?o.params[i]=s:o.params[i]=n}}axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t["api"],o).then(function(t){var a=t.data;if(a.data){var r=a.data;e(r)}else e(null)}).catch(function(e){console.log(e),r(e)})})},getDynamicReports:function getDynamicReports(_ref4,reportTypeFilter){var commit=_ref4.commit,state=_ref4.state;return new Promise(function(resolve,reject){var reportType="";if(void 0!==reportTypeFilter&&null!==reportTypeFilter&&(reportType=reportTypeFilter),""!==state.siteName)store.dispatch("loadInitResource").then(function(){var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json",reportType:reportType}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].getDynamicReports;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){var serializable=response.data,itemsReportsData=[],indexKey=0;for(var key in serializable["getDynamicReports"]){var current=serializable["getDynamicReports"][key],typeCurrent="dossier";current["reportCode"].startsWith("STATISTIC")&&(typeCurrent="thong_ke");var filterconfigObject=eval("( "+current["filterConfig"]+" )");if(filterconfigObject.hasOwnProperty("groupIds")&&filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]){var govCodes=filterconfigObject["groupIds"],exit=!1;for(var _key in govCodes)if(String(state.groupId)===govCodes[_key]["value"]){exit=!0;break}!exit&&(filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]||!filterconfigObject.hasOwnProperty("exclusive"))&&govCodes.push({value:parseInt(state.groupId),text:state.siteName}),filterconfigObject["groupIds"]=govCodes}state.reportConfigStatic[indexKey]=eval("( "+current["tableConfig"]+" )"),itemsReportsData.push({code:String(indexKey),document:current["reportCode"],active:!1,type:typeCurrent,title:current["reportName"],filterConfig:filterconfigObject,tableConfig:eval("( "+current["tableConfig"]+" )"),userConfig:eval("( "+current["userConfig"]+" )"),dynamicReportId:current["dynamicReportId"],reportCode:current["reportCode"],reportName:current["reportName"],sharing:current["sharing"]}),indexKey+=1}state.itemsReports=itemsReportsData,console.log("state.itemsReports",state.itemsReports),resolve(itemsReportsData)}).catch(function(e){state.itemsReports=[],commit("setsnackbarerror",!0),reject(e)})});else{var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json",reportType:reportType}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].getDynamicReports;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){var serializable=response.data,itemsReportsData=[],indexKey=0;for(var key in serializable["getDynamicReports"]){var current=serializable["getDynamicReports"][key],typeCurrent="dossier";current["reportCode"].startsWith("STATISTIC")&&(typeCurrent="thong_ke");var filterconfigObject=eval("( "+current["filterConfig"]+" )");if(filterconfigObject.hasOwnProperty("groupIds")&&filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]){var govCodes=filterconfigObject["groupIds"],exit=!1;for(var _key2 in govCodes)if(String(state.groupId)===govCodes[_key2]["value"]){exit=!0;break}!exit&&(filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]||!filterconfigObject.hasOwnProperty("exclusive"))&&govCodes.push({value:parseInt(state.groupId),text:state.siteName}),filterconfigObject["groupIds"]=govCodes}state.reportConfigStatic[indexKey]=eval("( "+current["tableConfig"]+" )"),itemsReportsData.push({code:String(indexKey),document:current["reportCode"],active:!1,type:typeCurrent,title:current["reportName"],filterConfig:filterconfigObject,tableConfig:eval("( "+current["tableConfig"]+" )"),userConfig:eval("( "+current["userConfig"]+" )"),dynamicReportId:current["dynamicReportId"],reportCode:current["reportCode"],reportName:current["reportName"],sharing:current["sharing"]}),indexKey+=1}state.itemsReports=itemsReportsData,console.log("state.itemsReports",state.itemsReports),resolve(itemsReportsData)}).catch(function(e){state.itemsReports=[],commit("setsnackbarerror",!0),reject(e)})}})},getAgencyReportLists:function(e,t){var a=e.state;return new Promise(function(e,r){store.dispatch("loadInitResource").then(function(){var o={headers:{groupId:a.initData.groupId,Accept:"application/json"},params:{}};for(var i in t["data"]){var n=t["data"][i];if(""!==n&&void 0!==n&&null!==n){var s=new Date(n).toLocaleDateString("vi-VN");"Invalid Date"!==s&&13===String(n).length?o.params[i]=s:o.params[i]=n}}var l=t["govAgency"],c=t["agencyLists"],p="";if(p=t["api"],0===c.length)axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(p,o).then(function(a){var r=a.data;r.data?e(r.data):(console.log("docu","STATISTIC_05"===t.document),"STATISTIC_05"===t.document?e([]):e(null))}).catch(function(e){console.log(e),r(e)});else if("0"===String(l)&&c.length>0){var u=[];for(var d in c)"0"!==String(c[d]["value"])&&(o["headers"]["groupId"]=c[d]["value"],u.push(axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(p,o)));axios__WEBPACK_IMPORTED_MODULE_3___default.a.all(u).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(){for(var t=[],a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];for(var i=0;i<r.length;i++)r[i]["data"]["total"]>0&&(t=t.concat(r[i]["data"]["data"]));t.length>0?e(t):e(null)}))}else"0"!==String(l)&&c.length>0&&(o["headers"]["groupId"]=l,axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(p,o).then(function(t){var a=t.data;a.data?e(a.data):e(null)}).catch(function(e){console.log(e),r(e)}))})})},doStatisticReportPrint:function(e,t){var a=e.state;return new Promise(function(e,r){store.dispatch("loadInitResource").then(function(){axios__WEBPACK_IMPORTED_MODULE_3___default()({method:"PUT",url:"/o/rest/v2_1/statistics/report/"+t.document,headers:{groupId:a.initData.groupId},responseType:"blob",data:t.data}).then(function(a){var r=a.data;if(t["download"])file_saver__WEBPACK_IMPORTED_MODULE_7___default()(r,(new Date).getTime()+".xls");else{var o=window.URL.createObjectURL(r);e(o)}}).catch(function(e){r(e)})})})},doExportXlsx:function(e,t){e.state;return new Promise(function(e,a){var r=new FormData;r.append("files",t["file"]),window.$.support.cors=!0,window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/uploadFiles",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:r,crossDomain:!0,type:"POST",success:function(e){console.log(e);var t=new FormData;t.append("url",e["url"]),t.append("index",e["index"]),t.append("pid",1),t.append("oid",3),t.append("status",0),t.append("pwd",""),t.append("formatv1",2),t.append("formatv2",2);e["fileName"];setTimeout(function(){window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/doProcess.do",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:t,crossDomain:!0,type:"POST",success:function(e){setTimeout(function(){console.log(e),console.log("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx"),window.open("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx")},1e3)}})},1e3)}})})},doExportXlsxddd:function(e,t){e.state;return new Promise(function(e,t){var a=new FormData;a.append("files",window.$("#filefile")[0].files[0]),window.$.support.cors=!0,window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/uploadFiles",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:a,crossDomain:!0,type:"POST",success:function(e){console.log(e);var t=new FormData;t.append("url",e["url"]),t.append("index",e["index"]),t.append("pid",1),t.append("oid",3),t.append("status",0),t.append("pwd",""),t.append("formatv1",2),t.append("formatv2",2);e["fileName"];setTimeout(function(){window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/doProcess.do",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:t,crossDomain:!0,type:"POST",success:function(e){setTimeout(function(){console.log(e),console.log("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx"),window.open("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx")},1e3)}})},1e3)}})})},doExportXlsx2:function(e,t){e.state;return new Promise(function(e,t){var a=new FormData;a.append("SuccessPage"," /Success/{ID}"),a.append("OutputFormat","Word"),a.append("File",window.$("#filefile")[0].files[0]),a.append("ReconstructionMode","flowing"),a.append("DetectTables",!0),a.append("DetectLists","detect"),a.append("HeaderAndFooterMode","detect"),a.append("AnnotRecoveryType","comment"),a.append("DocFormat","Word"),a.append("AutoRotate",!0),a.append("TextRecoveryMode",0),a.append("NSEMode",0),a.append("ocrLanguage","au"),a.append("Password",""),a.append("DynamicFile",window.$("#filefile")[0].files[0]),window.$.support.cors=!0,window.$.ajax({url:"https://simplypdf.com/api/convert",dataType:"jsonp",cache:!1,contentType:!1,processData:!1,data:a,crossDomain:!0,type:"POST",success:function(e){console.log(e)}})})}},mutations:{setInitData:function(e,t){e.initData=t},setsnackbarerror:function(e,t){e.snackbarerror=t},setsnackbarsocket:function(e,t){e.snackbarsocket=t},setpullCounter:function(e,t){e.pullCounter=t},setdataSocket:function(e,t){e.dataSocket=t},setselected:function(e,t){e.selected=t},setselectedText:function(e,t){e.selectedText=t},setreportType:function(e,t){e.reportType=t},setgroupType:function(e,t){e.groupType=t},setsiteName:function(e,t){e.siteName=t},setitemsReports:function(e,t){e.itemsReports=t},setreportConfigStatic:function(e,t){e.reportConfigStatic=t}},getters:{getsnackbarerror:function(e){return e.snackbarerror},getsnackbarsocket:function(e){return e.snackbarsocket},getDeliverableTypes:function(e){return e.getDeliverableTypes},getContentFile:function(e){return e.getContentFile},getContentFileSimple:function(e){return e.getContentFileSimple},pullCounter:function(e){return e.pullCounter},dataSocket:function(e){return e.dataSocket},selected:function(e){return e.selected},selectedText:function(e){return e.selectedText},reportType:function(e){return e.reportType},groupType:function(e){return e.groupType},siteName:function(e){return e.siteName},itemsReports:function(e){return e.itemsReports},reportConfigStatic:function(e){return e.reportConfigStatic}}})},"56d7":function(e,t,a){"use strict";a.r(t);a("0f18");var r=a("a026"),o=a("bb71");a("74ef");r["a"].use(o["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app_dynamic_report"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"240"}}),a("v-content",[a("router-view")],1)],1)},n=[],s={data:function(){return{}}},l=s,c=a("2877"),p=a("6544"),u=a.n(p),d=a("7496"),f=a("549c"),_=a("f774"),v=Object(c["a"])(l,i,n,!1,null,null,null);v.options.__file="App.vue";var m=v.exports;u()(v,{VApp:d["a"],VContent:f["a"],VNavigationDrawer:_["a"]});var g=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n bbbbbb\n")])},h=[],x={data:function(){return{}}},T=x,b=Object(c["a"])(T,y,h,!1,null,null,null);b.options.__file="Landing.vue";var C=b.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  uuuttttttttttt 12312 3123  1231\n  "),a("v-layout",{attrs:{wrap:""}},[a("div",e._l(e.dossierCounting,function(t,r){return a("v-chip",{key:r},["deleted"===t.key?a("v-avatar",[a("v-icon",{attrs:{size:"16"}},[e._v("delete")])],1):a("v-avatar",[e._v(e._s(t.count))]),e._v("\n        "+e._s(t.title)+"\n      ")],1)}),1)])],1)},k=[],w={props:["index"],data:function(){return{dossierCounting:[]}}},R=w,S=a("8212"),E=a("cc20"),P=a("132d"),O=a("a722"),I=Object(c["a"])(R,D,k,!1,null,null,null);I.options.__file="TiepNhanHoSoDetail.vue";var V=I.exports;u()(I,{VAvatar:S["a"],VChip:E["a"],VIcon:P["a"],VLayout:O["a"]});var M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  9816313910231203\n")])},L=[],B={props:["index"],data:function(){return{}}},X=B,A=Object(c["a"])(X,M,L,!1,null,null,null);A.options.__file="HoanThienBoSungHoSoDetail.vue";var K=A.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  13123\n")])},F=[],U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-chitiet"},[a("div",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(t){e.getNextActions()}}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===e.originality?a("span",[e._v("XỬ LÝ HỒ SƠ")]):a("span",[e._v("CHUẨN BỊ HỒ SƠ")])])],1),a("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==e.checkInput&&e.filterNextActionEnable(e.btnDossierDynamics)?a("div",{staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[e._v("\n                123\n              ")])],1)],1):e._e(),e.btnStateVisible?a("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[e._l(e.btnPlugins,function(t,r){return a("v-btn",{key:r,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:e.loadingPlugin,disabled:e.loadingPlugin},nativeOn:{click:function(a){e.processPullBtnplugin(t,r)}}},[e._v("\n              "+e._s(t.pluginName)+"\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])}),e.btnStepsDynamics.length>0&&e.thongTinChiTietHoSo["permission"].indexOf("write")>=0?a("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Khác   "),a("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),a("v-list",e._l(e.btnStepsDynamics,function(t,r){return a("v-list-tile",{key:r,on:{click:function(a){e.btnActionEvent(t,r)}}},[a("v-list-tile-title",[e._v(e._s(t.title))])],1)}),1)],1):e._e()],2):e._e()])],1)],1)],1)])},W=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[e._l(e.dossierTemplateItems,function(t,r){return e.partTypes.includes(t.partType)&&e.checkVisibleTemp(t,r)?a("div",{key:t.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[e.currentFormView==="formAlpaca"+t.partNo+e.id]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(a){e.onlyView&&t.hasForm?e.viewFile2(t):e.loadAlpcaForm(t)}}},[a("div",{staticClass:"header__tphs"},[a("span",{staticClass:"text-bold"},[e._v(e._s(r+1)+".")]),e._v("  ")]),a("div",{staticClass:"header__tphs"},[a("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                      "+e._s(t.partName)+"  \n                      "),t.required?a("span",{staticStyle:{color:"red"}},[e._v(" (*) ")]):e._e(),e._v("\n                        \n                    ")]),t.partTip["tip"]?a("span",[e._v(e._s(t.partTip["tip"]))]):e._e()]),t.hasForm&&t.daKhai&&(1===e.originality&&2!==t.partType||1!==e.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),a("span",[e._v("Biểu mẫu trực tuyến (Đã khai)")])]):e._e(),t.hasForm&&!t.daKhai&&(1===e.originality&&2!==t.partType||1!==e.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),a("span",[e._v("Biểu mẫu trực tuyến (Chưa khai)")])]):e._e(),e._v("\n                    \n                  "),!t.hasForm&&t.hasFileTemp?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){a.stopPropagation(),e.downloadFileTemplate(t,r)}},slot:"activator"},[e._v("save_alt")]),a("span",[e._v("Biểu mẫu điền thủ công")])],1):e._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?a("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(e){return!!e||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.changeFileComment(t,r)}},model:{value:t.fileComment,callback:function(a){e.$set(t,"fileComment",a)},expression:"item.fileComment"}}):e._e(),1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){a.stopPropagation(),e.changeFileComment(t,r)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("send")])],1),a("span",[e._v("Gửi")])],1):e._e()],1),t.fileComment&&!t.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[e._v(e._s(t.fileComment))]):e._e(),t.fileComment&&!t.stateEditFileCheck&&1===e.checkInput?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.stateEditFileCheck=!t.stateEditFileCheck}},slot:"activator"},[e._v("edit")]),a("span",[e._v("Chỉnh sửa ý kiến")])],1):e._e(),e._l(e.dossierFilesItems,function(r,o){return t.partNo!==r.dossierPartNo||r.eForm?e._e():a("div",{key:o},[a("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(r)}}},[0!==r.fileSize?a("v-icon",[e._v("attach_file")]):e._e(),e._v("\n                    "+e._s(r.displayName)+" - \n                    "),a("i",[e._v(e._s(r.modifiedDate))])],1),e.onlyView||1===e.checkInput?e._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.deleteSingleFile(r,o)}}},[a("v-icon",{staticStyle:{color:"red"}},[e._v("delete_outline")])],1)],1)])}),a("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+t.partNo}},e._l(e.dossierFilesApplicant,function(r,o){return r.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&t.partNo===r.dossierPartNo?a("div",{key:o},[r.eForm?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(r)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),e._v("  \n                        "+e._s(r.referenceUid)+"."+e._s(r.fileType)+" - \n                        "),a("i",[e._v(e._s(r.modifiedDate))])]),a("span",[e._v("Bản khai trực tuyến")])])],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(r)}},slot:"activator"},[0!==r.fileSize?a("v-icon",{staticStyle:{color:"#0d71bb"}},[e._v("attach_file")]):e._e(),e._v("\n                        "+e._s(r.displayName)+" - \n                        "),a("i",[e._v(e._s(r.modifiedDate))])],1),a("span",[e._v("Đính kèm")])])],1)]):e._e()}),0)],2)]),t.hasForm&&!e.onlyView?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[e.stateView?e._e():a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:e.pstFixed>e.pstEl&&e.pstFixed<e.endEl+e.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+t.partNo+e.id}},[t.hasForm&&!e.onlyView&&1!==e.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.saveAlpacaForm(t,r)}}},[e._v("Lưu lại")]):e._e(),t.daKhai&&t.hasForm&&!e.onlyView&&1!==e.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.deleteSingleFileEform(t,r)}}},[e._v("Xóa")]):e._e(),t.daKhai&&t.hasForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.previewFileEfom(t,r)}}},[e._v("In")]):e._e()],1),!e.onlyView||t.daKhai?a("div",{class:{no_acction__event:e.onlyView},attrs:{id:"formAlpaca"+t.partNo+e.id}}):e._e()])],1)],1)],1):e._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[e.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput?e._e():a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[a("v-select",{attrs:{items:e.fileMarkItems,disabled:e.onlyView},on:{change:function(t){e.changeFileMark(t,r)}},model:{value:e.dossierTemplateItems[r].fileMark,callback:function(t){e.$set(e.dossierTemplateItems[r],"fileMark",t)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===e.checkInput?a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a("v-select",{attrs:{items:e.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(t){e.changeFileCheck(t,r)}},model:{value:e.dossierTemplateItems[r].fileCheck,callback:function(t){e.$set(e.dossierTemplateItems[r],"fileCheck",t)},expression:"dossierTemplateItems[index].fileCheck"}})],1):t.fileCheck>0?a("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":e.thongTinHoSo.online?"10px":"0px"}},[1===t.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[e._v("done")]),a("span",[e._v("Đạt")])],1):2===t.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[e._v("close")]),a("span",[e._v("Không đạt")])],1):e._e()],1):e._e(),1!==e.checkInput?a("v-flex",{class:{"text-xs-right":e.onlyView},style:{width:e.onlyView?"auto":"90px"}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+t.partNo},on:{change:function(a){e.onUploadSingleFile(a,t,r)}}}),3!==t.partType||3!==e.originality||e.onlyView?e._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.addFileOther(t)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("add")])],1),a("span",[e._v("Thêm giấy tờ khác")])],1),e.progressUploadPart===t.partNo?a("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e.progressUploadPart===t.partNo||e.onlyView?e._e():a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.pickFile(t)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"primary"}},[e._v("cloud_upload")])],1)],1),t.partTip["extensions"]||t.partTip["maxSize"]?a("span",[e._v("Chấp nhận tải lên các định dạng: "+e._s(t.partTip["extensions"])+". Tối đa "+e._s(t.partTip["maxSize"])+" MB ")]):a("span",[e._v("Tải file lên")])],1),e.partNoApplicantHasFile(t.partNo)&&!e.onlyView?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.showFilesApplicant(t.partNo)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("warning")])],1)],1),a("span",[e._v("Giấy tờ đã nộp")])],1):e._e()],1):e._e()],1)],1)],1):e._e()}),e.partTypes.includes(2)?e._e():a("div",[a("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!e.onlyView||e.onlyView&&e.applicantNoteDossier?a("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[e._v("Ghi chú:")]):e._e(),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[e.onlyView?e._e():a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:e.changeApplicantNote},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}})],1),e.onlyView&&e.applicantNoteDossier?a("p",{staticClass:"my-0 py-2"},[e._v("\n            "+e._s(e.applicantNoteDossier)+" \n          ")]):e._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAddOtherTemp,callback:function(t){e.dialogAddOtherTemp=t},expression:"dialogAddOtherTemp"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[e._v("Tên giấy tờ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[a("v-icon",[e._v("clear")])],1),e.loadingAddOther?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(e){return!!e||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:e.otherDossierTemplate,callback:function(t){e.otherDossierTemplate=t},expression:"otherDossierTemplate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[e._v("\n              Quay lại\n            ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.addOtherTemplate(t)}}},[e._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1)],1)],1)],1)],2),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e.pdfEform?a("span",[e._v("Bản khai trực tuyến")]):a("span",[e._v("File đính kèm")])]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},j=[],q={data:function(){return{}}},H=q,z=a("4ca6"),G=a("8336"),J=a("b0af"),Y=a("99d9"),Q=a("12b2"),Z=a("169a"),ee=a("cd55"),te=a("49e2"),ae=a("0e8f"),re=a("4bd4"),oe=a("490a"),ie=a("8e36"),ne=a("b56d"),se=a("9910"),le=a("2677"),ce=a("3a2f"),pe=Object(c["a"])(H,$,j,!1,null,null,null);pe.options.__file="TiepNhanHoSo_ThanhPhanHoSo.vue";var ue=pe.exports;u()(pe,{VBadge:z["a"],VBtn:G["a"],VCard:J["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Q["a"],VDialog:Z["a"],VExpansionPanel:ee["a"],VExpansionPanelContent:te["a"],VFlex:ae["a"],VForm:re["a"],VIcon:P["a"],VLayout:O["a"],VProgressCircular:oe["a"],VProgressLinear:ie["a"],VSelect:ne["a"],VSpacer:se["a"],VTextField:le["a"],VTooltip:ce["a"]});var de={props:["index","id"],components:{"thanh-phan-ho-so":ue},data:function(){return{}}},fe=de,_e=a("8860"),ve=a("ba95"),me=a("5d23"),ge=a("e449"),ye=a("71a3"),he=a("c671"),xe=a("fe57"),Te=a("aac8"),be=a("9a96"),Ce=Object(c["a"])(fe,U,W,!1,null,null,null);Ce.options.__file="XemChiTietHoSoDetailCanBo.vue";var De=Ce.exports;u()(Ce,{VBtn:G["a"],VExpansionPanel:ee["a"],VExpansionPanelContent:te["a"],VIcon:P["a"],VList:_e["a"],VListTile:ve["a"],VListTileTitle:me["b"],VMenu:ge["a"],VTab:ye["a"],VTabItem:he["a"],VTabs:xe["a"],VTabsItems:Te["a"],VTabsSlider:be["a"]});var ke={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":De},data:function(){return{initData:null,step:""}}},we=ke,Re=Object(c["a"])(we,N,F,!1,null,null,null);Re.options.__file="DetailForward.vue";var Se=Re.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},Pe=[],Oe={},Ie=Oe,Ve=a("a523"),Me=Object(c["a"])(Ie,Ee,Pe,!1,null,null,null);Me.options.__file="NotFound.vue";var Le=Me.exports;u()(Me,{VContainer:Ve["a"],VFlex:ae["a"],VLayout:O["a"],VProgressCircular:oe["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticClass:"form-chitiet"},[a("div",{staticClass:"row-header"},[a("div",{staticClass:"background-triangle-big"},[a("span",[e._v(e._s(e.nameReport))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex xs12 pl-3 text-ellipsis text-bold"},[a("v-layout",{staticClass:"chart__report",attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 text-right"},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:""},nativeOn:{click:function(t){e.showGuilds=!e.showGuilds}}},[a("v-icon",[e._v("receipt")]),e._v("   Hướng dẫn PDF -> Excel\n              ")],1),e._l(e.buttons,function(t,r){return e.buttonsShow?a("v-select",{key:r,staticClass:"btn__chot",staticStyle:{float:"right"},attrs:{items:t["source"],label:t["label"],"item-text":"name","item-value":"value","single-line":""},on:{change:function(a){e.doChotSoLieu(a,t)}},model:{value:e.buttonsVal,callback:function(t){e.buttonsVal=t},expression:"buttonsVal"}}):e._e()}),e.customize?a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:""},nativeOn:{click:function(t){e.showConfig=!e.showConfig}}},[e.showConfig?a("v-icon",[e._v("reply")]):a("v-icon",[e._v("settings")]),e._v("  \n                "),e.showConfig?a("span",[e._v("Quay lại")]):a("span",[e._v("Tuỳ chọn")])],1):e._e()],2)],1)],1)])]),a("v-layout",{staticClass:"filter_menu mt-4",attrs:{row:"",wrap:""}},[e.agencyLists.length>1?a("v-flex",{staticClass:"mx-3",attrs:{xs6:"",sm2:""}},[a("v-autocomplete",{attrs:{items:e.agencyLists,label:"Chọn đơn vị","item-text":"text","item-value":"value"},model:{value:e.govAgency,callback:function(t){e.govAgency=t},expression:"govAgency"}})],1):e._e(),e.groupBy.length>1?a("v-flex",{staticClass:"mx-3",attrs:{xs6:"",sm2:""}},[a("v-autocomplete",{attrs:{items:e.groupBy,label:"Nhóm dữ liệu","item-text":"label","item-value":"key"},model:{value:e.groupByVal,callback:function(t){e.groupByVal=t},expression:"groupByVal"}})],1):e._e(),e._l(e.filters,function(t,r){return a("v-flex",{key:r,staticClass:"mx-3",attrs:{xs12:"",sm2:""}},["date"===t["type"]&&e.showPicker?a("datetime-picker",{attrs:{item:t,"data-value":e.data[t.key],"data-all":e.data},on:{change:function(a){e.reloadPickerChange(t.key)}},model:{value:e.data[t.key],callback:function(a){e.$set(e.data,t.key,a)},expression:"data[item.key]"}}):e._e(),"text"===t["type"]?a("v-text-field",{attrs:{label:t["label"]},model:{value:e.data[t.key],callback:function(a){e.$set(e.data,t.key,a)},expression:"data[item.key]"}}):e._e(),"select"===t["type"]?a("v-select",{attrs:{items:t["source"],label:t["label"],"item-value":"value","item-text":"name"},model:{value:e.data[t.key],callback:function(a){e.$set(e.data,t.key,a)},expression:"data[item.key]"}}):e._e()],1)})],2),e.showConfig?a("v-layout",{staticClass:"filter_menu my-3 px-4",attrs:{"align-start":"","justify-start":"",row:"",wrap:""}},e._l(e.itemsReportsConfig,function(t,r){return a("v-flex",{key:r,staticClass:"mx-2"},[e.reportType.startsWith("STATISTIC")?e._e():a("v-checkbox",{attrs:{label:t.text,value:t.value},on:{change:function(t){e.changeConfig(r)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),1):e._e(),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(t){e.doCreateReport(!1)}}},[e._v("Tạo báo cáo")]),a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:""},nativeOn:{click:function(t){e.doCreateReport(!0)}}},[a("v-icon",[e._v("receipt")]),e._v("   Tải xuống Excel\n        ")],1),e.exportXML?a("v-btn",{attrs:{dark:"",color:"blue darken-3"},nativeOn:{click:function(t){return e.doDynamicReportXML(t)}}},[e._v("exportXML")]):e._e()],1)],1),a("div",[e.showGuilds?a("vue-friendly-iframe",{attrs:{src:"https://vietopencps.github.io/frontend-opencps-v2.1/o/opencps-frontend/dynamic_report/assets/hdsd.pdf"}}):e._e(),null!==e.pdfBlob&&void 0!==e.pdfBlob&&""!==e.pdfBlob?a("vue-friendly-iframe",{attrs:{src:e.pdfBlob}}):e._e(),e.showErrorData?a("div",{staticClass:"mx-2"},[a("v-alert",{attrs:{value:!0,outline:"",color:"info",icon:"info"}},[e._v("\n          Không có dữ liệu báo cáo.\n        ")])],1):e._e(),e.isShowLoading?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1):e._e()],1)],1)])},Xe=[],Ae=a("e3ce"),Ke=Ae["a"],Ne=a("0798"),Fe=a("c6a6"),Ue=a("ac7c"),We=Object(c["a"])(Ke,Be,Xe,!1,null,null,null);We.options.__file="Landing.vue";var $e=We.exports;u()(We,{VAlert:Ne["a"],VAutocomplete:Fe["a"],VBtn:G["a"],VCheckbox:Ue["a"],VFlex:ae["a"],VForm:re["a"],VIcon:P["a"],VLayout:O["a"],VProgressCircular:oe["a"],VSelect:ne["a"],VTextField:le["a"]});var je=[{path:"/bao-cao/:index",name:"LandingBaocao",component:$e,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:C,props:!0},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:V,props:!0},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:K,props:!0},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:Se,props:!0},{path:"*",name:"NotFound",component:Le}];r["a"].use(g["a"]);var qe=new g["a"]({routes:je}),He=qe,ze=a("4360"),Ge=a("967d"),Je=a("bc3a"),Ye=a.n(Je);r["a"].use(Ge["default"]);var Qe=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0;Ye.a.defaults.withCredentials=!0,Ye.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",Ye.a.defaults.headers.common["groupId"]=Qe,r["a"].config.productionTip=!0,r["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new r["a"]({router:He,store:ze["a"],created:function(){var e=this;e.$nextTick(function(){if(e.$store.dispatch("loadInitResource"),window.location.href.endsWith("#/")){var t="";window.location.href.includes("/so-theo-doi")&&(t="?reportType=register"),e.$router.push("/bao-cao/0"+t)}})},render:function(e){return e(m)}}).$mount("#app_dynamic_report")},"74ef":function(e,t,a){},"830f":function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],r=!0,o=!1,i=void 0;try{for(var n,s=e[Symbol.iterator]();!(r=(n=s.next()).done);r=!0)if(a.push(n.value),t&&a.length===t)break}catch(l){o=!0,i=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}__webpack_exports__["a"]={data:function(){return{toDateFormatted:null,toDate:null,rawDate:null,maxDate:"",minDate:"",rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}}}},props:["value","item","dataValue","dataAll"],created:function(){var e=this;e.$nextTick(function(){if(console.log("input data: ",e.dataValue),e.rawDate=e.parseDate(e.dataValue),e.item.hasOwnProperty("before")){var t=e.dataAll[e.item["before"]],a=e.parseDate(t);console.log("dataMax: ",a),e.maxDate=a}if(e.item.hasOwnProperty("after")){var r=e.dataAll[e.item["after"]],o=e.parseDate(r);console.log("dataMinConvert: ",o),e.minDate=o}})},watch:{toDate:function(e){var t=this;t.toDateFormatted=t.formatDate(e),t.rawDate=t.parseDate(t.toDateFormatted),t.$emit("input",new Date(e).getTime()),t.$emit("change",new Date(e).getTime())}},methods:{formatDate:function(e){if(!e)return null;var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=_slicedToArray(t,3),r=a[0],o=a[1],i=a[2];return"".concat(i,"-").concat(o.padStart(2,"0"),"-").concat(r.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")}}}},bbd0:function(e){e.exports={}},df87:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:""},nativeOn:{click:function(t){return e.doDownloadXlsx(t)}}},[a("v-icon",[e._v("receipt")]),e._v("   Tải Excel\n")],1)},o=[],i=(a("7ea2"),{props:{fields:void 0,data:void 0,downloadname:"export.pdf",pdfblob:null},data:function(){return{dataToExport:"",myPdfToConvert:null}},created:function(){var e=this;e.$nextTick(function(){e.myPdfToConvert=new Blob([e.pdfblob],{type:"application/pdf"})})},computed:{downloadUrl:function(){return this.data.length>0?"data:text/csv;charset=UTF-8,%EF%BB%BF"+encodeURIComponent(this.dataToExport):"javascript:void(0);"}},methods:{doDownloadXlsx:function(){var e=this,t={file:e.myPdfToConvert};console.log(t),e.$store.dispatch("doExportXlsx",t)}}}),n=i,s=a("2877"),l=a("6544"),c=a.n(l),p=a("8336"),u=a("132d"),d=Object(s["a"])(n,r,o,!1,null,null,null);d.options.__file="CsvDownload.vue";t["a"]=d.exports;c()(d,{VBtn:p["a"],VIcon:u["a"]})},e3ce:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6c39"),vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_0__),pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e499"),pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_1__),pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4ebb"),pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_2__),_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("19cd"),_CsvDownload_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("df87"),jstoxml__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("fd52"),jstoxml__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jstoxml__WEBPACK_IMPORTED_MODULE_5__),file_saver__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_6__);pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_1___default.a.vfs=pdfmake_build_vfs_fonts__WEBPACK_IMPORTED_MODULE_2___default.a.pdfMake.vfs;var jsonMapper=__webpack_require__("8092");__webpack_exports__["a"]={props:["index"],components:{"vue-friendly-iframe":vue_friendly_iframe__WEBPACK_IMPORTED_MODULE_0___default.a,DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_3__["a"],"vue-csv-downloader":_CsvDownload_vue__WEBPACK_IMPORTED_MODULE_4__["a"]},data:function(){return{doExportExcel:!1,showGuilds:!1,showPicker:!0,showErrorData:!1,showCSVDownload:!1,csvExport:[],fields:[],valid:!1,api:"",onlines:[],online:"",itemsReportsConfig:[],report1Def:{},docDefinition:{},isDVC:!1,isCallBack:!0,fromDate:null,fromDateShow:!1,menufromDate:!1,fromDateFormatted:null,toDate:null,toDateShow:!1,menutoDate:!1,toDateMin:null,toDateFormatted:null,danhSachBaoCaos:[],years:[],year:(new Date).getFullYear()+"",months:[],month:0,agencyLists:[],govAgency:0,danhSachBaoCao:[],pdfBlob:null,isShowLoading:!1,isCallData:!1,nameReport:"",showConfig:!1,filters:[],data:{},customize:!1,groupBy:[],groupByVal:"",dataReportXX:"",buttons:[],buttonsVal:"",buttonsShow:!1,noHeader:!0,exportXML:!1,jsonMapperJson:{}}},computed:{itemsReports:function(){return this.$store.getters.itemsReports},reportConfigStatic:function(){return this.$store.getters.reportConfigStatic},selected:{get:function(){return this.$store.getters.selected},set:function(e){this.$store.commit("setselected",e)}},reportType:{get:function(){return this.$store.getters.reportType},set:function(e){this.$store.commit("setreportType",e)}},groupType:{get:function(){return this.$store.getters.groupType},set:function(e){this.$store.commit("setgroupType",e)}}},created:function(){var e=this;e.$nextTick(function(){setTimeout(function(){if(e.showErrorData=!1,e.showCSVDownload=!1,e.agencyLists=[],e.api="",e.filters=[],e.customize=!1,e.data={},e.groupBy=[],e.itemsReportsConfig=[],e.dataReportXX="",e.buttons=[],e.buttonsVal="",e.buttonsShow=!1,e.exportXML=!1,e.nameReport=e.itemsReports[e.index]["reportName"],e.itemsReports[e.index]["filterConfig"].hasOwnProperty("reportConfig")&&(e.itemsReportsConfig=e.itemsReports[e.index]["filterConfig"]["reportConfig"]),e.itemsReports[e.index]["filterConfig"].hasOwnProperty("customize")&&(e.customize=e.itemsReports[e.index]["filterConfig"]["customize"]),e.itemsReports[e.index]["filterConfig"].hasOwnProperty("autoHeader")&&(e.noHeader=e.itemsReports[e.index]["filterConfig"]["autoHeader"]),e.itemsReports[e.index]["filterConfig"].hasOwnProperty("groupBy")){e.groupBy=e.itemsReports[e.index]["filterConfig"]["groupBy"];var t=e.groupBy[0]["key"];for(var a in e.groupBy)if(e.groupBy[a]["selected"]){t=e.groupBy[a]["key"];break}e.groupByVal=t}if(e.itemsReports[e.index]["filterConfig"].hasOwnProperty("groupIds")&&(e.agencyLists=e.itemsReports[e.index]["filterConfig"]["groupIds"],e.agencyLists.length>0)){var r=e.agencyLists[0]["value"];for(var o in e.agencyLists)if(e.agencyLists[o]["selected"]){r=e.agencyLists[o]["value"];break}e.govAgency=r}for(var i in e.itemsReports[e.index]["filterConfig"].hasOwnProperty("api")&&(e.api=e.itemsReports[e.index]["filterConfig"]["api"]),e.itemsReports[e.index]["filterConfig"].hasOwnProperty("filters")&&(e.filters=e.itemsReports[e.index]["filterConfig"]["filters"]),e.filters)"select"!==e.filters[i]["type"]&&"date"!==e.filters[i]["type"]||(e.data[e.filters[i]["key"]]=e.filters[i]["value"]);for(var n in e.itemsReports[e.index]["filterConfig"].hasOwnProperty("buttons")&&(e.buttons=e.itemsReports[e.index]["filterConfig"]["buttons"],e.buttons.length>0&&setTimeout(function(){e.buttonsShow=!0},100)),e.itemsReports[e.index]["filterConfig"].hasOwnProperty("exportXML")&&(e.exportXML=e.itemsReports[e.index]["filterConfig"]["exportXML"]),e.report1Def={},e.itemsReportsConfig)e.report1Def[e.itemsReportsConfig[n]["value"]]=e.itemsReportsConfig[n]["text"];e.reportType=e.itemsReports[e.index]["document"],e.showConfig&&(e.showConfig=!1,setTimeout(function(){e.showConfig=!0},200)),e.pdfBlob=""},500)})},watch:{$route:function(e,t){var a=this;if(console.debug(t),a.showErrorData=!1,a.showCSVDownload=!1,a.itemsReportsConfig=[],a.groupBy=[],a.customize=!1,a.data={},a.api="",a.filters=[],a.report1Def={},a.dataReportXX="",a.buttons=[],a.buttonsVal="",a.buttonsShow=!1,a.exportXML=!1,a.nameReport=a.itemsReports[a.index]["reportName"],a.itemsReports[a.index]["filterConfig"].hasOwnProperty("reportConfig")&&(a.itemsReportsConfig=a.itemsReports[a.index]["filterConfig"]["reportConfig"]),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("customize")&&(a.customize=a.itemsReports[a.index]["filterConfig"]["customize"]),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("autoHeader")&&(a.noHeader=a.itemsReports[a.index]["filterConfig"]["autoHeader"]),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("groupBy")){a.groupBy=a.itemsReports[a.index]["filterConfig"]["groupBy"];var r=a.groupBy[0]["key"];for(var o in a.groupBy)if(a.groupBy[o]["selected"]){r=a.groupBy[o]["key"];break}a.groupByVal=r}if(a.itemsReports[a.index]["filterConfig"].hasOwnProperty("groupIds")&&(a.agencyLists=a.itemsReports[a.index]["filterConfig"]["groupIds"],a.agencyLists.length>0)){var i=a.agencyLists[0]["value"];for(var n in a.agencyLists)if(a.agencyLists[n]["selected"]){i=a.agencyLists[n]["value"];break}a.govAgency=i}for(var s in a.itemsReports[a.index]["filterConfig"].hasOwnProperty("api")&&(a.api=a.itemsReports[a.index]["filterConfig"]["api"]),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("filters")&&(a.filters=a.itemsReports[a.index]["filterConfig"]["filters"]),a.itemsReportsConfig)a.report1Def[a.itemsReportsConfig[s]["value"]]=a.itemsReportsConfig[s]["text"];for(var l in a.reportType=a.itemsReports[a.index]["document"],a.pdfBlob="",a.filters)"select"!==a.filters[l]["type"]&&"date"!==a.filters[l]["type"]||(a.data[a.filters[l]["key"]]=a.filters[l]["value"]);a.itemsReports[a.index]["filterConfig"].hasOwnProperty("buttons")&&(a.buttons=a.itemsReports[a.index]["filterConfig"]["buttons"],a.buttons.length>0&&setTimeout(function(){a.buttonsShow=!0},100)),a.itemsReports[a.index]["filterConfig"].hasOwnProperty("exportXML")&&(a.exportXML=a.itemsReports[a.index]["filterConfig"]["exportXML"]),a.showConfig&&(a.showConfig=!1,setTimeout(function(){a.showConfig=!0},200))}},methods:{doCreatePDF:function(){var e=this;e.reportType.startsWith("STATISTIC")?e.doPrintReportFix():e.doDynamicReport(),e.isCallData=!0},doDynamicReport:function doDynamicReport(){var vm=this;vm.docDefinition={};var docDString={};for(var key in vm.dataReportXX="",docDString=JSON.stringify(vm.reportConfigStatic[vm.index]["docDefinition"]),docDString=docDString.replace(/\[\$siteName\$\]/g,vm.$store.getters.siteName),vm.filters){var find=vm.filters[key]["key"],currentVal=vm.data[vm.filters[key]["key"]];if(""!==currentVal&&void 0!==currentVal&&null!==currentVal){var dateStr=new Date(currentVal).toLocaleDateString("vi-VN");if("Invalid Date"!==dateStr&&13===String(currentVal).length)docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),dateStr);else{if("select"===vm.filters[key]["type"])for(var keySource in vm.filters[key]["source"])String(vm.filters[key]["source"][keySource]["value"])===String(currentVal)&&(currentVal=vm.filters[key]["source"][keySource]["name"]);docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}else{for(var _keySource in currentVal="",vm.filters[key]["source"])if(""===currentVal||"0"===currentVal){currentVal=vm.filters[key]["source"][_keySource]["name"];break}docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}for(var _key5 in vm.agencyLists=vm.itemsReports[vm.index]["filterConfig"]["groupIds"],vm.agencyLists)if(String(vm.agencyLists[_key5]["value"])===String(vm.govAgency)){docDString=docDString.replace(/\[\$groupIds\$\]/g,vm.agencyLists[_key5]["text"]);break}vm.api=vm.itemsReports[vm.index]["filterConfig"]["api"];var widthsConfig=[];widthsConfig.push(30);var headerTableReport="[",header2TableReport="[";headerTableReport+=JSON.stringify({text:"STT",alignment:"center",bold:!0})+",",header2TableReport+=JSON.stringify({text:"(1)",alignment:"center",italics:!0})+",";var ine=2,colLeng=0;for(var _key6 in vm.itemsReportsConfig)if(vm.itemsReportsConfig[_key6].hasOwnProperty("selected")&&vm.itemsReportsConfig[_key6]["selected"]){colLeng+=1,widthsConfig.push("auto");var str1=" ";void 0!==vm.report1Def[vm.itemsReportsConfig[_key6]["value"]]&&null!==vm.report1Def[vm.itemsReportsConfig[_key6]["value"]]&&""!==vm.report1Def[vm.itemsReportsConfig[_key6]["value"]]&&(str1=vm.report1Def[vm.itemsReportsConfig[_key6]["value"]]),headerTableReport+=JSON.stringify({text:str1,alignment:"center",bold:!0})+",",header2TableReport+=JSON.stringify({text:"("+ine+")",alignment:"center",italics:!0})+",",ine+=1}vm.noHeader&&(vm.dataReportXX+=headerTableReport.substring(0,headerTableReport.length-1)+"],",vm.dataReportXX+=header2TableReport.substring(0,header2TableReport.length-1)+"],");var filter={document:vm.reportType,data:vm.data,api:vm.api};filter["govAgency"]=vm.govAgency,filter["agencyLists"]=vm.agencyLists,vm.pdfBlob=null,vm.isShowLoading=!0,vm.$store.dispatch("getAgencyReportLists",filter).then(function(e){if(null!==e&&void 0!==e){var t=e,a={},r={},o="",i="";for(var n in vm.groupBy)if(String(vm.groupBy[n]["key"])===String(vm.groupByVal)){i=vm.groupBy[n]["display"];break}for(var s in t)if(r=t[s],""!==a[r[vm.groupByVal]]&&void 0!==a[r[vm.groupByVal]])a[r[vm.groupByVal]][i]===r[i]&&(a[r[vm.groupByVal]]["dossiers"].push(r),a[r[vm.groupByVal]]["totalChild"]=a[r[vm.groupByVal]]["totalChild"]+1);else{var l={};l[vm.groupByVal]=r[vm.groupByVal],l[i]=r[i],l["totalChild"]=1,l["dossiers"]=[],a[r[vm.groupByVal]]=l,a[r[vm.groupByVal]][i]=r[i],a[r[vm.groupByVal]]["dossiers"].push(r)}var c=[];for(var p in a){if(void 0!==a[p][vm.groupByVal]&&null!==a[p][vm.groupByVal]&&""!==a[p][vm.groupByVal]){var u=[];for(var d in u.push(a[p][vm.groupByVal]+" - "+a[p][i]+" ( "+a[p]["totalChild"]+" ) "),colLeng)u.push("");c.push(u),o+=JSON.stringify([{colSpan:colLeng+1,text:a[p][vm.groupByVal]+" - "+a[p][i]+" ( "+a[p]["totalChild"]+" ) ",bold:!0,style:"tdStyle"}])+","}var f=a[p]["dossiers"],_=1,v=[];for(var m in f){v=[];var g=[],y=f[m];for(var h in g.push(_),v.push({text:_,alignment:"center",style:"tdStyle"}),vm.itemsReportsConfig)if(vm.itemsReportsConfig[h].hasOwnProperty("selected")&&vm.itemsReportsConfig[h]["selected"]){var x="center";vm.itemsReportsConfig[h].hasOwnProperty("align")&&(x=vm.itemsReportsConfig[h]["align"]);var T=" ";void 0!==y[vm.itemsReportsConfig[h]["value"]]&&null!==y[vm.itemsReportsConfig[h]["value"]]&&""!==y[vm.itemsReportsConfig[h]["value"]]&&(T=y[vm.itemsReportsConfig[h]["value"]]),g.push(T),v.push({text:T,alignment:x,style:"tdStyle"})}o+=JSON.stringify(v)+",",_+=1,c.push(g)}}for(var b in o=o.substring(0,o.length-1),vm.dataReportXX+=o,vm.csvExport=[],vm.csvExport=c,vm.fields=[],vm.fields.push("STT"),vm.itemsReportsConfig)if(vm.itemsReportsConfig[b]["selected"]){var C=vm.itemsReportsConfig[b]["value"];""!==vm.itemsReportsConfig[b]["text"]&&(C=vm.itemsReportsConfig[b]["text"]),vm.fields.push(C)}vm.showCSVDownload=!0,docDString=docDString.replace(/"\[\$tableWidth\$\]"/g,JSON.stringify(widthsConfig)),docDString=docDString.replace(/"\[\$report\$\]"/g,vm.dataReportXX),vm.docDefinition=JSON.parse(docDString);var D=pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_1___default.a.createPdf(vm.docDefinition);D.getBlob(function(e){if(vm.pdfBlob=window.URL.createObjectURL(e),vm.isShowLoading=!1,vm.doExportExcel){var t=(new Date).getTime(),a=new File([e],t+".pdf"),r=new FileReader;r.onload=function(e){var t=e.target.result;console.log("data",t),vm.convertPDFToHTML(t)},r.readAsArrayBuffer(a)}})}else vm.isShowLoading=!1,vm.showErrorData=!0})},doPrintReportFix:function doPrintReportFix(){var vm=this;vm.agencyLists=[],vm.api="",vm.dataReportXX="",vm.docDefinition={};var docDString={};for(var key in docDString=JSON.stringify(vm.reportConfigStatic[vm.index]["docDefinition"]),docDString=docDString.replace(/\[\$siteName\$\]/g,vm.$store.getters.siteName),vm.filters){var find=vm.filters[key]["key"],currentVal=vm.data[vm.filters[key]["key"]];if(""!==currentVal&&void 0!==currentVal&&null!==currentVal){var dateStr=new Date(currentVal).toLocaleDateString("vi-VN");if("Invalid Date"!==dateStr&&13===String(currentVal).length)docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),dateStr);else{if("select"===vm.filters[key]["type"])for(var keySource in vm.filters[key]["source"])String(vm.filters[key]["source"][keySource]["value"])===String(currentVal)&&(currentVal=vm.filters[key]["source"][keySource]["name"]);docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}else{for(var _keySource2 in currentVal="",vm.filters[key]["source"])if(""===currentVal||"0"===currentVal){currentVal=vm.filters[key]["source"][_keySource2]["name"];break}docDString=docDString.replace(eval("/\\[\\$"+find+"\\$\\]/g"),currentVal)}}for(var _key9 in vm.agencyLists=vm.itemsReports[vm.index]["filterConfig"]["groupIds"],vm.agencyLists)if(String(vm.agencyLists[_key9]["value"])===String(vm.govAgency)){docDString=docDString.replace(/\[\$groupIds\$\]/g,vm.agencyLists[_key9]["text"]);break}vm.api=vm.itemsReports[vm.index]["filterConfig"]["api"],vm.isShowLoading=!0;var filter={document:vm.reportType,data:vm.data,api:vm.api};filter["govAgency"]=vm.govAgency,filter["agencyLists"]=vm.agencyLists,vm.pdfBlob=null,vm.isShowLoading=!0;var sumKey=vm.itemsReports[vm.index]["filterConfig"]["sumKey"],selection=vm.itemsReports[vm.index]["filterConfig"]["selection"],merge=vm.itemsReports[vm.index]["filterConfig"]["merge"],sort=vm.itemsReports[vm.index]["filterConfig"]["sort"],subKey=vm.itemsReports[vm.index]["filterConfig"]["subKey"];vm.$store.dispatch("getAgencyReportLists",filter).then(function(result){if(null!==result){var index=1,dataRowTotal=[],totalText="Tổng số";for(var keyMapping in"month"===sumKey&&(totalText="Cả năm"),dataRowTotal.push({text:totalText,colSpan:2,bold:!0,alignment:"center",style:"tdStyle"}),vm.itemsReportsConfig)"note"===vm.itemsReportsConfig[keyMapping]["value"]?dataRowTotal.push({text:"",alignment:"center",style:"tdStyle"}):dataRowTotal.push({text:0,alignment:"center",style:"tdStyle"});var resultData=result;void 0!==selection&&null!==selection&&selection.length>0&&(resultData=result.filter(function(e){var t=0;for(var a in selection)"#"===selection[a]["compare"]?String(e[selection[a]["key"]])!==String(selection[a]["value"])&&(t+=1):"="===selection[a]["compare"]?""===selection[a]["value"]?""!==String(e[selection[a]["key"]])&&void 0!==e[selection[a]["key"]]&&null!==e[selection[a]["key"]]||(t+=1):String(e[selection[a]["key"]])===String(selection[a]["value"])&&(t+=1):""!==String(e[selection[a]["key"]])&&void 0!==e[selection[a]["key"]]&&null!==e[selection[a]["key"]]||(t+=1);if(t===selection.length)return e}));var resultDataTotal=resultData.filter(function(e){if(null!==subKey&&void 0!==subKey&&""!==subKey){if((""===e[sumKey]||"0"===String(e[sumKey])||void 0===e[sumKey]||null===e[sumKey])&&""===e[subKey])return e}else if(""===e[sumKey]||"0"===String(e[sumKey])||void 0===e[sumKey]||null===e[sumKey])return e}),resultDataVari={};for(var _key10 in resultData){var keyVari="";for(var keysd in merge)keyVari+=resultData[_key10][merge[keysd]]+"_";if(void 0===resultDataVari[keyVari]||null===resultDataVari[keyVari]||""===resultDataVari[keyVari])resultDataVari[keyVari]=resultData[_key10];else for(var kkey in resultDataVari[keyVari])""!==resultDataVari[keyVari][kkey]&&void 0!==resultDataVari[keyVari][kkey]&&null!==resultDataVari[keyVari][kkey]&&("NaN"===String(parseInt(resultDataVari[keyVari][kkey]))?resultDataVari[keyVari][kkey]=resultData[_key10][kkey]:resultDataVari[keyVari][kkey]="ontimePercentage"===kkey?parseInt(resultData[_key10][kkey]):"month"===kkey||"year"===kkey?parseInt(resultData[_key10][kkey]):parseInt(resultData[_key10][kkey])+parseInt(resultDataVari[keyVari][kkey]))}for(var _key11 in resultData=[],resultDataVari)void 0===_key11||_key11.startsWith("undefined")||resultData.push(resultDataVari[_key11]);if(""!==sort&&void 0!==sort&&null!==sort&&(resultData=vm.sortByKey(resultData,sort)),null!==subKey&&void 0!==subKey&&""!==subKey){var arraySubKey={};for(var _key12 in resultData)(""!==resultData[_key12][sumKey]&&"0"!==String(resultData[_key12][sumKey])&&void 0!==resultData[_key12][sumKey]&&null!==resultData[_key12][sumKey]||null!==subKey&&void 0!==subKey&&""!==subKey&&""===resultData[_key12][subKey]&&""!==resultData[_key12][sumKey]&&"0"!==resultData[_key12][sumKey])&&(void 0!==arraySubKey[resultData[_key12][sumKey]]&&null!==arraySubKey[resultData[_key12][sumKey]]?arraySubKey[resultData[_key12][sumKey]].push(resultData[_key12]):(arraySubKey[resultData[_key12][sumKey]]=[],arraySubKey[resultData[_key12][sumKey]].push(resultData[_key12])));for(var keySUBARRAY in resultData=[],arraySubKey){var subKeySortData=vm.sortByKey(arraySubKey[keySUBARRAY],subKey);for(var keyData in subKeySortData)resultData.push(subKeySortData[keyData])}}var dataToExportCSV=[];for(var _key13 in resultData){var dataInput=resultData[_key13];if(""!==resultData[_key13][sumKey]&&"0"!==String(resultData[_key13][sumKey])&&void 0!==resultData[_key13][sumKey]&&null!==resultData[_key13][sumKey]||null!==subKey&&void 0!==subKey&&""!==subKey&&""===resultData[_key13][subKey]&&""!==resultData[_key13][sumKey]&&"0"!==String(resultData[_key13][sumKey])){var dataRow=[],dataToExportCSVItem=[];null!==subKey&&void 0!==subKey&&""!==subKey&&""!==resultData[_key13][subKey]?(dataToExportCSVItem.push(""),dataRow.push({text:"",alignment:"center",style:"tdStyle"})):(dataToExportCSVItem.push(index),dataRow.push({text:index,alignment:"center",style:"tdStyle"}));var indexTotal=1;for(var _keyMapping in vm.itemsReportsConfig){var currentConfig=vm.itemsReportsConfig[_keyMapping],dataText=" ",preff=currentConfig.hasOwnProperty("prefix")?currentConfig["prefix"]:"";currentConfig.hasOwnProperty("calculator")?dataText=Math.round(eval(currentConfig["calculator"])):void 0!==resultData[_key13][currentConfig["value"]]&&null!==resultData[_key13][currentConfig["value"]]&&(dataText=currentConfig.hasOwnProperty("subValue")&&""!==resultData[_key13][subKey]?" - "+resultData[_key13][currentConfig["subValue"]]+" ":preff+" "+resultData[_key13][currentConfig["value"]]+" ");var alignmentConfig="center";currentConfig.hasOwnProperty("align")&&(alignmentConfig=currentConfig["align"]),dataToExportCSVItem.push(dataText),dataRow.push({text:dataText,alignment:alignmentConfig,style:"tdStyle"}),0===vm.govAgency&&null!==dataRowTotal[indexTotal]&&void 0!==dataRowTotal[indexTotal]&&""!==dataRowTotal[indexTotal]["text"]&&("ontimePercentage"===currentConfig["value"]?dataRowTotal[indexTotal]["text"]=parseInt(dataText):isNaN(dataText)?dataRowTotal[indexTotal]["text"]=" ":dataRowTotal[indexTotal]["text"]=parseInt(dataRowTotal[indexTotal]["text"])+parseInt(dataText)),indexTotal+=1}null!==subKey&&void 0!==subKey&&""!==subKey&&""!==resultData[_key13][subKey]||(index+=1),vm.dataReportXX+=JSON.stringify(dataRow)+",",dataToExportCSV.push(dataToExportCSVItem)}}if(vm.agencyLists.length>0&&0===vm.govAgency)for(var keyXXTT in resultDataTotal){var indexTotalXXTT=1,dataInputXXTT="";for(var keyMappingXXTT in dataInputXXTT=resultDataTotal[keyXXTT],vm.itemsReportsConfig){var dataTextXXTT="",currentConfigXXTT=vm.itemsReportsConfig[keyMappingXXTT];currentConfigXXTT.hasOwnProperty("calculator")?(console.log("dataInputXXTT",dataInputXXTT),dataTextXXTT=Math.round(eval(currentConfigXXTT["calculator"].replace(/dataInput/g,"dataInputXXTT"))),console.log("dataTextXXTT",dataTextXXTT)):void 0!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&null!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&""!==resultDataTotal[keyXXTT][currentConfigXXTT["value"]]&&(dataTextXXTT=resultDataTotal[keyXXTT][currentConfigXXTT["value"]]+" "),dataRowTotal[indexTotalXXTT]["text"]=parseInt(dataTextXXTT)+" ",indexTotalXXTT+=1}break}else for(var _keyXXTT in resultDataTotal){var _indexTotalXXTT=1,_dataInputXXTT="";for(var _keyMappingXXTT in _dataInputXXTT=resultDataTotal[_keyXXTT],vm.itemsReportsConfig){var _dataTextXXTT="",_currentConfigXXTT=vm.itemsReportsConfig[_keyMappingXXTT];_currentConfigXXTT.hasOwnProperty("calculator")?_dataTextXXTT=Math.round(eval(_currentConfigXXTT["calculator"].replace(/dataInput/g,"dataInputXXTT"))):void 0!==resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]&&null!==resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]&&""!==resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]&&(_dataTextXXTT=resultDataTotal[_keyXXTT][_currentConfigXXTT["value"]]+" "),dataRowTotal[_indexTotalXXTT]["text"]=parseInt(_dataTextXXTT)+" ",_indexTotalXXTT+=1}}console.log("dataRowTotal: ",dataRowTotal),vm.dataReportXX+=JSON.stringify(dataRowTotal);var itemTotal=[];for(var keyTotalCSV in dataRowTotal)itemTotal.push(dataRowTotal[keyTotalCSV]["text"]);for(var excelKey in dataToExportCSV.push(itemTotal),vm.csvExport=[],vm.csvExport=dataToExportCSV,vm.fields=[],vm.fields.push("STT"),vm.fields.push(sumKey),vm.itemsReportsConfig)if(vm.itemsReportsConfig[excelKey]["selected"]){var stringColumn=vm.itemsReportsConfig[excelKey]["value"];""!==vm.itemsReportsConfig[excelKey]["text"]&&(stringColumn=vm.itemsReportsConfig[excelKey]["text"]),vm.fields.push(stringColumn)}vm.showCSVDownload=!0,docDString=docDString.replace(/"\[\$report\$\]"/g,vm.dataReportXX),vm.docDefinition=JSON.parse(docDString);var pdfDocGenerator=pdfmake_build_pdfmake__WEBPACK_IMPORTED_MODULE_1___default.a.createPdf(vm.docDefinition);pdfDocGenerator.getBlob(function(e){if(vm.pdfBlob=window.URL.createObjectURL(e),vm.isShowLoading=!1,vm.doExportExcel){var t=(new Date).getTime(),a=new File([e],t+".pdf"),r=new FileReader;r.onload=function(e){var t=e.target.result;console.log("data",t),vm.convertPDFToHTML(t)},r.readAsArrayBuffer(a)}})}else vm.isShowLoading=!1,vm.showErrorData=!0})},doCreateReport:function(e){var t=this;t.$refs.form.validate()&&(t.doExportExcel=e,t.showConfig=!1,t.doCreatePDF())},sortByKey:function(e,t){return e.sort(function(e,a){var r=e[t],o=a[t];return r<o?-1:r>o?1:0})},changeConfig:function(e){var t=this;t.itemsReportsConfig[e].hasOwnProperty("selected")&&t.itemsReportsConfig[e]["selected"]?t.itemsReportsConfig[e]["selected"]=!1:t.itemsReportsConfig[e]["selected"]=!0},doChotSoLieu:function(e,t){var a=this,r={api:t["api"],key:t["key"],value:e,data:a.data};a.$store.dispatch("doChotSoLieu",r).then(function(){a.doCreatePDF()})},reloadPickerChange:function(e){var t=this;t.showPicker=!1,setTimeout(function(){t.data[e]=new Date(t.data[e]).toLocaleDateString("vi-VN"),t.showPicker=!0},200)},sdfsdfdsf:function(){var e=this;e.$store.dispatch("doExportXlsxddd")},toDoNotDone:function(){alert("Đang phát triển.")},doDynamicReportXML:function(){var e=this;e.agencyLists=e.itemsReports[e.index]["filterConfig"]["groupIds"],e.jsonMapperJson={},e.jsonMapperJson=e.itemsReports[e.index]["userConfig"],e.api=e.itemsReports[e.index]["filterConfig"]["api"];var t={document:e.reportType,data:e.data,api:e.api};t["govAgency"]=e.govAgency,t["agencyLists"]=e.agencyLists,e.$store.dispatch("getAgencyReportLists",t).then(function(t){null!==t&&void 0!==t&&jsonMapper({content:t,blank:""},e.jsonMapperJson).then(function(e){console.log(e);var t={header:!0,indent:"  "},a=Object(jstoxml__WEBPACK_IMPORTED_MODULE_5__["toXML"])(e,t),r=new Blob([(new TextEncoder).encode(a)],{type:"text/plain;charset=utf-8;"});file_saver__WEBPACK_IMPORTED_MODULE_6___default()(r,(new Date).getTime()+".xml")})})},convertPDFToHTML:function(e){window.PDFJS.getDocument(e).then(window.pdf_table_extractor).then(function(e){var t=[],a=e.pageTables.shift();t=t.concat(a.tables);for(var r=$("<table></table>").attr("border",1),o=a.tables,i=a.merge_alias,n=a.merges,s=0;s<o.length;s++){for(var l=$("<tr></tr>"),c=0;c<o[s].length;c++){var p=[s,c].join("-");if(!i[p]){var u=$("<td></td>");n[p]&&(n[p].width>1&&u.attr("colspan",n[p].width),n[p].height>1&&u.attr("rowspan",n[p].height)),u.html(o[s][c].replace(/\n/gi,"<br/>").replace(/↵/gi,"<br/>")),l.append(u)}}r.append(l)}var d='<html xmlns:x="urn:schemas-microsoft-com:office:excel">';d+='<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>',d+="<x:Name>Test Sheet</x:Name>",d+="<x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet>",d+="</x:ExcelWorksheets></x:ExcelWorkbook></xml></head><body>",d+='<table></table><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="10" valign="top" width="167"><p align="center"><strong>TỔNG CỤC ĐBVN (UBND TỈNH ……)</strong><br>Cục QLĐB (Sở GTVT)…..<br><strong>-------</strong></p></td><td valign="top" width="275" colspan="10"><p align="center"><strong>CỘNG HÒA XÃ HỘI CHỦ NGHĨA VIỆT NAM<br>Độc lập - Tự do - Hạnh phúc <br>---------------</strong></p></td></tr></tbody></table><table></table>',d+='<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="20" valign="top" width="167"><p align="center"><strong>TỔNG HỢP HỒ SƠ NỘP TRỰC TUYẾN THEO LĨNH VỰC</strong></p></td></td></tr></tbody></table><table></table>',d+="<table border='1px'>",d+=r[0].innerHTML,d+='<table></table><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td colspan="4" valign="top" width="167"><p align="left"><strong>Nơi nhận:</strong></p></td><td valign="top" width="275" colspan="16"><p align="right"><strong>THỦ TRƯỞNG ĐƠN VỊ</strong><br/>(Ký và ghi rõ họ tên)</p></td></tr></tbody></table><table></table>',d+="</body></html>";var f=new Blob([(new TextEncoder).encode(d)],{type:"application/octet-stream"});file_saver__WEBPACK_IMPORTED_MODULE_6___default()(f,(new Date).getTime()+".xls")})},s2ab:function(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),r=0;r!=e.length;++r)a[r]=255&e.charCodeAt(r);return t}}}}});
//# sourceMappingURL=app.890e4201.js.map