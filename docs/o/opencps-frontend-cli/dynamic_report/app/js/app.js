(function(e){function t(t){for(var i,n,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)n=r[u],o[n]&&p.push(o[n][0]),o[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},o={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push(["56d7","chunk-vendors"]),a()})({"31a3":function(module,__webpack_exports__,__webpack_require__){"use strict";var toastr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_0__);toastr__WEBPACK_IMPORTED_MODULE_0___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{id:{type:String,default:()=>"nm"},detailDossier:{type:Object,default:()=>{}},createFiles:{type:Array,default:()=>[]}},data:()=>({dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[]}),computed:{loading(){return this.$store.getters.loading},originality(){var e=this;return e.getOriginality()},initDataResource(){return this.$store.getters.loadingInitData}},created(){var e=this;e.page=1,e.$nextTick(function(){console.log("vm.detailDossier------------",e.detailDossier),e.detailDossier["dossierId"]&&e.$store.dispatch("loadDossierFiles",e.detailDossier.dossierId).then(t=>{e.dossierFilesItems=t,e.createFiles=e.mergeDossierTemplateVsDossierFiles(e.createFiles,t),console.log("vm.createFiles------------",e.createFiles),console.log("vm.dossierFilesItems------------",e.dossierFilesItems)}).catch(e=>{})})},mounted(){var e=this;e.$nextTick(function(){e.createFiles.length>0&&setTimeout(function(){console.log("vm.createFiles------------",e.createFiles),console.log("vm.dossierFilesItems------------",e.dossierFilesItems),e.genAllAlpacaForm(e.dossierFilesItems,e.createFiles)},300)})},methods:{genAllAlpacaForm(e,t){var a=this;if(e.length>0){var i=e.filter(e=>{return e.eForm}),o=t.filter(e=>{return e.eForm});i.length>0?i.forEach(e=>{e.eForm&&a.$store.dispatch("loadAlpcaForm",e)}):t.forEach(e=>{e.eForm&&(e["templateFileNo"]=a.detailDossier.dossierTemplateNo,a.showAlpacaJSFORM(e))}),o.length!==i.length&&o.forEach(e=>{let t=i.findIndex(t=>{return e.partNo===t.dossierPartNo});-1===t&&(e["templateFileNo"]=a.detailDossier.dossierTemplateNo,a.showAlpacaJSFORM(e))})}else t.forEach(e=>{e.eForm&&(e["templateFileNo"]=a.detailDossier.dossierTemplateNo,a.showAlpacaJSFORM(e))})},mergeDossierTemplateVsDossierFiles(e,t){return 0!==t.length?e.forEach(e=>{var a=t.find(t=>{return e.partNo===t.dossierPartNo&&t.eForm});a?e["daKhai"]=!0:!a&&e.eForm&&(e["daKhai"]=!1)}):e.forEach(e=>{e.eForm&&(e["daKhai"]=!1)}),e},showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(resScript=>{vm.$store.dispatch("loadFormData",item).then(resData=>{var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)})})},loadAlpcaForm(e){var t=this,a=t.dossierFilesItems.find(t=>{return t.dossierPartNo===e.partNo&&t.eForm});a?(a["id"]=t.id,t.$store.dispatch("loadAlpcaForm",a)):t.createFiles.forEach(a=>{a.eForm&&e.partNo===a.partNo&&(a["templateFileNo"]=t.detailDossier.dossierTemplateNo,t.showAlpacaJSFORM(a))})},previewFileEfom(e,t){var a=this;a.dossierFilesItems.forEach(t=>{t.dossierPartNo===e.partNo&&t.eForm&&(t["dossierId"]=a.detailDossier.dossierId,a.dialogPDFLoading=!0,a.dialogPDF=!0,t["id"]=a.id,a.$store.dispatch("putAlpacaForm",t).then(e=>{setTimeout(function(){a.$store.dispatch("viewFile",t).then(e=>{a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+a.id).src=e})},1e3)}).catch(e=>{toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))})},viewFile(e){var t=this;t.dossierFilesItems.forEach(a=>{a["dossierId"]=t.detailDossier.dossierId,a.dossierPartNo===e.partNo&&this.$store.dispatch("viewFile",a)})},viewFile2(e){var t=this;if("doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType){var a=t.initDataResource.dossierApi+"/"+t.detailDossier.dossierId+"/files/"+e.referenceUid;window.open(a)}else t.dialogPDFLoading=!0,t.dialogPDF=!0,e["dossierId"]=t.detailDossier.dossierId,t.$store.dispatch("viewFile",e).then(e=>{t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})},viewFileWithPartNo(e){var t=this;if(t.dossierFilesItems){var a=t.dossierFilesItems.filter(t=>{return t.dossierPartNo===e.partNo&&!t.eForm});if(!a)return;t.fileViews=a,t.partView!==e.partNo?(t.stateView=!0,t.partView=e.partNo):(t.stateView=!t.stateView,t.partView=e.partNo)}},checkStyle(e){return"calc(100% - 50px)"},downloadFileTemplate(e,t){var a=this;if(a.fileTemplateItems.length>0){let t=a.fileTemplateItems.find(t=>{return e.fileTemplateNo===t.fileTemplateNo});if(t){let e=a.initDataResource.serviceInfoApi+"/"+t.serviceCode+"/filetemplates/"+t.fileTemplateNo;window.open(e)}else console.log("ko thay file")}}}}},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),jquery__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__),file_saver__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_6__);vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.options={closeButton:!0,timeOut:"15000"};const store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{initData:_support_json__WEBPACK_IMPORTED_MODULE_4__.initData,endPointApi:"/o/rest/v2",loading:!1,loadingTable:!1,loadingDynamicBtn:!1,loadingGov:!1,validFileUpload:!1,fileTypeTPHS:["png","jpg","jpeg","pdf","docx","doc","xls","xlsx","txt","rtf"],fileTypePAYMENT:["png","jpg","jpeg"],error:null,user:{role:""},index:0,kysoSuccess:!1,activeGetCounter:!1,activeLoadingDataHoSo:!1,trangThaiHoSoList:null,listThuTucHanhChinh:null,checkInput:0,stepOverdueNextAction:"",usersNextAction:[],lePhi:{fee:"",feeNote:"",request:""},dossier:{applicantIdNo:"ccc"},dossierSelected:[],actionActive:{},serviceConfigObj:{},dossierTemplateName:"",thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:""},vnpostCodeItems:[],serviceConfigItems:null,serviceOptionItems:[],citys:null,cityVal:null,districtVal:null,wardVal:null,resultServices:null,dossierFiles:[],listHistoryProcessingItems:[],thanhPhanHoSo:{dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates},dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates,applicantId:"",applicantBussinessExit:!1,applicantNote:"",thongTinChuHoSo:{userType:!0,cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""},thongTinChuHoSoBindChuyenPhat:{cityCode:"",districtCode:"",wardCode:"",address:"",contactTelNo:""},thongTinNguoiNopHoSo:{sameUser:!0,delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""},dichVuChuyenPhatKetQua:{viaPostal:0,postalServiceCode:"",postalAddress:"",postalCityCode:"",postalDistrictCode:"",postalWardCode:"",postalTelNo:""},viaPostal:0,data_phancong:[],dataCreateDossier:{},dataCreateFile:[],paymentProfile:"",paymentFileName:""},actions:{clearError({commit:e}){e("clearError")},loadInitResource({commit:e,state:t}){return new Promise((a,i)=>{null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20164}),""===t["user"].role&&store.dispatch("getRoleUser").then(function(e){t["user"].role=e}).catch(function(e){t["user"].role=["default"],console.log(e)}),e("setInitData",t.initData),a(t.initData)})},getRoleUser({commit:e,state:t},a){return new Promise((e,a)=>{let i={headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/users/login",i).then(function(t){let a=t.data;if(a&&a.length>0){let t=[];for(let e in a)a[e]["role"]&&t.push(a[e]["role"]);console.log("roles",t),e(t)}else e(["default"])}).catch(function(e){console.log(e),a("default")})})},loadMenuConfigToDo({commit:commit,state:state}){return commit("setLoadingDynamicBtn",!0),null===state.trangThaiHoSoList?new Promise((resolve,reject)=>{store.dispatch("loadInitResource").then(function(result){let param={headers:{groupId:state.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(state.initData.menuConfigToDo,param).then(function(response){let serializable=response.data,menuData=[],index=0;for(let key in serializable.data){let current=serializable.data[key],menuDetail={index:index,active:!1,title:current["menuName"],id:current["menuGroup"],action:"description",action_active:"play_arrow",counter:-1,menuType:parseInt(current["menuType"]),queryParams:current["queryParams"]};index+=1;let tableConfig=current["tableConfig"],buttonConfig=current["buttonConfig"];if(""!==tableConfig&&void 0!==tableConfig&&"undefined"!==tableConfig&&-1!==String(tableConfig).indexOf("{")&&-1!==String(tableConfig).indexOf("}")&&(menuDetail["tableConfig"]=eval("("+tableConfig+")")),""!==buttonConfig&&void 0!==buttonConfig&&"undefined"!==buttonConfig&&-1!==String(buttonConfig).indexOf("{")&&-1!==String(buttonConfig).indexOf("}")&&(menuDetail["buttonConfig"]=eval("("+buttonConfig+")")),current.hasOwnProperty("steps"))if(current.steps.length>1)menuDetail["items"]=current.steps;else{let e=[];e.push(current.steps),menuDetail["items"]=e}menuData.push(menuDetail)}commit("setLoadingDynamicBtn",!1),commit("setMenuConfigToDo",menuData),resolve(menuData)}).catch(function(e){commit("setLoadingDynamicBtn",!1),console.log(e),reject(e)})})}):new Promise((e,t)=>{commit("setLoadingDynamicBtn",!1),e(state.trangThaiHoSoList)})},loadListThuTucHanhChinh({commit:e,state:t}){return null===t.listThuTucHanhChinh?new Promise((a,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getListThuTucHanhChinh,s).then(function(t){let i=t.data,o=Array.from(i.data);e("setListThuTucHanhChinh",o),a(o)}).catch(function(e){console.log(e),i(e)})})}):new Promise((e,a)=>{let i=Array.from(t.listThuTucHanhChinh);e(i)})},loadingDataHoSo({commit:e,state:t},a){return e("setLoadingTable",!0),new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(s){let n={start:15*a.page-15,end:15*a.page,agency:a.agency?a.agency:"",service:a.service?a.service:"",template:a.template?a.template:"",status:a.status?a.status:"",register:a.register?a.register:"",keyword:a.keyword?a.keyword:"",domain:a.domain?a.domain:"",substatus:a.substatus?a.substatus:"",year:a.year?a.year:0,month:a.month?a.month:0,day:a.day?a.day:0,top:a.top?a.top:"",dossierNo:a.dossierNo?a.dossierNo:""};a["originality"]&&(n["originality"]=a.originality);let r={headers:{groupId:t.initData.groupId},params:n};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.queryParams,r).then(function(t){let a=t.data;e("setLoadingTable",!1),e("setUserNextAction",[]),i(a)}).catch(function(t){e("setLoadingTable",!1),e("setUserNextAction",[]),console.log(t),o(t)})})})},loadingCounterNotStep({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={agency:a.agency?a.agency:"",service:a.service?a.service:"",template:a.template?a.template:"",status:a.status?a.status:"",register:a.register?a.register:"",keyword:a.keyword?a.keyword:"",domain:a.domain?a.domain:"",substatus:a.substatus?a.substatus:"",year:a.year?a.year:0,month:a.month?a.month:0,day:a.day?a.day:0,top:a.top?a.top:"",dossierNo:a.dossierNo?a.dossierNo:""};a["originality"]&&(s["originality"]=a.originality);let n={headers:{groupId:t.initData.groupId},params:s};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.queryParams,n).then(function(t){let a=t.data;e(a)}).catch(function(e){i(e)})})})},loadingCounterHoSo({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};a.hasOwnProperty("originality")&&1===a.originality&&(s["params"]={owner:!0}),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.counterMenuStep,s).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},loadDossierSelected({commit:e,state:t},a){e("dossierSelected",a)},loadActionActive({commit:e,state:t},a){e("actionActive",a)},loadDictItems({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(s){let n={headers:{groupId:t.initData.groupId},params:{parent:a.parent}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.regionApi+"/"+a.collectionCode+"/dictitems",n).then(function(t){let o=t.data;"ADMINISTRATIVE_REGION"===a.collectionCode&&0===a.level&&e("setCitys",o.data),i(t.data)},e=>{o(e)})})})},resetThongTinChungHoSo({commit:e}){let t={serviceConfig:{},serviceOption:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierNo:"",govAgencyName:"",dossierIdCTN:"",processBlock:"",processUnit:"",dossierStatus:"",dossierStatusText:"",submitDate:""};e("setThongTinChungHoSo",t)},resetThongTinChuHoSo({commit:e}){let t={userType:!0,cityCode:25,districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""};e("setThongTinChuHoSo",t)},resetThongTinNguoiNopHoSo({commit:e}){let t={sameUser:"",delegateName:"",delegateCityCode:25,delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""};e("setThongTinNguoiNopHoSo",t)},resetThanhPhanHoSo({commit:e}){e("setDossierTemplates",[])},loadDossierMark({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId},params:{type:1}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/marks",o).then(function(t){let a=t.data;a.data?e(a.data):e([])},e=>{i(e)})})},loadDossierTemplates({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierTemplatesApi+"/"+a.dossierTemplateNo,s).then(function(t){let a=t.data,i=function(e){try{return JSON.parse(e),JSON.parse(e)}catch(t){let a={tip:e,maxSize:10,extensions:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf"};return a}};if(a&&a["dossierParts"])for(let e in a["dossierParts"]){let t=a["dossierParts"][e]["partTip"];a["dossierParts"][e]["partTip"]=i(t)}e(a.dossierParts)},e=>{i(e)})})})},loadAllDossierTemplates({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierTemplatesApi+"/"+a.dossierTemplateNo,s).then(function(t){let a=t.data,i=function(e){try{return JSON.parse(e),JSON.parse(e)}catch(t){let a={tip:e,maxSize:10,extensions:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf"};return a}};if(a&&a["dossierParts"])for(let e in a["dossierParts"]){let t=a["dossierParts"][e]["partTip"];a["dossierParts"][e]["partTip"]=i(t)}e(a.dossierParts)},e=>{i(e)})})})},deleteAttackFiles({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId}};console.log("data -delete-----",i),console.log("data-- dossier file-------",t.dossierFiles);var s=new URLSearchParams;i.hasForm||i.eform?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.referenceUid+"/resetformdata",s,o).then(function(t){console.log("success"),e(t)}).catch(function(e){console.log(e),a(e)}):axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.fileTemplateNo+"/all",o).then(function(t){console.log("success!"),e(t)}).catch(function(e){console.log(e),a(e)})})},deleteDossierFile({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.dossierApi+"/"+a.dossierId+"/files/"+a.referenceUid,o).then(function(t){console.log("success!"),e(t)}).catch(function(e){console.log(e),i(e)})})},resetCounterTemplate({commit:e,state:t},a){t.dossierTemplates.forEach(e=>{e.partNo===a.partNo&&(e.hasForm?e.count=1:e.count=0)})},deleteSingleFile({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.dossierApi+"/"+t.thonTinChungHoSo.dossierId+"/files/"+a.referenceUid,i).then(function(e){console.log("success")}).catch(function(e){console.log(e)})},uploadSingleFile({commit:e,state:t},a){return new Promise((e,i)=>{let o=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#file"+a.partNo)[0].files,s=o[0],n=s["name"];s["name"]&&(n=s["name"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,""));let r=new FormData;3===a.partType?(a["displayName"]&&(n=a["displayName"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,"")),r.append("displayName",n)):r.append("displayName",n),r.append("fileType",s.type),r.append("fileSize",s.size),r.append("isSync","false"),r.append("file",s,n),r.append("dossierPartNo",a.partNo),r.append("dossierTemplateNo",a.dossierTemplateNo),r.append("fileTemplateNo",a.fileTemplateNo),r.append("formData",""),r.append("referenceUid","");let l={partTip:a.partTip,file:s};store.dispatch("validFileUpload",l),s&&t.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.dossierApi+"/"+a.dossierId+"/files",r,{headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),console.log("upload file success!")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)}):i("error")})},uploadSingleOtherFile({commit:e,state:t},a){return new Promise((e,i)=>{let o=new FormData,s=a["displayName"];a["displayName"]&&(s=a["displayName"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,"")),o.append("displayName",a.displayName?s:""),o.append("dossierPartNo",a.partNo?a.partNo:""),o.append("file",""),o.append("fileType",""),o.append("fileSize",""),o.append("isSync","false"),o.append("dossierTemplateNo",""),o.append("fileTemplateNo",""),o.append("formData",""),o.append("referenceUid",""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.dossierApi+"/"+a.dossierId+"/files",o,{headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),console.log("upload file success!")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})},uploadPaymentFile({commit:e,state:t},a){return new Promise((e,i)=>{let o=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#"+a.selector)[0].files,s=o[0],n=s["name"];s["name"]&&(n=s["name"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,""));let r=new FormData;r.append("file",s,n);let l={partTip:a["partTip"],file:s};store.dispatch("validFileUpload",l),s&&t.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/"+a.dossierId+"/payments/"+a.referenceUid+"/confirmfile",r,{headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),console.log("Tải file lên thành công")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải file lên thất bại"),i(e)}):i("error")})},getDetailDossier({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(s){let n={headers:{groupId:t.initData.groupId}};console.log("run"),a>0?(e("setLoading",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.postDossierApi+"/"+a,n).then(function(t){let a={delegateName:t.data.delegateName,delegateCityCode:t.data.delegateCityCode,delegateAddress:t.data.delegateAddress,delegateDistrictCode:t.data.delegateDistrictCode,delegateWardCode:t.data.delegateWardCode,delegateEmail:t.data.delegateEmail,delegateTelNo:t.data.delegateTelNo,delegateIdNo:t.data.delegateIdNo};i(t.data),e("setLoading",!1),e("setDossier",t.data),e("setThongTinChuHoSo",t.data),e("setLePhi",t.data),e("setThongTinNguoiNopHoSo",a),e("setThongTinChungHoSo",t.data),e("setDichVuChuyenPhatKetQua",t.data)},t=>{e("setLoading",!1),o(t)}).catch(function(e){console.log(e)})):i()})})},getGovAgency({commit:e,state:t},a){return new Promise((e,a)=>{let i={headers:{groupId:t.initData.groupId},params:{sort:"sibling"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.regionApi+"/GOVERMENT_AGENCY/dictitems",i).then(function(t){e(t.data.data)}).catch(function(e){console.log(e)})})},loadDossierFiles({commit:e,state:t},a){return new Promise((i,o)=>{let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/files",s).then(function(t){e("setDossierFiles",t.data.data),t.data.data?i(t.data.data):i([])}).catch(function(e){console.log(e),o(e)})})},getPaymentFiles({commit:e,state:t},a){return new Promise((i,o)=>{let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/payments/"+a.referenceUid+"/confirmfile",s).then(function(t){200===t.status||"200"===t.status?i("hasPayment"):i(""),t.headers["content-disposition"]?e("setPaymentFileName",t.headers["content-disposition"].split(";")[1].split("=")[1].replace(/\"/g,"")):e("setPaymentFileName","file báo thanh toán")}).catch(function(e){console.log(e),o(e)})})},putPayments({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}},s=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/keypay/"+a.referenceUid+"/"+a.referenceUid,s,o).then(function(a){store.dispatch("getActiveGetCounter",!t.activeGetCounter),a.data?e(a.data):e([])}).catch(function(e){console.log(e),i(e)})})},viewFile({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.referenceUid,o).then(function(t){var a=window.URL.createObjectURL(t.data);e(a)}).catch(function(e){console.log(e)})})},viewPaymentFile({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+i.dossierId+"/payments/"+i.referenceUid+"/confirmfile",o).then(function(t){var a=window.URL.createObjectURL(t.data);e(a)}).catch(function(e){console.log(e)})})},viewDocument({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+i.dossierId+"/documents/"+i.referenceUid,o).then(function(t){var a=window.URL.createObjectURL(t.data);e(a)}).catch(function(e){console.log(e)})})},postDossier({commit:e,state:t},a){return console.log("data-------------",a),new Promise((i,o)=>{e("setLoading",!0);let s={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var n=new URLSearchParams;n.append("serviceCode",a.serviceCode),n.append("govAgencyCode",a.govAgencyCode),n.append("dossierTemplateNo",a.templateNo),n.append("originality",a.originality),console.log("dataPostdossier-------------",n),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.postDossierApi,n,s).then(function(a){a.data.serviceConfig=t.serviceConfigObj,e("setLoading",!1),e("setDossier",a.data),e("setThongTinChuHoSo",a.data),e("setLePhi",a.data),e("setThongTinChungHoSo",a.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),i(a.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},doCopy({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let s={headers:{groupId:t.initData.groupId,Accept:"application/json"}};var n=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.postDossierApi+"/"+a.dossierId+"/cloning",n,s).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),i(e.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},doCancel({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let s={headers:{groupId:t.initData.groupId,Accept:"application/json"}};var n=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.postDossierApi+"/"+a.dossierId+"/cancel",n,s).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),i(e.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},putDossier({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!1);let s={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var n="";n=a.userType?"citizen":"business";let r=!1;null!==a["sameUser"]&&void 0!==a["sameUser"]&&"undefined"!==a["sameUser"]&&(r=a["sameUser"]);var l=new URLSearchParams;l.append("applicantName",a.applicantName),l.append("dossierNo",a.dossierNo?a.dossierNo:""),l.append("applicantIdType",n),l.append("applicantIdNo",a.applicantIdNo),l.append("address",a.address),l.append("cityCode",a.cityCode),l.append("districtCode",a.districtCode),l.append("wardCode",a.wardCode),l.append("contactTelNo",a.contactTelNo),l.append("contactEmail",a.contactEmail),l.append("delegateName",a.delegateName),l.append("delegateIdNo",a.delegateIdNo),l.append("delegateTelNo",a.delegateTelNo),l.append("delegateEmail",a.delegateEmail),l.append("delegateAddress",a.delegateAddress),l.append("delegateCityCode",a.delegateCityCode),l.append("delegateDistrictCode",a.delegateDistrictCode),l.append("delegateWardCode",a.delegateWardCode),l.append("applicantNote",t.applicantNote),1!==a.originality&&l.append("dossierName",a.dossierName),l.append("isSameAsApplicant",r),a.editable&&l.append("dueDate",a.dueDate?a.dueDate:""),a.viaPostal&&(l.append("viaPostal",a.viaPostal),l.append("postalServiceCode",a.postalServiceCode),l.append("postalAddress",a.postalAddress),l.append("postalCityCode",a.postalCityCode),l.append("postalTelNo",a.postalTelNo)),l.append("sampleCount",a.sampleCount?a.sampleCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.postDossierApi+"/"+a.dossierId,l,s).then(function(t){i(t.data),e("setLoading",!1),e("setDossier",t.data),e("setThongTinChuHoSo",t.data),e("setThongTinChungHoSo",t.data),e("setLePhi",t.data),e("setDichVuChuyenPhatKetQua",t.data)}).catch(e=>{o(e)})})},updateApplicantNote({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var s=new URLSearchParams;s.append("applicantNote",t.applicantNote),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.postDossierApi+"/"+a.dossierId,s,o).then(function(t){e(t.data)}).catch(e=>{i(e)})})},getApplicantInfos({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/applicants/ngsp/"+a.applicantIdNo,o).then(function(t){t.data&&t.data["Data"]&&e(t.data["Data"])}).catch(function(e){console.log(e),i(e)})})},checkApplicantInfos({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId?t.initData.groupId:"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}};var s=t.endPointApi+"/applicants/ngsp/verify",n=new URLSearchParams;n.append("applicantIdNo",a.applicantIdNo?a.applicantIdNo:""),n.append("applicantName",a.applicantName?a.applicantName:""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,n,o).then(t=>{e(t.data)}).catch(e=>{i(e)})})},getDossierFilesApplicants({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/applicant/"+a.applicantIdNo+"/files/"+a.fileTemplateNo+"/search",o).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){console.log(e),i(e)})})},putDuedateDossier({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!1);let s={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}};var n=new URLSearchParams;n.append("dueDate",a),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.postDossierApi+"/"+t.thongTinChungHoSo.dossierId,n,s).then(function(e){i(e.data)}).catch(function(e){o(e)})})},submitDossier({commit:e,state:t},a){return new Promise((e,a)=>{let i={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+t.thongTinChungHoSo.dossierId+"/submitting",i).then(function(t){e(t.data)}).catch(function(e){a(e),console.log(e)})})},postDossierMark({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var s=new URLSearchParams;1===a["checkInput"]?(void 0!==a.fileCheck&&"undefined"!==a.fileCheck&&null!==a.fileCheck&&s.append("fileCheck",a.fileCheck),void 0!==a.fileComment&&"undefined"!==a.fileComment&&null!==a.fileComment&&s.append("fileComment",a.fileComment)):void 0!==a.fileMark&&"undefined"!==a.fileMark&&null!==a.fileMark&&s.append("fileMark",a.fileMark);let n=t.initData.dossierApi+"/"+a.dossierId+"/marks/"+a.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n,s,o).then(function(t){e(t.data)}).catch(function(e){i(e)})})},postAction({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let s={headers:{groupId:t.initData.groupId}};var n=new URLSearchParams;n.append("actionCode",a.actionCode?a.actionCode:""),n.append("actionNote",a.actionNote?a.actionNote:""),n.append("actionUser",a.actionUser?a.actionUser:""),n.append("payload",a.payload?JSON.stringify(a.payload):""),n.append("security",a.security?a.security:""),n.append("assignUsers",a.assignUsers?JSON.stringify(a.assignUsers):""),n.append("payment",a.payment?JSON.stringify(a.payment):""),n.append("createDossiers",a.createDossiers?a.createDossiers:"");let r=t.initData.dossierApi+"/"+a.dossierId+"/actions";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,n,s).then(function(a){i(a.data),e("setLoading",!1),store.dispatch("getActiveGetCounter",!t.activeGetCounter)}).catch(function(e){o(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),store.commit("setLoading",!1)})})},getUserInfoFromApplicantIdNo({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},params:{start:0,end:5,idNo:a.idNo}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.applicantApi,s).then(function(t){e(t.data.data)}).catch(function(e){console.log(e),i(e)})})})},loadAlpcaForm({commit:commit,state:state,dispatch:dispatch},data){console.log("alpaca");let id=data["id"]?data["id"]:"nm";var formScript,formData;window.$("#formAlpaca"+data.dossierPartNo+id).empty(),formScript=data.formScript?eval("("+data.formScript+")"):{},formData=data.formData?eval("("+data.formData+")"):{},formScript.data=formData,window.$("#formAlpaca"+data.dossierPartNo+id).alpaca(formScript)},putAlpacaForm({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId,cps_auth:t.initData.cps_auth}},s=i["id"]?i["id"]:"nm";try{var n=window.$("#formAlpaca"+i.dossierPartNo+s).alpaca("get"),r=n.getValue();let u=window.$("#formAlpaca"+i.dossierPartNo+s).alpaca("get").childrenByPropertyId;if(u)for(var l in u)if(u[l].isRequired()&&""===u[l].getValue())return void toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(u[l].options.placeholder?u[l].options.placeholder+" là trường dữ liệu bắt buộc":u[l].options["name"]+" là trường dữ liệu bắt buộc");var c=new URLSearchParams;c.append("formdata",JSON.stringify(r));let p=t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.referenceUid+"/formdata";axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(p,c,o).then(function(t){e(t.data)}).catch(function(e){a(i)})}catch(d){console.log(d),a(i)}})},rollBack({state:e,commit:t},a){return new Promise((t,i)=>{let o={headers:{groupId:e.initData.groupId}};try{var s=new URLSearchParams;let r=e.initData.dossierApi+"/"+a.dossierId+"/rollback";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,s,o).then(function(a){t(a.data),store.dispatch("getActiveGetCounter",!e.activeGetCounter)}).catch(function(e){i(a)})}catch(n){console.log(n),i(a)}})},goToStep({state:e,commit:t},a){return new Promise((t,i)=>{let o={headers:{groupId:e.initData.groupId}};try{var s=new URLSearchParams;let r=e.initData.dossierApi+"/"+a.dossierId+"/goto/"+a.stepCode;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,s,o).then(function(a){t(a.data),store.dispatch("getActiveGetCounter",!e.activeGetCounter)}).catch(function(e){i(a)})}catch(n){console.log(n),i(a)}})},postEform({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}};try{let d=a["id"]?a["id"]:"nm";var s=new FormData,n=window.$("#formAlpaca"+a.partNo+d).alpaca("get"),r=n.getValue();s.append("formData",JSON.stringify(r)),s.append("file","");let u=window.$("#formAlpaca"+a.partNo+d).alpaca("get").childrenByPropertyId;if(u)for(var l in u)if(u[l].isRequired()&&""===u[l].getValue())return void toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(u[l].options.placeholder?u[l].options.placeholder+" là trường dữ liệu bắt buộc":u[l].options["name"]+" là trường dữ liệu bắt buộc");let p=t.initData.dossierApi+"/"+a.dossierId+"/eforms/"+a.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(p,s,o).then(function(t){e(t.data)}).catch(function(e){i(a)})}catch(c){console.log(c),i(a)}})},postEformEsignature({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}};try{var s=new FormData;s.append("formData",JSON.stringify(JSON.parse(a.formData))),s.append("file","");let r=t.initData.dossierApi+"/"+a.dossierId+"/eforms/"+a.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,s,o).then(function(t){e(t.data)}).catch(function(e){i(a)})}catch(n){console.log(n),i(a)}})},postVNPOST({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let s={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}};var n=new URLSearchParams;n.append("customerCode","ccth"),n.append("orderNumber",t.thongTinChungHoSo.dossierId),n.append("senderProvince",a.senderProvince),n.append("senderAddress",a.senderAddress),n.append("senderName",a.senderName),n.append("senderTel",a.senderTel),n.append("receiverName",a.receiverName),n.append("receiverAddress",a.receiverAddress),n.append("receiverTel",a.receiverTel),n.append("receiverProvince",a.receiverProvince);let r="/o/rest/v2/postal/vnpost";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,n,s).then(function(t){i(t.data),e("setLoading",!1)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},getDossierTemplateEdit({commit:e,state:t}){return new Promise((e,a)=>{var i=t.dossierTemplates,o=[];try{0===t.dossierFiles.length?dispatch("loadDossierFiles").then(t=>{t.forEach(e=>{i.forEach(t=>{e.dossierPartNo===t.partNo&&o.push({partName:t.partName,partNo:t.partNo,displayName:e.displayName,dossierFileId:e.dossierFileId,partType:t.partType,hasForm:t.hasForm,fileType:e.fileType,referenceUid:e.referenceUid})})}),e(o)}).catch(t=>{console.log(t),e([])}):t.dossierFiles.forEach(e=>{i.forEach(t=>{e.dossierPartNo===t.partNo&&o.push({partName:t.partName,partNo:t.partNo,displayName:e.displayName,dossierFileId:e.dossierFileId,partType:t.partType,hasForm:t.hasForm,fileType:e.fileType,referenceUid:e.referenceUid})})}),e(o),console.log(o)}catch(s){console.log(s),a([])}})},loadPlugin({commit:commit,state:state},item){return new Promise((resolve,reject)=>{item.plugin=!0;var urlPluginFormData=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formdata",urlPluginFormScript=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formscript",config_plugins={headers:{groupId:state.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormScript,config_plugins),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormData,config_plugins)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(urlResponesFormScript,urlResponesFormData){var responseScript=urlResponesFormScript.data,responseData=urlResponesFormData.data;if(console.log("responseScript==============",responseScript),item.plugin=!0,-1!==responseScript.indexOf("#preview@pdf")){console.log("view pdf");var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/preview",config_blob={headers:{groupId:state.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url,config_blob).then(function(e){var t=window.URL.createObjectURL(e.data);item.pdf=!0,item.url=t,item.no_pdf="",resolve(item)}).catch(function(e){console.log(e),item.pdf=!0,item.url="",item.no_pdf="Tài liệu đính kèm không tồn tại!",resolve(item)})}if(-1!==responseScript.indexOf("#preview@html")){console.log("view html");var config_view={headers:{groupId:state.initData.groupId},dataType:"json"};item.html=!0,item.no_html="";var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/previewhtml";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url,config_view).then(function(response){item.no_html="",vm.stepModel=item;var serializable=response.data,partNo=serializable.partNo,dossierFileId=serializable.dossierFileId,formReport=eval("("+serializable.formReport+")"),formData=eval("("+serializable.formData+")");console.log("formReport======",formReport),console.log("formData======",formData),formReport.data=formData,console.log("formReport_____FINAL=======",formReport),window.$("#alpacajs_form_plugin").alpaca(formReport),window.$(".dossierFilePartNo").val(""),window.$(".dossierFilePartNo").attr("id","dossierFileId"+partNo),window.$(".dossierFilePartNo").val(dossierFileId)}).catch(function(e){console.log(e),item.html=!0,item.no_html="Tài liệu đính kèm không tồn tại!",resolve(item)})}})).catch(function(e){console.log(e),reject(e)})})},getActiveGetCounter({commit:e,state:t},a){e("setActiveGetCounter",a)},getActiveLoadingDataHoSo({commit:e,state:t},a){e("setActiveLoadingDataHoSo",a)},setDefaultCityCode({commit:e,state:t},a){t.thongTinChuHoSo.cityCode=a},getListHistoryProcessingItems({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};var n=[];axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierlogsApi+"/"+a.dossierId+"/logs",s).then(function(t){var a=t.data;for(var i in a.data)"PROCESS_TYPE"===a.data[i].notificationType&&n.push(a.data[i]);e(n)}).catch(function(e){i(e)})})})},loadDossierLogs({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId},params:{notificationType:a.type}},s=t.initData.dossierApi+"/"+a.dossierId+"/logs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(s,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},loadPlugins({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}},s=t.initData.dossierApi+"/"+a.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(s,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},downloadFile({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/files/"+a.fileAttachId,i).then(function(e){var t=window.URL.createObjectURL(e.data);window.open(t)}).catch(function(e){console.log(e)})},getCpsAuthen({commit:e,state:t}){return new Promise((e,a)=>{let i={headers:{groupId:t.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("http://127.0.0.1:8081/api/onegate/token",i).then(function(t){e(t.data)}).catch(function(e){a(e)})})},loadUsersComment({commit:e,state:t},a){return new Promise((e,i)=>{var o=[];let s={headers:{groupId:t.initData.groupId},params:{userMapping:!0}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/contacts",s).then(function(t){if(null!=t&&t.hasOwnProperty("data")){let e=t.data;jquery__WEBPACK_IMPORTED_MODULE_5___default.a.each(e,function(e,t){var a={};a.id=t.userId,a.fullname=t.userName,a.email=t.email,a.profilePictureURL=t.profileUrl,o.push(a)})}else o=[];e(o)}).catch(function(e){o=[],i(o)})})},loadCommentItems({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.commentApi+"/"+a.className+"/"+a.classPK,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},postComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};var s=a.pings.join(),n=new URLSearchParams;n.append("className",a.className),n.append("classPK",a.classPK),n.append("parent",null!=a.parent?a.parent:0),n.append("pings",s),n.append("content",a.content),n.append("upvoteCount",null!=a.upvoteCount?a.upvoteCount:0),n.append("opinion",a.opinion),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.commentApi,n,o).then(function(t){var a={};null!=t&&(a=t.data,console.log("resPostCmt",a)),e(a)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),console.log(e)})})},putComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};var s=a.pings.join(),n=new URLSearchParams;n.append("pings",s),n.append("content",a.content),console.log("dataPut",a),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.commentApi+"/"+a.commentId,n,o).then(function(t){var a={};null!=t&&(a=t.data),e(a)}).catch(function(e){console.log(e)})})},deleteComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.commentApi+"/"+a.commentId,o).then(function(t){e(t)}).catch(function(e){i(e)})})},upvoteComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};if(a.userHasUpvoted){var s=new URLSearchParams;s.append("className",a.className),s.append("classPK",a.classPK),s.append("commentId",a.commentId),s.append("upvoteCount",null!=a.upvoteCount?a.upvoteCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.commentApi+"/"+a.commentId+"/upvotes",s,o).then(function(t){var a={};null!=t&&(a=t.data),e(a)}).catch(function(e){console.log(e)})}else axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.commentApi+"/"+a.commentId+"/upvotes",o).then(function(t){var a={};null!=t&&(a=t.data),e(a)}).catch(function(e){console.log(e)})})},loadProcessStep({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};var n=t.initData.dossierApi+"/"+a.dossierId+"/nextactions",r=t.initData.dossierApi+"/"+a.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,s),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(r,s)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(t,a){var i=t.data.data,o=a.data.data,s=[],n=[];if(i)for(var r=0;r<i.length;r++){if(i[r].type=1,i[r].configNote){var l=JSON.parse(i[r].configNote);i[r].configNote=l}n.push(i[r])}else i=[],n=[];if(o)for(r=0;r<o.length;r++){var c={type:2,processActionId:o[r].processPluginId,actionName:o[r].pluginName};s.push(c)}var d=n,u=s;console.log("nextactions++++++++++++",d),console.log("plugins++++++++++++",u),d.push(...u),console.log("nextactions2++++++++++++",d),e(d)})).catch(function(e){i(e)})})})},pullNextactions({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(s){console.log("result",s);let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/nextactions",n).then(function(t){let a=t.data;e("setUserNextAction",[]),e("setCheckInput",a["checkInput"]),e("setStepOverdueNextAction",a["stepOverdue"]),a["users"]&&(Array.isArray(a["users"])?e("setUserNextAction",a["users"]):e("setUserNextAction",[a["users"]])),i(a.data)}).catch(function(t){console.log(t),o(t),e("setUserNextAction",[])})})})},pullBtnConfigStep({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.stepConfigApi+"/status/"+a.dossierStatus+"/"+a.dossierSubStatus,o).then(function(t){let a,i=t.data.data;a=i[0].buttonConfig&&i[0].buttonConfig.indexOf("{")>=0&&JSON.parse(i[0].buttonConfig)["buttons"]?JSON.parse(i[0].buttonConfig)["buttons"]:[],e(a)}).catch(function(e){console.log(e),i(e)})})},loadDossierDocuments({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{}},o=t.initData.documentApi+"/"+a.dossierId+"/documents";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){t(e)})})},loadDossierPayments({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{}},o=t.initData.dossierApi+"/"+a.dossierId+"/payment";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},postDossierPayments({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId}};var o=new URLSearchParams;o.append("paymentFee",a.paymentFee),o.append("paymentNote",a.paymentNote);let s=t.initData.dossierApi+"/"+a.dossierId+"/payment";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadDossierActions({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{stepType:a.stepType}},o=t.initData.dossierApi+"/"+a.dossierId+"/sequences";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadMermaidgraph({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{stepType:a.stepType}},o=t.initData.dossierApi+"/"+a.dossierId+"/mermaidgraph";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadDossierLienThong({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},params:{originDossierId:a}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi,s).then(function(t){let a=t.data;a.data?e(a.data):e([])}).catch(function(e){i(e)})})})},getDossierUserAsign({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/users",s).then(function(t){let a=t.data;a["data"]?Array.isArray(a["data"])?e(a.data):e([a["data"]]):e([])}).catch(function(e){i(e)})})})},postDossierUserAsign({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}},n=new URLSearchParams;n.append("assignUsers",a.users?JSON.stringify(a.users):""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.dossierApi+"/"+a.dossierId+"/users",n,s).then(function(t){e(t)}).catch(function(e){i(e)})})})},loadDossierSyncs({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}},s=t.endPointApi+"/dossiers/"+a.dossierId+"/syncs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(s,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},processDossierRouter({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},n=new URLSearchParams;n.append("actionCode",a.actionCode?a.actionCode:""),n.append("payment",a.payment?JSON.stringify(a.payment):""),n.append("assignUsers",a.toUsers?JSON.stringify(a.toUsers):""),n.append("actionNote",a.userNote?JSON.stringify(a.userNote):""),n.append("payload",a.payload?JSON.stringify(a.payload):""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.getNextAction+"/"+a.dossierId+"/actions",n,s).then(function(a){store.dispatch("getActiveGetCounter",!t.activeGetCounter);let i=a.data;e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},deleteDossier({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.getNextAction+"/"+a.dossierId,s).then(function(a){let i=a.data;store.dispatch("getActiveGetCounter",!t.activeGetCounter),e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},restoreDossier({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/dossiers/"+a.dossierId+"/restore",s).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},getListDossierFiles({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/files",o).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){console.log(e),i(e)})})},deleteDossierPatch({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId,Accept:"application/json"}};var n=0;let r=a["dossierId"].length;for(let l in a.dossierId)axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.getNextAction+"/"+a.dossierId[l],s).then(function(a){let i=a.data;n+=1,n===r&&(store.dispatch("getActiveGetCounter",!t.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!t.activeLoadingDataHoSo)),e(i)}).catch(function(e){console.log(e),n+=1,n===r&&(store.dispatch("getActiveGetCounter",!t.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!t.activeLoadingDataHoSo)),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint01({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},responseType:"blob",params:{payload:a.payload}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/documents/preview/"+a.document,s).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint03({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},responseType:"blob",params:{payload:a.payload}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/documents/print",s).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doGuiding({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={serviceCode:a.serviceCode?a.serviceCode:"",serviceName:a.serviceName?a.serviceName:"",typeCode:a.typeCode?a.typeCode:"",templateNo:a.templateNo?a.templateNo:"",applicantName:a.applicantName?a.applicantName:"",applicantAddress:a.applicantAddress?a.applicantAddress:"",applicantEmail:a.applicantEmail?a.applicantEmail:"",applicantTelNo:a.applicantTelNo?a.applicantTelNo:"",employeeName:a.employeeName?a.employeeName:""};a.reportType&&(s["reportType"]=a.reportType);let n={headers:{groupId:t.initData.groupId},responseType:"blob",params:s};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getServiceConfigs+"/"+a.serviceConfigId+"/guide",n).then(function(t){let i=t.data;a.reportType&&file_saver__WEBPACK_IMPORTED_MODULE_6___default()(i,"HDTT"+(new Date).getTime()+".doc");let o=window.URL.createObjectURL(i);e(o)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint02({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},responseType:"blob"},n=new URLSearchParams;n.append("serviceCode",a.serviceCode),n.append("govAgencyCode",a.govAgencyCode),n.append("dossiers",a.dossiers),n.append("payload",a.payload),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.getNextAction+"/preview/"+a.document,n,s).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},printPay({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/payments/"+a.referenceUid+"/invoicefile/preview",s).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},processPullBtnDetail({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/nextactions/"+a.actionId,s).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},getNextAction({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/nextactions/"+a.actionId,s).then(function(t){let a=t.data;e(a)}).catch(function(t){console.log(t),e([]),i(t)})})})},loadFormScript({state:e,commit:t},a){return new Promise((t,i)=>{store.dispatch("loadInitResource").then(function(o){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:e.initData.dossierTemplatesApi+"/"+a.templateFileNo+"/parts/"+a.partNo+"/formscript",type:"GET",headers:{groupId:e.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){let a=e;t(a)},error:function(e){console.log(e),t(e),i(e)}})})})},loadFormData({state:e,commit:t},a){return new Promise((t,i)=>{store.dispatch("loadInitResource").then(function(o){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:e.initData.dossierApi+"/"+a.dossierId+"/eforms/"+a.partNo+"/formdata",type:"GET",headers:{groupId:e.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){let a=e;t(a)},error:function(e){console.log(e),t(e),i(e)}})})})},loadDossierCounting({state:e,commit:t},a){let i={headers:{groupId:e.initData.groupId}},o="/o/rest/v2/statistics/dossiers/counting";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},reassignDossier({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}},n=new URLSearchParams;n.append("toUsers",JSON.stringify(a.toUsers)),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/"+a.dossierId+"/reassign",n,s).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},pullProcessSteps({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.stepConfigApi+"/"+a.stepCode,s).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},loadServiceConfigsGov({commit:e,state:t},a){return new Promise((a,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},params:{}};e("setLoadingGov",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.serviceConfigByGovApi,s).then(function(t){e("setLoadingGov",!1);let i=t.data;i.govAgencies?a(i.govAgencies):a([])}).catch(function(t){console.log(t),e("setLoadingGov",!1),i(t)})})})},processCheckNextActions({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}},n=a.actionCode.split(",");axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/nextactions",s).then(function(t){let i=t.data,o=i.data,s=a,r=!1;for(let e in n)if(!r)for(let t in o)if(String(n[e])===String(o[t].actionCode)){s.actionCode=o[t].actionCode,r=!0;break}e(s)}).catch(function(e){console.log(e),i(e)})})})},getServiceOpionByProcess({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getServiceConfigs+"/"+a.serviceConfigId+"/processes",s).then(function(t){let a=t.data;a.data?e(a.data):e({})}).catch(function(e){console.log(e),i(e)})})})},getStatusLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/dictcollections/DOSSIER_STATUS/dictitems?parent=0",o).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({itemCode:"",itemName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getVNPOSTcode({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/VNPOST_CITY_CODE/dictitems",o).then(function(t){let a=t.data;if(a.data){let t=a.data;e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getSubstatusLists({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/DOSSIER_STATUS/dictitems?parent="+a.itemCode,s).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({itemCode:"",itemName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),i(e)})})})},getAgencyLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceinfos/statistics/agencies",o).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({administrationCode:"",administrationName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getServiceLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/serviceinfos",o).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({serviceCode:"",serviceName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getServiceinfoFilter({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(s){let n={headers:{groupId:t.initData.groupId},params:{domain:a.domain}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getListThuTucHanhChinh,n).then(function(t){let a=t.data,o=Array.from(a.data);e("setListThuTucHanhChinh",o),i(o)}).catch(function(e){console.log(e),o(e)})})})},getDomainLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/serviceinfos/statistics/domains",o).then(function(t){let a=t.data;if(a.data){let t=a.data;e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getExtraForm({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/nextactions/"+a.actionId+"/payload",s).then(function(t){let a=t.data;a.data?e(a.data):e([])}).catch(function(e){console.log(e),i(e)})})})},getServiceInfo({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.serviceInfoApi+"/"+a.serviceInfoId,s).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},changeDisplayNameFile({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};var n=new URLSearchParams;n.append("displayName",a.displayName),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.serviceInfoApi+"/"+a.dossierId+"/files/"+a.dossierFileId,n,s).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},loadingDossierCounting({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/statistics/dossiers/counting",o).then(function(t){let a=t.data;a.hasOwnProperty("data")?e(a.data):e(null)}).catch(function(e){console.log(e),a(e)})})})},loadVoting({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/postal/votings/"+a.className+"/"+a.classPK,s).then(t=>{let a=t.data;a&&a.data?e(a.data):e([])}).catch(e=>{i(e)})})})},submitVoting({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){var s=new URLSearchParams;const n={headers:{groupId:t.initData.groupId}};s.append("className",a.className),s.append("classPk",a.classPk),s.append("votingCode",a.votingCode?a.votingCode:""),s.append("selected",a.selected),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/postal/votings/"+a.votingId+"/results",s,n).then(t=>{e(t.data)}).catch(e=>{i(e)})})})},validFileUpload({commit:e,state:t},a){let i=a.file.name?a.file.name.split("."):"",o=i?i[i.length-1]:"",s=a.partTip["extensions"]?a.partTip["extensions"].split(","):"",n=(a.partTip["maxSize"],s?s.filter(function(e){return e===o}):"");store.commit("setValidFileUpload",!1),n&&n.length>0?Number(a.file.size)<=1048576*a.partTip["maxSize"]||!a.partTip["maxSize"]?store.commit("setValidFileUpload",!0):(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên dung lượng tối đa là "+a.partTip["maxSize"]+" MB"),store.commit("setValidFileUpload",!1)):a.partTip["extensions"]?(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+a.partTip["extensions"]),store.commit("setValidFileUpload",!1)):store.commit("setValidFileUpload",!0)}},mutations:{setLoading(e,t){e.loading=t},setLoadingTable(e,t){e.loadingTable=t},setLoadingGov(e,t){e.loadingGov=t},setValidFileUpload(e,t){e.validFileUpload=t},setError(e,t){e.error=t},clearError(e){e.error=null},setIndex(e,t){e.index=t},setInitData(e,t){e.initData=t},setMenuConfigToDo(e,t){e.trangThaiHoSoList=t},setDataPhanCong(e,t){e.data_phancong=t},setLoadingDynamicBtn(e,t){e.loadingDynamicBtn=t},setListThuTucHanhChinh(e,t){e.listThuTucHanhChinh=t},setDossierTemplateName(e,t){e.dossierTemplateName=t},setIsDetail(e,t){e.isDetail=t},setLePhi(e,t){e.lePhi.fee=t.paymentFee,e.lePhi.feeNote=t.paymentFeeNote},setThanhPhanHoso(e,t){e.thanhPhanHoSo=t},setThanhPhanHosoTemplates(e,t){e.thanhPhanHoSo.dossierTemplates=t},setDataCreateFile(e,t){e.dataCreateFile=t},setCheckInput(e,t){e.checkInput=t},setUserNextAction(e,t){e.usersNextAction=t||[]},setStepOverdueNextAction(e,t){e.stepOverdueNextAction=t},setThongTinChuHoSo(e,t){let a=!0;"business"===t.applicantIdType&&(a=!1);let i={applicantIdNo:t.applicantIdNo,applicantName:t.applicantName,address:t.address,cityCode:t.cityCode,districtCode:t.districtCode,wardCode:t.wardCode,contactEmail:t.contactEmail,contactTelNo:t.contactTelNo,userType:a};e.thongTinChuHoSo=i},setThongTinChuHoSoBindChuyenPhat(e,t){e.thongTinChuHoSoBindChuyenPhat={cityCode:t.cityCode,districtCode:t.districtCode,wardCode:t.wardCode,address:t.address,contactTelNo:t.contactTelNo}},setThongTinNguoiNopHoSo(e,t){e.thongTinNguoiNopHoSo=Object.assign(e.thongTinNguoiNopHoSo,t)},setDichVuChuyenPhatKetQua(e,t){let a={viaPostal:t.viaPostal,postalServiceCode:t.postalServiceCode?t.postalServiceCode:"",postalAddress:t.postalAddress?t.postalAddress:"",postalCityCode:t.postalCityCode?t.postalCityCode:"",postalDistrictCode:t.postalDistrictCode?t.postalDistrictCode:"",postalWardCode:t.postalWardCode?t.postalWardCode:"",postalTelNo:t.postalTelNo?t.postalTelNo:""};e.dichVuChuyenPhatKetQua=a},setViaPostal(e,t){e.viaPostal=t},setServiceConfigObj(e,t){e.serviceConfigObj=t},setThongTinChungHoSo(e,t){var a;if(1===t.processUnit&&t.processBlock>8){let e,i=Math.floor(t.processBlock/8)+" ngày";e=t.processBlock%8!==0?8*(t.processBlock/8-Math.floor(t.processBlock/8))+" giờ":"",a=`${i} ${e}`}else 0===t.processUnit?a=t.processBlock+" ngày":1===t.processUnit&&t.processBlock<=8&&(a=t.processBlock+" giờ");let i={dossierTemplateNo:t.dossierTemplateNo,dossierTemplateName:t.dossierTemplateName,serviceName:t.serviceName,serviceConfig:t.serviceConfig,serviceOption:t.dossierTemplateNo,receiveDate:new Date(t.receiveDate),dueDate:new Date(t.dueDate).toString(),durationDate:a,dossierId:t.dossierId,dossierIdCTN:t.dossierIdCTN,dossierStatus:t.dossierStatus,dossierNo:t.dossierNo,govAgencyName:t.govAgencyName,dossierStatusText:t.dossierStatusText,submitDate:t.submitDate};e.thongTinChungHoSo=i},setThongTinChungHoSoDueDate(e,t){e.thongTinChungHoSo.dueDate=t},setThongTinChungHoSoDurationDate(e,t){e.thongTinChungHoSo.durationDate=t},setThongTinChungHoSoReceiveDate(e,t){e.thongTinChungHoSo.receiveDate=t},setserviceConfigItems(e,t){e.serviceConfigItems=t},setServiceOptionItems(e,t){e.serviceOptionItems=t},setServiceOptionThongTinChungHoSo(e,t){e.thongTinChungHoSo.serviceOption=t},setCitys(e,t){e.citys=t},dossierSelected(e,t){e.dossierSelected=t},actionActive(e,t){e.actionActive=t},setResultServices(e,t){e.resultServices=t},setDossierTemplates(e,t){e.dossierTemplates=t},setDossier(e,t){e.dossier=t},setDanhSachHoSo(e,t){e.danhSachHoSo=t},setCityVal(e,t){e.cityVal=t},setDistrictVal(e,t){e.districtVal=t},setWardVal(e,t){e.wardVal=t},setDossierFiles(e,t){e.dossierFiles=t},setSameUser(e,t){e.thongTinNguoiNopHoSo.sameUser=t},setSameUser2(e,t){e.sameUser2=t},setPrintPH(e,t){e.printPH=t},setlistHistoryProcessingItems(e,t){e.listHistoryProcessingItems=t},setUsersComment(e,t){e.usersComment=t},setCommentItems(e,t){e.commentItems=t},setKysoSuccess(e,t){e.kysoSuccess=t},setActiveGetCounter(e,t){e.activeGetCounter=t},setActiveLoadingDataHoSo(e,t){e.activeLoadingDataHoSo=t},setDataCreateDossier(e,t){e.dataCreateDossier=t},setPaymentProfile(e,t){e.paymentProfile=t},setPaymentFileName(e,t){e.paymentFileName=t},setApplicantBussinessExit(e,t){e.applicantBussinessExit=t},setApplicantNote(e,t){e.applicantNote=t},setApplicantId(e,t){e.applicantId=t}},getters:{loading(e){return e.loading},loadingTable(e){return e.loadingTable},loadingGov(e){return e.loadingGov},error(e){return e.error},index(e){return e.index},dossierSelected(e){return e.dossierSelected},actionActive(e){return e.actionActive},loadingMenuConfigToDo(e){return new Promise((e,t)=>{store.dispatch("loadMenuConfigToDo").then(function(t){e(t)})})},loadingInitData(e){return console.log("loadingInitDataloadingInitDataloadingInitDataloadingInitData: ",e.initData),e.initData},loadingDynamicBtn(e){return e.loadingDynamicBtn},loadingListThuTucHanhChinh(e){store.dispatch("loadListThuTucHanhChinh")},lePhi(e){return e.lePhi},isDetail(e){return e.isDetail},dossierTemplateName(e){return e.dossierTemplateName},thongTinChungHoSo(e,t){return e.thongTinChungHoSo},thongTinChuHoSo(e){return e.thongTinChuHoSo},thongTinChuHoSoBindChuyenPhat(e){return e.thongTinChuHoSoBindChuyenPhat},kysoSuccess(e){return e.kysoSuccess},activeGetCounter(e){return e.activeGetCounter},activeLoadingDataHoSo(e){return e.activeLoadingDataHoSo},thanhPhanHoSo(e){return e.thanhPhanHoSo},thongTinNguoiNopHoSo(e){return e.thongTinNguoiNopHoSo},dichVuChuyenPhatKetQua(e){return e.dichVuChuyenPhatKetQua},viaPostal(e){return e.viaPostal},serviceOptionItems(e){return e.serviceOptionItems},getDictItems(e){return t=>{return"ADMINISTRATIVE_REGION"===t.collectionCode&&0===t.level?null==e.citys?store.dispatch("loadDictItems",t):new Promise((t,a)=>{t({total:e.citys.length,data:e.citys})}):store.dispatch("loadDictItems",t)}},getDataCreateFile(e){return e.dataCreateFile},getCheckInput(e){return e.checkInput},getUsersNextAction(e){return e.usersNextAction},getStepOverdueNextAction(e){return e.stepOverdueNextAction},resultServices(e){return e.resultServices},dossierTemplates(e){return e.dossierTemplates},dataDetailDossier(e){return e.dossier},dossier(e){return e.dossier},getCityVal(e){return e.cityVal},getDistrictVal(e){return e.districtVal},getWardVal(e){return e.wardVal},dossierFiles(e){return e.dossierFiles},sameUser2(e){return e.sameUser2},getVnpostCodeItems(e){return e.vnpostCodeItems},listHistoryProcessingItems(e){return e.listHistoryProcessingItems},subStatusNew(e){return e.subStatusNew},usersComment(e){return e.usersComment},commentItems(e){return e.commentItems},dataPhanCong(e){return e.data_phancong},getDataCreateDossier(e){return e.dataCreateDossier},getPaymentProfile(e){return e.paymentProfile},getPaymentFileName(e){return e.paymentFileName},getUser(e){return e.user},getApplicantIdNo(e){return e.applicantId},getApplicantNote(e){return e.applicantNote},getApplicantBussinessExit(e){return e.applicantBussinessExit}}})},"56d7":function(e,t,a){"use strict";a.r(t);a("0f18");var i=a("a026"),o=a("bb71");a("74ef");i["a"].use(o["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"onegate__fe",attrs:{id:"app_dynamic_report"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"240"}},[a("div",{staticClass:"drawer__filter px-2"},[a("v-list",{staticClass:"report_list",staticStyle:{padding:"0"},attrs:{dense:""}},e._l(e.itemsReports,function(t,i){return a("v-list-tile",{key:i,attrs:{to:"/bao-cao/"+i+"?reportType="+e.reportTypeFilter}},[a("v-list-tile-action",[String(i)===String(e.index)?a("v-icon",{attrs:{color:"blue darken-3"}},[e._v("play_arrow")]):a("v-icon",[e._v("description")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.reportName))])],1)],1)}),1)],1)]),a("v-content",[a("router-view")],1),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarerror,callback:function(t){e.snackbarerror=t},expression:"snackbarerror"}},[e._v("\n    Yêu cầu thực hiện thất bại\n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.closeError()}}},[a("v-icon",[e._v("clear")])],1)],1),a("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarsocket,callback:function(t){e.snackbarsocket=t},expression:"snackbarsocket"}},[a("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),e._v("\n     \n    Mất kết nối, tự động kết nối lại trong giây lát ... \n    \n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.reloadPage()}}},[a("v-icon",[e._v("replay")])],1)],1)],1)},n=[],r=a("bbd0"),l={props:["index"],data:()=>({dialog:!1,drawer:null,dataSocket:{},support:r,itemsReportsConfig:[],itemsGroups:[{value:"domain",text:"lĩnh vực"},{value:"gov",text:"đơn vị"}],userConfig:[],reportTypeFilter:""}),computed:{itemsReports(){return this.$store.getters.itemsReports},items(){return this.$store.getters.getDeliverableTypes},groupType:{get:function(){return this.$store.getters.groupType},set:function(e){this.$store.commit("setgroupType",e)}},reportType:{get:function(){return this.$store.getters.reportType},set:function(e){this.$store.commit("setreportType",e)}},selected:{get:function(){return this.$store.getters.selected},set:function(e){this.$store.commit("setselected",e)}},selectedText:{get:function(){return this.$store.getters.selectedText},set:function(e){this.$store.commit("setselectedText",e)}},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(e){this.$store.commit("setsnackbarerror",e)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(e){this.$store.commit("setsnackbarsocket",e)}}},created(){var e=this;e.$nextTick(function(){void 0!==e.$route.query.reportType&&null!==e.$route.query.reportType&&(e.reportTypeFilter=e.$route.query.reportType),e.$store.dispatch("getDynamicReports",e.reportTypeFilter).then(function(t){if(e.itemsReportsConfig=[],e.userConfig=[],"0"!==String(e.index)){for(let a in e.itemsReports)if(e.itemsReports[a]["code"]===String(e.index)){if(e.reportType=e.itemsReports[a]["document"],e.itemsReportsConfig=e.itemsReports[a]["filterConfig"]["reportConfig"],""!==e.itemsReports[a]["userConfig"]){let t=e.itemsReports[a]["userConfig"];t.hasOwnProperty(e.getUserId())&&(e.userConfig=t[e.getUserId()])}break}}else if(e.reportType=e.itemsReports[0]["document"],e.itemsReportsConfig=e.itemsReports[0]["filterConfig"]["reportConfig"],""!==e.itemsReports[0]["userConfig"]){let t=e.itemsReports[0]["userConfig"];t.hasOwnProperty(e.getUserId())&&(e.userConfig=t[e.getUserId()])}if(e.selected=[],e.userConfig.length>0)e.selected=e.userConfig;else for(let a in e.itemsReportsConfig)e.itemsReportsConfig[a]["selected"]&&e.selected.push(e.itemsReportsConfig[a]["value"])})})},methods:{redirectFilter(e){this.$router.push(e+"?state_change="+Math.floor(100*Math.random())+1)},closeError(){this.$store.commit("setsnackbarerror",!1)},reloadPage(){window.location.reload(!0)},deliverableRouter(e){console.log(e)},resetConfig(){let e=this;e.selected=[];for(let t in e.itemsReportsConfig)e.itemsReportsConfig[t]["selected"]&&e.selected.push(e.itemsReportsConfig[t]["value"])},changeReportType(e){let t=this;t.itemsReportsConfig=[];for(let a in t.itemsReports)if(t.itemsReports[a]["document"]===e){if(t.itemsReportsConfig=t.itemsReports[a]["filterConfig"]["reportConfig"],""!==t.itemsReports[a]["userConfig"]){let e=t.itemsReports[a]["userConfig"];e.hasOwnProperty(t.getUserId())&&(t.userConfig=e[t.getUserId()])}if(t.selected=[],t.userConfig.length>0)t.selected=t.userConfig;else for(let e in t.itemsReportsConfig)t.itemsReportsConfig[e]["selected"]&&t.selected.push(t.itemsReportsConfig[e]["value"]);t.$router.push("/bao-cao/"+t.itemsReports[a]["code"]);break}}}},c=l,d=a("2877"),u=a("6544"),p=a.n(u),h=a("7496"),m=a("8336"),g=a("549c"),_=a("132d"),v=a("8860"),f=a("ba95"),y=a("40fe"),C=a("5d23"),D=a("f774"),T=a("490a"),P=a("2db4"),x=Object(d["a"])(c,s,n,!1,null,null,null);x.options.__file="App.vue";var S=x.exports;p()(x,{VApp:h["a"],VBtn:m["a"],VContent:g["a"],VIcon:_["a"],VList:v["a"],VListTile:f["a"],VListTileAction:y["a"],VListTileContent:C["a"],VListTileTitle:C["b"],VNavigationDrawer:D["a"],VProgressCircular:T["a"],VSnackbar:P["a"]});var b=a("8c4f"),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row-header no__hidden_class"},[null!==e.trangThaiHoSoList?a("div",{staticClass:"background-triangle-big"},[a("span",[e._v(e._s(e.trangThaiHoSoList[e.index]["title"]))])]):e._e(),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}},[a("v-combobox",{attrs:{placeholder:"Tìm kiếm theo tên hồ sơ, tên thủ tục ...",solo:"",chips:"",multiple:"","deletable-chips":"","item-value":"value","item-text":"text","content-class":"adv__search__select","return-object":""},on:{input:e.keywordEventChange},model:{value:e.advSearchItems,callback:function(t){e.advSearchItems=t},expression:"advSearchItems"}}),a("v-fade-transition",[e.menusss?a("div",{staticClass:"adv__search_container"},[e._l(e.advSearchTools,function(t,i){return t.display?a("v-layout",{key:i,attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm5:""}},[a("v-select",{attrs:{items:e.advSearchTools,label:"Chọn điều kiện lọc","single-line":"","item-value":"value","item-text":"text",disabled:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),a("v-flex",{staticClass:"text-center",attrs:{xs12:"",sm1:""}},[a("v-btn",{staticClass:"my-0 mx-0",attrs:{icon:""}},[a("v-icon",{attrs:{size:"16"}},[e._v("drag_handle")])],1)],1),"year_month_day"===t.spec?a("v-flex",{staticClass:"pr-2",attrs:{xs2:"",sm2:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.years,label:"Chọn năm","single-line":"","item-value":"value","item-text":"name","hide-selected":""},on:{change:function(a){e.changeAdvFilterData(a,"year",t.index)}},model:{value:e.itemFilterSupport.year,callback:function(t){e.$set(e.itemFilterSupport,"year",t)},expression:"itemFilterSupport.year"}})],1):e._e(),"year_month_day"===t.spec?a("v-flex",{staticClass:"pr-2",attrs:{xs2:"",sm2:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.months,label:"Chọn tháng","single-line":"","item-value":"value","item-text":"name"},on:{change:function(a){e.changeAdvFilterData(a,"month",t.index)}},model:{value:e.itemFilterSupport.month,callback:function(t){e.$set(e.itemFilterSupport,"month",t)},expression:"itemFilterSupport.month"}})],1):e._e(),"year_month_day"===t.spec?a("v-flex",{attrs:{xs2:"",sm2:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.days,label:"Chọn ngày","single-line":"","item-value":"value","item-text":"name"},on:{change:function(a){e.changeAdvFilterData(a,"day",t.index)}},model:{value:e.itemFilterSupport.day,callback:function(t){e.$set(e.itemFilterSupport,"day",t)},expression:"itemFilterSupport.day"}})],1):e._e(),"top"===t.spec?a("v-flex",{attrs:{xs:"",12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.tops,label:t.text+":","single-line":"","item-value":"value","item-text":"name"},on:{change:function(a){e.changeAdvFilterData(a,t.spec,t.index)}},model:{value:e.itemFilterSupport.top,callback:function(t){e.$set(e.itemFilterSupport,"top",t)},expression:"itemFilterSupport.top"}})],1):e._e(),"status"===t.spec?a("v-flex",{attrs:{xs:"",12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.statusLists,label:t.text+":","single-line":"","item-value":"itemCode","item-text":"itemName"},on:{change:function(a){e.changeAdvFilterData(a,t.spec,t.index)}},model:{value:e.itemFilterSupport.status,callback:function(t){e.$set(e.itemFilterSupport,"status",t)},expression:"itemFilterSupport.status"}})],1):e._e(),"substatus"===t.spec?a("v-flex",{attrs:{xs:"",12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.substatusLists,label:t.text+":","single-line":"","item-value":"itemCode","item-text":"itemName"},on:{change:function(a){e.changeAdvFilterData(a,t.spec,t.index)}},model:{value:e.itemFilterSupport.substatus,callback:function(t){e.$set(e.itemFilterSupport,"substatus",t)},expression:"itemFilterSupport.substatus"}})],1):e._e(),"agency"===t.spec?a("v-flex",{attrs:{xs:"",12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.agencyLists,label:t.text+":","single-line":"","item-value":"administrationCode","item-text":"administrationName"},on:{change:function(a){e.changeAdvFilterData(a,t.spec,t.index)}},model:{value:e.itemFilterSupport.agency,callback:function(t){e.$set(e.itemFilterSupport,"agency",t)},expression:"itemFilterSupport.agency"}})],1):e._e(),"service"===t.spec?a("v-flex",{attrs:{xs:"",12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.serviceLists,label:t.text+":","single-line":"","item-value":"serviceCode","item-text":"serviceName"},on:{change:function(a){e.changeAdvFilterData(a,t.spec,t.index)}},model:{value:e.itemFilterSupport.service,callback:function(t){e.$set(e.itemFilterSupport,"service",t)},expression:"itemFilterSupport.service"}})],1):e._e(),"domain"===t.spec?a("v-flex",{attrs:{xs:"",12:"",sm6:""}},[a("v-autocomplete",{attrs:{items:e.itemFilterSupport.domainLists,label:t.text+":","single-line":"","item-value":"domainCode","item-text":"domainName"},on:{change:function(a){e.changeAdvFilterData(a,t.spec,t.index)}},model:{value:e.itemFilterSupport.domain,callback:function(t){e.$set(e.itemFilterSupport,"domain",t)},expression:"itemFilterSupport.domain"}})],1):e._e(),"register"===t.spec?a("v-flex",{attrs:{xs:"",12:"",sm6:""}},[a("v-text-field",{attrs:{placeholder:t.text},model:{value:e.itemFilterSupport.register,callback:function(t){e.$set(e.itemFilterSupport,"register",t)},expression:"itemFilterSupport.register"}})],1):e._e()],1):e._e()}),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"no__selected__items",attrs:{xs12:"",sm10:""}},[a("v-autocomplete",{attrs:{items:e.advSearchTools,label:"Chọn điều kiện lọc","single-line":"","item-value":"text","item-text":"text","return-object":"","hide-selected":""},on:{change:e.selectedAdvFilter},model:{value:e.advSearchToolsSelected,callback:function(t){e.advSearchToolsSelected=t},expression:"advSearchToolsSelected"}})],1),a("v-flex",{staticClass:"text-right",attrs:{xs12:"",sm2:""}},[a("v-btn",{staticClass:"mx-0 my-0 mt-1",attrs:{color:"primary"},nativeOn:{click:function(t){e.menusss=!1}}},[a("v-icon",{staticClass:"mr-2"},[e._v("clear")]),e._v("\n                  Quay lại\n                ")],1)],1)],1)],2):e._e()])],1),a("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"50px"}},[a("v-btn",{staticClass:"my-0 mx-2",attrs:{icon:""},nativeOn:{click:function(t){return e.showAdvFilter(t)}}},[a("v-icon",{attrs:{size:"16"}},[e._v("filter_list")])],1)],1)])]),a("v-layout",{staticClass:"menu_header_list pt-3 pb-2",class:{no__border__bottom:null===e.btnDynamics||void 0===e.btnDynamics||"undefined"===e.btnDynamics||null!==e.btnDynamics&&void 0!==e.btnDynamics&&"undefined"!==e.btnDynamics&&0===e.btnDynamics.length},attrs:{wrap:""}},[1!==e.originality?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[a("v-autocomplete",{attrs:{items:e.listLinhVuc,label:"Chọn lĩnh vực","item-text":"displayName","item-value":"domainCode","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeDomain},model:{value:e.linhVucSelected,callback:function(t){e.linhVucSelected=t},expression:"linhVucSelected"}})],1),a("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[a("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,label:"Chọn thủ tục hành chính","item-text":"displayName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),a("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[a("v-autocomplete",{attrs:{items:e.listDichVu,label:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,box:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}})],1),a("v-flex",{staticClass:"pl-2 pr-2",attrs:{xs12:"",sm3:""}},[a("div",{staticStyle:{position:"relative"}},[a("v-text-field",{attrs:{label:"Nhập mã hồ sơ","append-icon":"search",box:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.changeDossierNoKey(t):null},"click:append":e.changeDossierNoKey},model:{value:e.dossierNoKey,callback:function(t){e.dossierNoKey=t},expression:"dossierNoKey"}})],1)])],1):e._e(),null!==e.dossierCounting&&void 0!==e.dossierCounting&&e.dossierCounting.length>0&&e.dossierCountingShow?a("div",{staticClass:"py-1 px-1",staticStyle:{background:"#f6f6f6","border-top":"1px solid lightgrey"}},e._l(e.dossierCounting,function(t,i){return a("v-chip",{key:i,on:{click:function(a){e.changeAdvFilterDataChips(t)}}},["deleted"===t.key?a("v-avatar",{staticStyle:{"background-color":"#da0e0e","border-color":"#da0e0e",color:"#fff"}},[a("v-icon",{attrs:{size:"16"}},[e._v("delete")])],1):a("v-avatar",{staticStyle:{"background-color":"#0b72ba","border-color":"#0b72ba",color:"#fff"}},[e._v(e._s(t.count))]),e._v("\n        "+e._s(t.title)+"\n      ")],1)}),1):e._e()],1),e.loadingDynamicBtn?a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}}),a("v-flex",{attrs:{xs12:"",sm2:""}},[a("content-placeholders",{staticClass:"mt-3"},[a("content-placeholders-text",{attrs:{lines:1}})],1)],1),a("v-flex",{attrs:{xs12:"",sm2:""}},[a("content-placeholders",{staticClass:"mt-3"},[a("content-placeholders-text",{attrs:{lines:1}})],1)],1),a("v-flex",{attrs:{xs12:"",sm2:""}},[a("content-placeholders",{staticClass:"mt-3"},[a("content-placeholders-text",{attrs:{lines:1}})],1)],1)],1):e._e(),e.loadingDynamicBtn?e._e():a("div",{staticClass:"btn_wrap_actions"},[e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?a("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"UNDO_DOSSIER"},0,!0)}}},[e._v("\n         Undo   \n    ")]):e._e(),e.getUser("Administrator_data")?a("v-menu",{staticStyle:{position:"relative !important"},attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",color:"red",dark:""},slot:"activator"},[e._v("Go to   "),a("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),a("v-list",[a("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DONE"},0,!0)}}},[a("v-list-tile-title",[e._v("Hoàn thành")])],1),a("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_CANCEL"},0,!0)}}},[a("v-list-tile-title",[e._v("Rút hồ sơ")])],1),a("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DENY"},0,!0)}}},[a("v-list-tile-title",[e._v("Từ chối")])],1)],1)],1):e._e(),e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?a("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"CHANGE_DATA_DOSSIER"},0,!0)}}},[e._v("\n      Điều chỉnh dữ liệu\n    ")]):e._e(),e.getUser("Administrator")&&"deleted"!==e.currentQueryState["status"]?a("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"DELETE"},0,!0)}}},[e._v("\n      DELETE\n    ")]):e._e(),e.getUser("Administrator_data")&&e.currentQueryState.hasOwnProperty("status")&&"deleted"===e.currentQueryState["status"]?a("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"RESTORE_DOSSIER"},0,!0)}}},[e._v("\n      Khôi phục hồ sơ\n    ")]):e._e(),e._l(e.btnDynamics,function(t,i){return String(t.form).indexOf("VIEW")<0&&3!==e.menuType?a("v-btn",{key:i,attrs:{color:"primary",loading:e.loadingAction&&i===e.indexAction,disabled:e.loadingAction&&i===e.indexAction},nativeOn:{click:function(a){e.btnActionEvent(null,t,i,!0)}}},[e._v("\n      "+e._s(t.title)+e._s(t.tiltle)+"\n      "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]):e._e()})],2),a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.hosoDatas,"total-items":e.hosoDatasTotal,"item-key":"dossierId","select-all":3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data"),"no-data-text":"Không có hồ sơ nào","hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[a("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?a("th",{staticClass:"v_data_table_check_all"},[e.getUser("Administrator")?a("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}}):a("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,disabled:!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1):e._e(),e._l(t.headers,function(t){return a("th",{key:t.text,class:t["class"]?t["class"]:"",attrs:{width:t["width"]?t["width"]+"px":""}},[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(t.text))]),a("span",[e._v(e._s(t.text))])])],1)})],2)]}},{key:"items",fn:function(t){return[a("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?a("td",{staticClass:"v_data_table_check_all"},[e.getUser("Administrator")||e.getUser("Administrator_data")?a("v-checkbox",{attrs:{primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}}):a("v-checkbox",{attrs:{disabled:0===t.item["assigned"]||!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1):e._e(),a("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("span",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item,t.index)}}},[e._v("\n            "+e._s(15*e.hosoDatasPage-15+t.index+1)+"\n          ")])],1),e._l(e.headers,function(i,o){return i.hasOwnProperty("value")?a("td",{key:o+"_"+t.item.dossierId,class:i["class_column"]},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item,t.index)}}},[i.hasOwnProperty("layout_view")?a("template-rendering",{attrs:{item:t.item,layout_view:i.layout_view}}):a("span",[e._v("\n              "+e._s(t.item[i.value])+"\n            ")])],1)],1):e._e()}),e.hideAction?e._e():a("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),e.loadingTable||null===e.btnDynamics&&void 0===e.btnDynamics&&"undefined"===e.btnDynamics&&null===e.btnDossierDynamics&&void 0===e.btnDossierDynamics&&"undefined"===e.btnDossierDynamics?e._e():a("v-menu",{attrs:{left:"","nudge-left":50,"nudge-top":15}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.processPullBtnDynamics(t.item)}},slot:"activator"},[a("v-icon",[e._v("more_vert")])],1),a("v-list",[e._l(e.btnDynamics,function(i,o){return 3===e.menuType?a("v-list-tile",{key:o+"_menu_"+t.item.dossierId,attrs:{disabled:-1===String(t.item["permission"]).indexOf("write")},on:{click:function(a){e.btnActionEvent(t.item,i,t.index,!1)}}},[a("v-list-tile-title",[e._v(e._s(i.title)+e._s(i.tiltle))])],1):e._e()}),e._l(e.btnDossierDynamics,function(i,o){return(i["enable"]>0||"special"===i["autoEvent"])&&3!==e.menuType?a("v-list-tile",{key:o+"_"+t.item.dossierId,attrs:{disabled:2===i["enable"]||-1===String(t.item["permission"]).indexOf("write")},on:{click:function(a){e.processPullBtnDetail(t.item,i,t.index,o)}}},[a("v-list-tile-title",[e._v(e._s(i.actionName))])],1):e._e()}),e._l(e.btnStepsDynamics,function(i,o){return-1!==String(t.item["permission"]).indexOf("write")&&"NEW"!==String(i.form)&&3!==e.menuType?a("v-list-tile",{key:o+"_"+t.item.dossierId+"_"+t.item.dossierId,on:{click:function(a){e.btnActionEvent(t.item,i,e.index,!1)}}},[a("v-list-tile-title",[e._v(e._s(i.title))])],1):e._e()}),a("v-list-tile",{attrs:{disabled:!t.item["permission"]},on:{click:function(a){e.viewDetail(t.item,t.index)}}},[e._v("\n                Xem chi tiết\n              ")])],2)],1)],1)],2)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:e.hosoDatasTotal,page:e.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAction,callback:function(t){e.dialogAction=t},expression:"dialogAction"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogAction=!1}}},[a("v-icon",[e._v("clear")])],1),e.loadingAction?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[a("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,placeholder:"chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceConfigId","return-object":"","hide-selected":!0},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[e.thuTucHanhChinhSelected&&e.listDichVu.length>1?a("v-autocomplete",{attrs:{items:e.listDichVu,label:"Dịch vụ:",placeholder:"chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"dịch vụ bắt buộc phải chọn."}],required:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}}):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.dialogAction=!1}}},[a("v-icon",[e._v("undo")]),e._v(" \n            Quay lại\n            "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.doSubmitDialogAction(e.itemAction)}}},[a("v-icon",[e._v("save")]),e._v(" \n            Đồng ý\n            "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition",persistent:""},model:{value:e.dialogActionProcess,callback:function(t){e.dialogActionProcess=t},expression:"dialogActionProcess"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validProcess,callback:function(t){e.validProcess=t},expression:"validProcess"}},[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.actionName))]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[a("v-icon",[e._v("clear")])],1),e.loadingActionProcess?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),a("v-card-text",{staticClass:"py-0 px-0"},[a("v-layout",{attrs:{wrap:""}},[e.dialogActionProcess?a("thong-tin-co-ban-ho-so",{attrs:{detailDossier:e.thongtinhoso}}):e._e(),e.dialogActionProcess&&e.showPhanCongNguoiThucHien?a("phan-cong",{attrs:{type:e.type_assign},model:{value:e.assign_items,callback:function(t){e.assign_items=t},expression:"assign_items"}}):e._e(),e.dialogActionProcess&&e.showTraKetQua?a("tra-ket-qua",{attrs:{resultFiles:e.returnFiles}}):e._e(),e.dialogActionProcess&&e.showThuPhi?a("thu-phi",{attrs:{viaPortal:e.viaPortalDetail},model:{value:e.payments,callback:function(t){e.payments=t},expression:"payments"}}):e._e(),e.dialogActionProcess&&e.showYkienCanBoThucHien?a("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:e.userNote}}):e._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.submitFormXuLy(e.dossierItemDialogPick,e.itemDialogPick,e.resultDialogPick,e.indexDialogPick,!1)}}},[a("v-icon",[e._v("save")]),e._v(" \n          Xác nhận\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),a("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[a("v-icon",[e._v("undo")]),e._v(" \n          Quay lại\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_statusAction,callback:function(t){e.dialog_statusAction=t},expression:"dialog_statusAction"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("\n        Trạng thái xử lý\n      ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[a("v-icon",[e._v("clear")])],1),a("v-card-text",{staticStyle:{"max-height":"350px"}},e._l(e.selected,function(t,i){return a("div",{key:t.dossierIdCTN},[a("v-layout",{staticClass:"py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd",position:"relative"},attrs:{wrap:""}},[a("v-flex",{attrs:{xs11:""}},[a("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[e._v(e._s(i+1)+".")]),a("div",{staticClass:"ml-4"},[a("span",{staticClass:"text-bold"},[e._v(e._s(t.dossierNo))]),e._v(" - "+e._s(t.serviceName))])]),a("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[t.statusAction?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{attrs:{slot:"activator",size:"20",color:"primary"},slot:"activator"},[e._v("\n                  check\n                ")]),a("span",[e._v("Thành công")])],1):a("v-tooltip",{attrs:{top:""}},[a("v-icon",{attrs:{slot:"activator",size:"20",color:"red darken-3"},slot:"activator"},[e._v("\n                  block\n                ")]),a("span",[e._v("Thất bại")])],1)],1)],1)],1)}),0),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.resend(t)}}},[a("v-icon",{attrs:{size:"20"}},[e._v("refresh")]),e._v(" \n          Thử lại\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),a("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[a("v-icon",[e._v("undo")]),e._v(" \n          Thoát\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_printGuide,callback:function(t){e.dialog_printGuide=t},expression:"dialog_printGuide"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("\n        Thông tin phiếu hướng dẫn hoàn thiện hồ sơ\n      ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_printGuide=!1}}},[a("v-icon",[e._v("clear")])],1),a("v-card-text",[a("v-form",{ref:"formGuide",attrs:{"lazy-validation":""},model:{value:e.validGuide,callback:function(t){e.validGuide=t},expression:"validGuide"}},[a("v-layout",{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[e._v("Thủ tục hành chính:")]),a("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{items:e.listThuTucHanhChinh,placeholder:"Chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"Thủ tục bắt buộc phải chọn."}],required:""},on:{change:e.changeServiceConfigsGuide},model:{value:e.thuTucHanhChinhSelectedGuide,callback:function(t){e.thuTucHanhChinhSelectedGuide=t},expression:"thuTucHanhChinhSelectedGuide"}})],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[e._v("Dịch vụ:")]),a("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{items:e.listDichVuGuide,placeholder:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"dịch vụ bắt buộc phải chọn."}],required:""},model:{value:e.dichVuSelectedGuide,callback:function(t){e.dichVuSelectedGuide=t},expression:"dichVuSelectedGuide"}})],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[e._v("Tên người làm thủ tục:")]),a("v-text-field",{attrs:{placeholder:"Nhập tên người làm thủ tục",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.applicantNameGuide,callback:function(t){e.applicantNameGuide=t},expression:"applicantNameGuide"}})],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[e._v("Địa chỉ:")]),a("v-text-field",{attrs:{placeholder:"Nhập địa chỉ",box:""},model:{value:e.applicantAddressGuide,callback:function(t){e.applicantAddressGuide=t},expression:"applicantAddressGuide"}})],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[e._v("Thư điện tử:")]),a("v-text-field",{attrs:{box:"",placeholder:"Nhập thư điện tử"},model:{value:e.applicantEmailGuide,callback:function(t){e.applicantEmailGuide=t},expression:"applicantEmailGuide"}})],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[e._v("Số điện thoại:")]),a("v-text-field",{attrs:{box:""},model:{value:e.applicantTelNoGuide,callback:function(t){e.applicantTelNoGuide=t},expression:"applicantTelNoGuide"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doGuiding("doc")}}},[a("v-icon",[e._v("save")]),e._v("  \n          Lưu phiếu hướng dẫn\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),a("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doGuiding("pdf")}}},[a("v-icon",[e._v("print")]),e._v("  \n          In phiếu hướng dẫn\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_extraForm,callback:function(t){e.dialog_extraForm=t},expression:"dialog_extraForm"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("\n        Điều chỉnh dữ liệu mã hồ sơ: "+e._s(e.selectedDoAction.length>0?e.selectedDoAction[e.selectedDoAction.length-1]["dossierNo"]:"")+"\n      ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_extraForm=!1}}},[a("v-icon",[e._v("clear")])],1),a("v-card-text",{staticClass:"px-0",attrs:{flat:""}},[a("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:e.dossierIdSelected,action_id:e.actionId,type:"dieuchinhdulieu"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.doChangeDossierExtraForm()}}},[a("v-icon",[e._v("save")]),e._v("  \n          Xác nhận\n        ")],1),a("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.dialog_extraForm=!1}}},[a("v-icon",[e._v("clear")]),e._v("  \n          Hủy\n        ")],1)],1)],1)],1)],1)},A=[],w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.layout_view&&void 0!==e.layout_view&&"undefined"!==e.layout_view?a("my-dynamic-view"):e._e()},E=[],N=a("e195"),O=N["a"],L=Object(d["a"])(O,w,E,!1,null,null,null);L.options.__file="template_rendering.vue";var k=L.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{style:e.viewMobile?"":"text-align: left;position: absolute;line-height: 46px;"},[e._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[e._v(e._s(e.total))]),e._v(" hồ sơ. ")]),e.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",style:e.viewMobile?"":"justify-content: flex-end; -webkit-justify-content: flex-end;"},[a("div",{staticClass:"pr-3 xs4 sm2 flex"},[a("v-autocomplete",{attrs:{items:e.totalPagesData,"item-text":"text","item-value":"value"},on:{input:e.goToPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:e.customClass},[a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,on:{click:function(t){return t.preventDefault(),e.lastPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("first_page")])])]),a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.lastPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_left")])])]),a("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[e._v("\n          "+e._s(e.titlePage)+"\n        ")])]),a("li",{staticClass:"page-item",class:e.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.nextPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:e.classLastPage},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,on:{click:function(t){return t.preventDefault(),e.nextPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("last_page")])])])])]):e._e()])},M=[],R=a("9029");const U="TinyPagination";var H={name:U,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data(){return{version:"0.2.1",currentPage:1,currentLimit:15,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created(){this.currentPage=this.page},watch:{page(e){this.currentPage=parseInt(e)}},computed:{translation(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages(){return Math.ceil(this.total/this.currentLimit)},totalPagesData(){for(var e=[],t={},a=1;a<=this.totalPages;++a)t={value:a,text:"Trang "+a},e.push(t);return e},titlePage(){return`${this.currentPage}`},classFirstPage(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}},viewMobile(){return R["isMobile"]}},methods:{nextPage(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange(){this.currentPage=1}}},B=H,V=a("c6a6"),$=Object(d["a"])(B,F,M,!1,null,null,null);$.options.__file="hanghai_pagination.vue";var K=$.exports;p()($,{VAutocomplete:V["a"]});var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panel",{attrs:{value:[!0],expand:""}},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Thông tin chung hồ sơ")]),a("v-card",[a("v-card-text",{staticClass:"py-0"},[a("v-layout",{staticClass:"px-2 py-2",attrs:{wrap:""}},[1!==e.originality?a("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Chủ hồ sơ: ")]),a("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.applicantName))])]),a("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[a("span",{staticClass:"pr-2"},[e._v("Địa chỉ: ")]),a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.thongTinChiTietHoSo.address)+" "+e._s(e.thongTinChiTietHoSo.wardName)+", "+e._s(e.thongTinChiTietHoSo.districtName)+", "+e._s(e.thongTinChiTietHoSo.cityName))]),a("span",{staticClass:"pl-0"},[e._v(" "+e._s(e.thongTinChiTietHoSo.address)+" "+e._s(e.thongTinChiTietHoSo.wardName)+", "+e._s(e.thongTinChiTietHoSo.districtName)+", "+e._s(e.thongTinChiTietHoSo.cityName))])])],1),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pl-0"},[e._v("Thư điện tử: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactEmail)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Điện thoại: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactTelNo)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("v-menu",{staticStyle:{position:"relative !important"},attrs:{"offset-y":""}},[a("span",{staticClass:"pr-2",attrs:{slot:"activator"},slot:"activator"},[e._v("\n                  Thông tin người nộp\n                  "),a("v-icon",{staticStyle:{position:"absolute",right:"-12px",top:"-2px"},attrs:{color:"blue",size:"22"}},[e._v("arrow_drop_down")])],1),a("v-list",{staticClass:"px-3 py-2"},[a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[e._v("Tên người nộp:")]),e.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[e._v(" \n                      "+e._s(e.thongTinChiTietHoSo.applicantName)+"\n                    ")]):a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.delegateName)+" ")])]),a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[e._v("Địa chỉ:")]),e.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[e._v(" \n                      "+e._s(e.thongTinChiTietHoSo.address)+" "+e._s(e.thongTinChiTietHoSo.wardName)+", "+e._s(e.thongTinChiTietHoSo.districtName)+", "+e._s(e.thongTinChiTietHoSo.cityName)+"\n                    ")]):a("span",{staticClass:"pl-0 text-bold"},[e._v(" \n                      "+e._s(e.thongTinChiTietHoSo.delegateAddress)+" "+e._s(e.thongTinChiTietHoSo.delegateWardName)+", "+e._s(e.thongTinChiTietHoSo.delegateDistrictName)+", "+e._s(e.thongTinChiTietHoSo.delegateCityName)+"\n                    ")])]),a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[e._v("Thư điện tử:")]),e.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactEmail)+" ")]):a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.delegateEmail)+" ")])]),a("div",{staticClass:"xs12 sm12 py-1"},[a("span",{staticClass:"pr-2"},[e._v("Số điện thoại:")]),e.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactTelNo)+" ")]):a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.delegateTelNo)+" ")])])])],1)],1)]):e._e(),1===e.originality?a("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Mã hồ sơ: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.dossierNo)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Cơ quan: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.govAgencyName)+" ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Trạng thái: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierStatusText)+" ")])])]):e._e(),1!==e.originality?a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Ngày gửi trực tuyến: ")]),e.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.submitDate)+" ")]):a("span",{staticClass:"pl-0 text-bold"},[e._v(" Một cửa ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Ngày tiếp nhận: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.receiveDate))])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Thời hạn giải quyết: ")]),e.thongTinChiTietHoSo.durationCount>0?a("span",{staticClass:"pl-0 text-bold "},[e._v(" \n                "+e._s(e.durationText(e.thongTinChiTietHoSo.durationUnit,e.thongTinChiTietHoSo.durationCount))+" làm việc \n              ")]):a("span",{staticClass:"pl-0 text-bold "},[e._v("\n                Không quy định\n              ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Ngày hẹn trả: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dueDate))])])]):a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Ngày gửi: ")]),e.thongTinChiTietHoSo.online?a("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.submitDate)+" ")]):a("span",{staticClass:"pl-0 text-bold"},[e._v(" Một cửa ")])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Ngày tiếp nhận: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.receiveDate))])]),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Ngày hẹn trả: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dueDate))])])]),1!==e.originality?a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Mã hồ sơ: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.dossierNo)+" ")])]),e.thongTinChiTietHoSo.originDossierNo?a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Hồ sơ gốc: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.originDossierNo)+" ")])]):e._e(),a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[e._v("Trạng thái: ")]),a("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierStatusText)+" ")])]),e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote?a("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[e._v("Ghi chú:")]):e._e(),e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote?a("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.thongTinChiTietHoSo.dossierNote)+" ")]),a("span",{staticClass:"pl-0"},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierNote)+" ")])])],1):e._e()]):a("v-flex",{attrs:{xs12:"",sm4:""}},[a("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[e._v("Ghi chú:")]),e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote?a("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[a("v-tooltip",{attrs:{top:""}},[a("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.thongTinChiTietHoSo.dossierNote)+" ")]),a("span",{staticClass:"pl-0"},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierNote)+" ")])])],1):e._e(),e.thongTinChiTietHoSo.extendDate?a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pl-0 text-bold"},[e._v("Hẹn lại: "+e._s(e.thongTinChiTietHoSo.extendDate))])]):e._e()])],1)],1)],1)],1)],1)},q=[],G={props:{detailDossier:{type:Object,default:()=>{}}},watch:{detailDossier(e){console.log("watch",e);var t=this;t.thongTinChiTietHoSo=e}},components:{},data:()=>({thongTinChiTietHoSo:{},showContactDetail:!1}),computed:{loading(){return this.$store.getters.loading},originality(){var e=this;return e.getOriginality()}},created(){var e=this;e.thongTinChiTietHoSo=e.detailDossier},mounted(){var e=this;e.thongTinChiTietHoSo=e.detailDossier},methods:{initData(e){var t=this;t.$store.dispatch("getDetailDossier",e).then(e=>{t.thongTinChiTietHoSo=e,console.log("thongTinChiTietHoSo",t.thongTinChiTietHoSo)})},goBack(){window.history.back()},durationText(e,t){var a;if(1===e&&t>8){let e,i=Math.floor(t/8)+" ngày";e=t%8!==0?8*(t/8-Math.floor(t/8))+" giờ":"",a=`${i} ${e}`}else 0===e?a=t+" ngày":1===e&&t<=8&&(a=t+" giờ");return a}},filters:{dateTimeView(e){if(e){let t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()} | ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}return""}}},j=G,Y=a("b0af"),z=a("99d9"),J=a("cd55"),Q=a("49e2"),X=a("0e8f"),Z=a("a722"),ee=a("e449"),te=a("3a2f"),ae=Object(d["a"])(j,W,q,!1,null,null,null);ae.options.__file="ThongTinCoBanHoSo.vue";var ie=ae.exports;p()(ae,{VCard:Y["a"],VCardText:z["b"],VExpansionPanel:J["a"],VExpansionPanelContent:Q["a"],VFlex:X["a"],VIcon:_["a"],VLayout:Z["a"],VList:v["a"],VMenu:ee["a"],VTooltip:te["a"]});var oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Chọn người thực hiện\n      ")]),a("v-card",[1===e.type?a("div",{staticClass:"px-4 py-1"},[a("v-layout",{attrs:{wrap:""}},e._l(e.data_phancong,function(t,i){return a("v-checkbox",{key:t.userId,staticStyle:{display:"inline-block","min-width":"190px","max-width":"190px"},attrs:{slot:"activator",label:t.userName,title:t.userName},on:{change:function(t){e.changeAssigned(t,i)}},slot:"activator",model:{value:t.assigned,callback:function(a){e.$set(t,"assigned",a)},expression:"item.assigned"}})}),1),e.assignValidate?e._e():a("span",{staticClass:"ml-3",staticStyle:{color:"#f44336"}},[e._v("* Yêu cầu chọn người để thực hiện")])],1):a("v-card-text",{staticClass:"px-4 py-1"},[a("v-layout",{staticClass:"my-1",attrs:{wrap:""}},e._l(e.data_phancong,function(t,i){return a("div",{key:t.userId,staticClass:"ml-3"},[a("v-layout",{attrs:{wrap:""}},[a("v-tooltip",{attrs:{top:""}},[a("v-checkbox",{staticStyle:{"min-width":"150px"},attrs:{slot:"activator",label:t.userName},on:{change:function(t){e.checkAsign(t,i)}},slot:"activator",model:{value:t.assigned,callback:function(a){e.$set(t,"assigned",a)},expression:"item.assigned"}}),a("span",{staticClass:"pl-0"},[e._v(" "+e._s(t.userName)+" ")])],1),a("toggle-button",{staticClass:"mx-1 btn-tgl",attrs:{id:"btn-"+i,title_checked:"Thực hiện",title_unchecked:"Phối hợp",labels:{checked:"TH",unchecked:"PH"},color:{checked:"#7DCE94",unchecked:"#82C7EB"},width:50},on:{change:function(t){e.changeTypeAssign(t,i)}},model:{value:e.presenterAddGroup,callback:function(t){e.presenterAddGroup=t},expression:"presenterAddGroup"}})],1)],1)}),0),e.assignValidate?e._e():a("span",{staticClass:"ml-3",staticStyle:{color:"#f44336"}},[e._v("* Yêu cầu chọn người để thực hiện")])],1)],1)],1)],1)],1)},se=[],ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{class:e.className,style:e.maxWidth,attrs:{role:"checkbox",title:e.toggled?e.title_checked:e.title_unchecked,"aria-checked":e.ariaChecked}},[a("input",{staticClass:"v-switch-input",attrs:{type:"checkbox"},on:{change:function(t){return t.stopPropagation(),e.toggle(t)}}}),a("div",{staticClass:"v-switch-core",style:e.coreStyle},[a("div",{staticClass:"v-switch-button",style:e.buttonStyle})]),e.labels?[e.toggled?a("span",{staticClass:"v-switch-label v-left",style:e.labelStyle,domProps:{innerHTML:e._s(e.labelChecked)}}):a("span",{staticClass:"v-switch-label v-right",style:e.labelStyle,domProps:{innerHTML:e._s(e.labelUnchecked)}})]:e._e()],2)},re=[];const le={colorChecked:"#75C791",colorUnchecked:"#bfcbd9",cssColors:!1,labelChecked:"on",labelUnchecked:"off",width:50,height:22,margin:3},ce=(e,t)=>{return"object"===typeof e&&e.hasOwnProperty(t)},de=e=>e+"px";var ue={name:"toggle-button",props:{title_checked:"",title_unchecked:"",value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},sync:{type:Boolean,default:!1},speed:{type:Number,default:300},color:{type:[String,Object],validator(e){return"object"===typeof e?e.checked||e.unchecked:"string"===typeof e}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator(e){return"object"===typeof e?e.checked||e.unchecked:"boolean"===typeof e}},height:{type:Number,default:le.height},width:{type:Number,default:le.width}},computed:{className(){let{toggled:e,disabled:t}=this;return["vue-js-switch",{toggled:e,disabled:t}]},ariaChecked(){return this.toggled.toString()},coreStyle(){return{width:de(this.width),height:de(this.height),backgroundColor:this.cssColors?null:this.colorCurrent,borderRadius:de(Math.round(this.height/2))}},maxWidth(){return{width:de(this.width)+"!important"}},buttonRadius(){return this.height-2*le.margin},distance(){return de(this.width-this.height+le.margin)},buttonStyle(){return{width:de(this.buttonRadius),height:de(this.buttonRadius),transition:`transform ${this.speed}ms`,transform:this.toggled?`translate3d(${this.distance}, 3px, 0px)`:null}},labelStyle(){return{lineHeight:de(this.height)}},colorChecked(){let{color:e}=this;return"object"!==typeof e?e||le.colorChecked:ce(e,"checked")?e.checked:le.colorChecked},colorUnchecked(){let{color:e}=this;return ce(e,"unchecked")?e.unchecked:le.colorUnchecked},colorCurrent(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked(){return ce(this.labels,"checked")?this.labels.checked:le.labelChecked},labelUnchecked(){return ce(this.labels,"unchecked")?this.labels.unchecked:le.labelUnchecked}},watch:{value(e){this.sync&&(this.toggled=!!e)}},data(){return{toggled:!!this.value}},methods:{toggle(e){this.toggled=!this.toggled,this.$emit("input",this.toggled),this.$emit("change",{value:this.toggled,srcEvent:e})}}},pe=ue,he=Object(d["a"])(pe,ne,re,!1,null,null,null);he.options.__file="toggleButton.vue";var me=he.exports,ge={components:{"toggle-button":me},props:{assign_items:{type:Array,default:()=>[]},type:{type:Number,default:()=>1},configNote:{type:Object,default:()=>{}}},model:{prop:"assign_items"},data:()=>({data_phancong:[],assignedtype_items:{2:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2}],3:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2},{text:"Theo dõi",value:3}]},title_asign:{1:"PHÂN CÔNG NGƯỜI THỰC HIỆN",2:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP",3:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP VÀ THEO DÕI"},presenterAddGroup:!0,assignValidate:!0}),created(){setTimeout(function(){window.$(".btn-tgl").addClass("btn-hidden")},200)},mounted(){this.data_phancong=this.assign_items},methods:{changeAssigned(e,t){var a=this;1===a.type&&(a.assign_items[t].assigned=!0===e?1:0)},checkAsign(e,t){var a=this;e?(a.assign_items[t].assigned=1,window.$(`#btn-${t}`).removeClass("btn-hidden")):(a.assign_items[t].assigned=0,window.$(`#btn-${t}`).addClass("btn-hidden"))},changeTypeAssign(e,t){var a=this;e.value?(a.assign_items[t].assigned=1,window.$(`#btn-${t}`).removeClass("btn-hidden")):(a.assign_items[t].assigned=2,window.$(`#btn-${t}`).addClass("btn-hidden"))},doExport(){var e=this;let t=e.assign_items.filter(function(e){return Number(e.assigned)>0});return 0===t.length?(e.assignValidate=!1,e.assignValidate):(e.assignValidate=!0,e.assignValidate)}}},_e=ge,ve=a("ac7c"),fe=Object(d["a"])(_e,oe,se,!1,null,null,null);fe.options.__file="PhanCongNguoiThucHien.vue";var ye=fe.exports;p()(fe,{VCard:Y["a"],VCardText:z["b"],VCheckbox:ve["a"],VExpansionPanel:J["a"],VExpansionPanelContent:Q["a"],VIcon:_["a"],VLayout:Z["a"],VTooltip:te["a"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v(" Tài liệu kết quả\n      ")]),a("v-card",e._l(e.createFiles,function(t,i){return a("div",{key:t.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[!0]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!1}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},e._l(e.dossierFilesItems,function(i,o){return t.partNo+e.id===i.dossierPartNo+e.id?a("div",{key:o+"cr"},[a("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"25px","font-size":"12px"}},[a("span",{staticClass:"text-bold"},[e._v(e._s(o+1)+". ")]),a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(i)}}},[i.eForm?a("v-icon",[e._v("border_color")]):a("v-icon",[e._v("attach_file")]),e._v("\n                        "+e._s(i.displayName)+" - \n                        "),a("i",[e._v(e._s(i.modifiedDate))])],1)])]):e._e()}),0)]),t.eForm?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[t.daKhai&&t.eForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.previewFileEfom(t,i)}}},[e._v("In")]):e._e(),a("div",{attrs:{id:"formAlpaca"+t.partNo+e.id}})],1)],1)],1)],1):e._e()],1)],1)],1)}),0),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("File đính kèm")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1)],1)},De=[],Te=a("31a3"),Pe=Te["a"],xe=a("12b2"),Se=a("169a"),be=Object(d["a"])(Pe,Ce,De,!1,null,null,null);be.options.__file="TraKetQua.vue";var Ie=be.exports;p()(be,{VBtn:m["a"],VCard:Y["a"],VCardText:z["b"],VCardTitle:xe["a"],VDialog:Se["a"],VExpansionPanel:J["a"],VExpansionPanelContent:Q["a"],VFlex:X["a"],VIcon:_["a"],VLayout:Z["a"],VProgressCircular:T["a"]});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("XÁC NHẬN THU PHÍ\n    ")]),a("v-card",[a("v-card-text",[5===e.payment_type?a("div",{staticClass:"pl-3 fee-info"},[a("v-checkbox",{attrs:{label:"Phí phải nộp: "+e.currency(e.payments.feeAmount)+" VNĐ"},model:{value:e.checkPaid,callback:function(t){e.checkPaid=t},expression:"checkPaid"}}),a("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" Đánh dấu để xác định người làm thủ tục đã hoàn thành nộp phí.\n        ")],1):e._e()])],1)],1)],1)},we=[],Ee={props:{payments:{type:Object,default:()=>{}},payment_type:{type:Number,default:()=>5}},data:()=>({dossierId:"",loadingAction:!1,feeAmount:"",checkPaid:!1}),computed:{loading(){return this.$store.getters.loading},loadingTable(){return this.$store.getters.loadingTable}},created(){var e=this;e.$nextTick(function(){})},methods:{initData(e){var t=this;t.dossierId=e,t.$store.dispatch("getDetailDossier",e).then(e=>{t.$store.dispatch("loadDossierPayments",e).then(function(e){t.feeAmount=e.feeAmount}).catch(function(e){console.log(e)})}).catch(e=>{console.log(e)})},currency(e){if(e){let t=(e/1).toFixed(0).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""}}},Ne=Ee,Oe=Object(d["a"])(Ne,Ae,we,!1,null,null,null);Oe.options.__file="XacNhanThuPhi.vue";var Le=Oe.exports;p()(Oe,{VCard:Y["a"],VCardText:z["b"],VCheckbox:ve["a"],VExpansionPanel:J["a"],VExpansionPanelContent:Q["a"],VIcon:_["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-info",staticStyle:{width:"100%"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),1===e.data_payment.requestPayment||5===e.data_payment.requestPayment?a("span",[e._v(e._s(e.data_payment.paymentFee))]):e._e(),2===e.data_payment.requestPayment?a("span",[e._v("Lập phiếu thanh toán")]):e._e()]),a("v-card",[a("v-card-text",{staticClass:"pb-1"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Lệ phí: ")])],1),a("v-flex",{attrs:{xs12:"",sm3:""}},[1===e.data_payment.editable||3===e.data_payment.editable?a("v-text-field",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:e.changeFee},model:{value:e.data_payment.feeAmount,callback:function(t){e.$set(e.data_payment,"feeAmount",t)},expression:"data_payment.feeAmount"}}):a("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(e.data_payment.feeAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),a("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí: ")])],1),a("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm3:""}},[2===e.data_payment.editable||3===e.data_payment.editable?a("v-text-field",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:e.changeFee},model:{value:e.data_payment.serviceAmount,callback:function(t){e.$set(e.data_payment,"serviceAmount",t)},expression:"data_payment.serviceAmount"}}):a("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(e.data_payment.serviceAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),a("v-flex",{attrs:{xs12:"",sm2:""}}),2!==e.viaPortal&&"2"!==e.viaPortal||0===e.data_payment.shipAmount?e._e():a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí chuyển phát: ")])],1),2!==e.viaPortal&&"2"!==e.viaPortal||0===e.data_payment.shipAmount?e._e():a("v-flex",{attrs:{xs12:"",sm3:""}},[1===e.data_payment.editable||3===e.data_payment.editable?a("v-text-field",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:e.changeFee},model:{value:e.data_payment.shipAmount,callback:function(t){e.$set(e.data_payment,"shipAmount",t)},expression:"data_payment.shipAmount"}}):a("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(e.data_payment.shipAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),a("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1),a("v-card-text",{staticClass:"pt-0"},[a("v-layout",{attrs:{wrap:""}},[1===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1):e._e(),1===e.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[e._v(e._s(e.currency(e.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),1===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):e._e(),2===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1):e._e(),2===e.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[e._v(e._s(e.currency(e.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),2===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):e._e(),5===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1):e._e(),5===e.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[e._v(e._s(e.currency(e.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),5===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[e._v("Đã tạm nộp: ")])])],1):e._e(),5===e.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[e._v(e._s(e.currency(Number(e.data_payment.advanceAmount.toString().replace(/\./g,"")).toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),5===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):e._e(),5===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm2:""}},[a("v-subheader",{staticClass:"pl-0 text-right"},[a("span",{staticClass:"text-bold"},[e._v("Còn phải nộp: ")])])],1):e._e(),5===e.data_payment.requestPayment?a("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[a("span",[e._v(e._s(e.currency(e.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),5===e.data_payment.requestPayment?a("v-flex",{attrs:{xs12:"",sm1:""}}):e._e()],1),a("v-layout",{staticStyle:{position:"relative"},attrs:{wrap:""}},[a("v-flex",{staticClass:"my-0 py-1",staticStyle:{width:"70px"}},[a("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" Ghi chú:")]),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[0==e.activeEdit?a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",readonly:e.activeEdit,required:""},model:{value:e.data_payment.paymentNote,callback:function(t){e.$set(e.data_payment,"paymentNote",t)},expression:"data_payment.paymentNote"}})],1):e._e(),e.activeEdit||""===e.data_payment.paymentNote?a("p",{staticClass:"px-2 my-0 py-1"},[e._v("\n                "+e._s(e.data_payment.paymentNote)+"   \n                "),1==e.activeEdit?a("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"blue",size:"20",title:"Sửa",grey:"","darken-4":""},on:{click:function(t){t.stopPropagation(),e.activeEdit=!1}}},[e._v("\n                  create\n                ")]):e._e()],1):e._e(),a("span",{staticStyle:{position:"absolute",top:"15px",right:"10px"}},[0==e.activeEdit?a("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"green",size:"25",grey:"","darken-4":""},on:{click:function(t){t.stopPropagation(),e.activeEdit=!0}}},[e._v("\n                  check\n                ")]):e._e()],1)])],1),e.paymentFile&&5===e.data_payment.requestPayment?a("div",[a("span",[a("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" File báo thanh toán:")]),e._v(" \n            "),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile()}}},[a("v-icon",[e._v("attach_file")]),e._v("\n              "+e._s(e.paymentFileName)+"\n            ")],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.downloadPaymentFile(e.item)}},slot:"activator"},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{size:"16",color:"primary"}},[e._v("save_alt")])],1),a("span",[e._v("Tải xuống")])],1)],1):e._e()],1)],1)],1)],1),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("File đính kèm")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},Fe=[],Me=a("716b"),Re={props:{payments:{type:Object,default:()=>{}},viaPortal:{type:Number,default:()=>0},detailDossier:{type:Object,default:()=>{}}},model:{prop:"payments"},data:()=>({data_payment:{},money:{decimal:"",thousands:".",prefix:"",suffix:"",precision:0,masked:!1},totalFee:0,feeTamThu:0,feeTong:0,checkPaid:!0,activeEdit:!0,paymentFile:"",dialogPDF:!1,dialogPDFLoading:!0}),directives:{money:Me["VMoney"]},created(){var e=this;e.data_payment=e.payments,e.payments&&setTimeout(function(){let t=e.payments.feeAmount?Number(e.payments.feeAmount.toString().replace(/\./g,"")):0;if(1===e.payments.requestPayment){let a=Number(e.payments.serviceAmount);e.feeTong=t+a,e.totalFee=t+a}else if(2===e.payments.requestPayment){let a=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0,i=e.payments.shipAmount?Number(e.payments.shipAmount.toString().replace(/\./g,"")):0;2!==e.viaPortal&&"2"!==e.viaPortal||0===i?e.totalFee=t+a:e.totalFee=t+a+i}else{let a=e.payments.advanceAmount?Number(e.payments.advanceAmount.toString().replace(/\./g,"")):0,i=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0,o=e.payments.shipAmount?Number(e.payments.shipAmount.toString().replace(/\./g,"")):0;if(2!==e.viaPortal&&"2"!==e.viaPortal||0===o?(e.feeTong=t+i,e.totalFee=t+i-a):(e.feeTong=t+i+o,e.totalFee=t+i+o-a),5===e.payments.requestPayment&&620===e.detailDossier.stepCode){let t=e.detailDossier;e.$store.dispatch("getPaymentFiles",t).then(t=>{e.paymentFile=t})}}e.totalFee<0&&(e.totalFee=0)},200)},computed:{paymentFileName(){return this.$store.getters.getPaymentFileName}},watch:{viaPortal(e){console.log("viaPortal",e),this.changeFee()},detailDossier(e){var t=this;if(5===t.payments.requestPayment){let a=e;console.log("run get paymentfile",a),t.$store.dispatch("getPaymentFiles",a).then(e=>{t.paymentFile=e})}}},methods:{changeFee(){var e=this;let t=e.data_payment,a=t.feeAmount?Number(t.feeAmount.toString().replace(/\./g,"")):0;if(1===t.requestPayment){let t=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0;e.feeTong=a+t,e.totalFee=a+t}else if(2===t.requestPayment){let t=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0,i=e.payments.shipAmount?Number(e.payments.shipAmount.toString().replace(/\./g,"")):0;2!==e.viaPortal&&"2"!==e.viaPortal||0===i?e.totalFee=a+t:e.totalFee=a+t+i}else{let i=Number(t.advanceAmount.toString().replace(/\./g,"")),o=Number(t.serviceAmount.toString().replace(/\./g,"")),s=Number(t.shipAmount.toString().replace(/\./g,""));2!==e.viaPortal&&"2"!==e.viaPortal||0===s?(e.feeTong=a+o,e.totalFee=a+o-i):(e.feeTong=a+o+s,e.totalFee=a+o+s-i)}e.totalFee<0&&(e.totalFee=0)},viewFile(){let e=this;e.dialogPDFLoading=!0,e.dialogPDF=!0;let t={dossierId:e.detailDossier.dossierId,referenceUid:e.detailDossier.referenceUid};e.$store.dispatch("viewPaymentFile",t).then(t=>{e.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=t})},downloadPaymentFile(e){let t=this,a="/o/rest/v2/dossiers/"+t.detailDossier.dossierId+"/payments/"+t.detailDossier.referenceUid+"/confirmfile";window.open(a)},currency(e){if(e){let t=(e/1).toFixed(0).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},goBack(){window.history.back()}},filters:{}},Ue=Re,He=a("e0c7"),Be=a("2677"),Ve=Object(d["a"])(Ue,ke,Fe,!1,null,null,null);Ve.options.__file="FeeDetail.vue";var $e=Ve.exports;p()(Ve,{VBtn:m["a"],VCard:Y["a"],VCardText:z["b"],VCardTitle:xe["a"],VDialog:Se["a"],VExpansionPanel:J["a"],VExpansionPanelContent:Q["a"],VFlex:X["a"],VIcon:_["a"],VLayout:Z["a"],VProgressCircular:T["a"],VSubheader:He["a"],VTextField:Be["a"],VTooltip:te["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0]}},[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),a("span",[e._v("Ý kiến cán bộ")]),2===e.user_note?a("span",{staticClass:"red--text text--darken-3"},[e._v("*")]):e._e()]),a("v-card",[a("v-card-text",{staticClass:"py-2 px-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-form",{ref:"userNoteForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{"multi-line":"",rows:4,rules:2===e.user_note?[function(){return""!==e.noteYkien||"Trường dữ liệu bắt buộc"}]:[],box:"",label:"nhập ý kiến"},model:{value:e.noteYkien,callback:function(t){e.noteYkien=t},expression:"noteYkien"}})],1)],1)],1)],1)],1)],1)],1)},We=[],qe={props:{user_note:{type:Number,required:!0},configNote:{type:Object,required:!1}},data:()=>({noteYkien:"",valid:!1}),methods:{initData(e){var t=this;t.$store.dispatch("getDetailDossier",e).then(e=>{t.thongTinChiTietHoSo=e})},doExport(){let e=this,t={text:e.noteYkien,valid:e.$refs.userNoteForm.validate()};return t}}},Ge=qe,je=a("4bd4"),Ye=Object(d["a"])(Ge,Ke,We,!1,null,null,null);Ye.options.__file="YkienCanBoThucHien.vue";var ze=Ye.exports;p()(Ye,{VCard:Y["a"],VCardText:z["b"],VExpansionPanel:J["a"],VExpansionPanelContent:Q["a"],VFlex:X["a"],VForm:je["a"],VIcon:_["a"],VLayout:Z["a"],VTextField:Be["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},["dieuchinhdulieu"!==e.type&&e.formBuilder.length>0?a("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0]}},e._l(e.formBuilder,function(t,i){return a("v-expansion-panel-content",{key:i},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n      "+e._s(t.fieldLabel)+" "),!0===t.required||"true"===t.required?a("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e()]),a("v-card",[a("v-card-text",{staticClass:"py-2 px-2"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},["textarea"===t.fieldType?a("v-text-field",{attrs:{id:t.fieldName,value:t.value,placeholder:t.placeholder,"multi-line":"",rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(a){e.inputChangeValue(t)}}}):e._e(),"string"===t.fieldType?a("v-text-field",{attrs:{id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(a){e.inputChangeValue(t)}}}):e._e(),"number"===t.fieldType?a("v-text-field",{attrs:{id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[e.rules.number],required:!0===t.required||"true"===t.required},on:{input:function(a){e.inputChangeValue(t)}}}):e._e(),"date"===t.fieldType?a("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[a("v-icon",{staticClass:"ml-3",attrs:{color:"blue"}},[e._v("event")]),a("vue-ctk-date-time-picker",{ref:"datepicker",refInFor:!0,staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{label:t.value?"":"Chọn ngày",id:t.fieldName,formatted:"DD/MM/YYYY HH:mm",format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1):e._e()],1)],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-date-picker",{attrs:{"full-width":"",landscape:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),a("v-card-actions",{staticStyle:{background:"#fff"}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.pickDateCustom}},[e._v("\n              Xác nhận\n            ")])],1)],1)],1)],1)}),1):e._e(),"dieuchinhdulieu"===e.type?a("div",{staticClass:"ext__form px-3"},[e._l(e.formBuilder,function(t,i){return e.formBuilder.length>0?a("div",{key:i,staticClass:"mb-2",attrs:{"hide-actions":""}},[a("div",{staticClass:"py-1",staticStyle:{"border-bottom":"1px solid #8a898942"}},[a("span",{staticClass:"text-bold"},[e._v(e._s(i+1)+". ")]),e._v(e._s(t.fieldLabel)+" "),!0===t.required||"true"===t.required?a("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e()]),a("v-form",{ref:"form",refInFor:!0,attrs:{"lazy-validation":""},model:{value:e.valid2,callback:function(t){e.valid2=t},expression:"valid2"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["textarea"===t.fieldType?a("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,"multi-line":"",rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(a){e.inputChangeValue(t)}}}):e._e()],1),a("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["string"===t.fieldType?a("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(a){e.inputChangeValue(t)}}}):e._e()],1),a("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["number"===t.fieldType?a("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[e.rules.number],required:!0===t.required||"true"===t.required},on:{input:function(a){e.inputChangeValue(t)}}}):e._e()],1),a("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["date"===t.fieldType?a("v-layout",{staticClass:"mt-2",attrs:{wrap:""}},[a("v-icon",{attrs:{color:"blue"}},[e._v("event")]),a("vue-ctk-date-time-picker",{ref:"datepicker",refInFor:!0,staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{label:t.value?"":"Chọn ngày",id:t.fieldName,formatted:"DD/MM/YYYY HH:mm",format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1):e._e()],1),a("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["status"===t.fieldType?a("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(a){e.inputChangeValue(t)}}}):e._e()],1)],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-date-picker",{attrs:{"full-width":"",landscape:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),a("v-card-actions",{staticStyle:{background:"#fff"}},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.pickDateCustom}},[e._v("\n            Xác nhận\n          ")])],1)],1)],1):e._e()}),0===e.formBuilder.length?a("div",[a("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[e._v("\n        Không có form điều chỉnh dữ liệu\n      ")])],1):e._e()],2):e._e()],1)},Qe=[],Xe=a("e30a"),Ze=a.n(Xe),et={components:{"vue-ctk-date-time-picker":Ze.a},props:{dossier_id:{type:Number},action_id:{type:Number},type:{type:String,default:()=>""}},data:()=>({itemId:null,fieldNameID:"",date:null,dialog:!1,formBuilder:[],valid:!1,valid2:!1,rulesValid:{number:function(e){var t=/^\d+$/;return t.test(e)||"Kiểu dữ liệu sai định dạng."}},rules:{required:e=>!!e||"Trường dữ liệu bắt buộc",number:function(e){const t=/^\d+$/;return t.test(e)||"Kiểu dữ liệu sai định dạng."}}}),watch:{dossier_id(){let e=this,t={dossierId:e.dossier_id,actionId:e.action_id};e.$store.dispatch("getExtraForm",t).then(function(t){if(e.formBuilder=t,e.formBuilder.length>0)for(let a in e.formBuilder)"date"===e.formBuilder[a]["fieldType"]&&e.formBuilder[a]["value"]&&isNaN(new Date(e.formBuilder[a]["value"]).getTime())&&(e.formBuilder[a]["value"]="")}).catch(function(){e.formBuilder=[]})}},created(){var e=this;e.$nextTick(function(){let t={dossierId:e.dossier_id,actionId:e.action_id};t["dossierId"]&&t["actionId"]&&e.$store.dispatch("getExtraForm",t).then(function(t){if(e.formBuilder=t,e.formBuilder.length>0)for(let a in e.formBuilder)"date"===e.formBuilder[a]["fieldType"]&&e.formBuilder[a]["value"]&&isNaN(new Date(e.formBuilder[a]["value"]).getTime())&&(e.formBuilder[a]["value"]="")})})},methods:{openDialogCustom(e,t){let a=this;a.dialog=!0,a.fieldNameID=t,a.itemId=e},pickDateCustom(){let e=this;console.log(e.date),e.date&&(e.itemId.value=new Date(e.date)),e.dialog=!1},inputChangeValue(e){e.value=document.getElementById(e.fieldName).value},showDatePicker(){this.$refs.datepicker.showDatePicker()},dateTimeView(e){if(e){let t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}return""},parseCurrentDate(e){if(!e)return null;let[t,a,i]=e.split("/");return`${i}-${a.padStart(2,"0")}-${t.padStart(2,"0")}`},checkValid(){let e=this,t=!0;if(e.formBuilder.length>0)for(let a in e.formBuilder)if((!0===e.formBuilder[a]["required"]||"true"===e.formBuilder[a]["required"])&&!e.formBuilder[a]["value"])return t=!1,alert(e.formBuilder[a]["fieldLabel"]+" là bắt buộc!"),t;return t},formSubmitData(){let e=this,t={};if(e.formBuilder.length>0)for(let a in e.formBuilder){let i=e.formBuilder[a].value;"date"===e.formBuilder[a].fieldType&&(i=new Date(e.formBuilder[a].value).getTime()?new Date(e.formBuilder[a].value).getTime():""),t[e.formBuilder[a].fieldName]=i}else t="";return t}},filters:{parseDate:function(e){if(!e)return"";let t="";return t=isNaN(Number(e))?new Date(e):new Date(Number(e)),t?`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`:""}}},tt=et,at=a("0798"),it=a("2e4b"),ot=a("9910"),st=Object(d["a"])(tt,Je,Qe,!1,null,null,null);st.options.__file="FormBoSungThongTinNgan.vue";var nt=st.exports;p()(st,{VAlert:at["a"],VBtn:m["a"],VCard:Y["a"],VCardActions:z["a"],VCardText:z["b"],VDatePicker:it["a"],VDialog:Se["a"],VExpansionPanel:J["a"],VExpansionPanelContent:Q["a"],VFlex:X["a"],VForm:je["a"],VIcon:_["a"],VLayout:Z["a"],VSpacer:ot["a"],VTextField:Be["a"]});var rt={props:["index"],components:{"tiny-pagination":K,"thong-tin-co-ban-ho-so":ie,"phan-cong":ye,"tra-ket-qua":Ie,"xac-nhan-thu-phi":Le,"thu-phi":$e,"y-kien-can-bo":ze,"template-rendering":k,"form-bo-sung-thong-tin":nt},data:()=>({isAdminSuper:!1,actionId:"",dossierIdSelected:"",dossierCountingShow:!1,dossierCounting:[],advSearchToolsSelected:[],advSearchTools:r.advSearchTools,advSearchItems:[],advObjectSearch:{},menusss:!1,itemFilterSupport:{years:[{value:"",name:"Lọc theo năm"},{value:"2017",name:"năm 2017"},{value:"2018",name:"năm 2018"},{value:"2019",name:"năm 2019"}],year:"",months:[{value:"",name:"Lọc theo tháng"},{value:"1",name:"tháng 1"},{value:"2",name:"tháng 2"},{value:"3",name:"tháng 3"},{value:"4",name:"tháng 4"},{value:"5",name:"tháng 5"},{value:"6",name:"tháng 6"},{value:"7",name:"tháng 7"},{value:"8",name:"tháng 8"},{value:"9",name:"tháng 9"},{value:"10",name:"tháng 10"},{value:"11",name:"tháng 11"},{value:"12",name:"tháng 12"}],month:"",days:[],day:"",tops:[{value:"",name:"toàn bộ"},{value:"overdue",name:"hồ sơ đang quá hạn cần giải quyết"},{value:"delay",name:"chậm hạn trả"},{value:"coming",name:"sắp đến hạn"}],top:"",statusLists:[],status:"",substatusLists:[{itemCode:"",itemName:"toàn bộ"}],substatus:"",agencyLists:[],agency:"",serviceLists:[],service:"",domainLists:[],domain:"",keyword:"",register:""},itemFilterKey:["year","month","day","top","status","substatus","agency","service","domain","keyword","register"],menuType:0,type_assign:"",assign_items:[],returnFiles:[],payments:"",viaPortalDetail:0,countSelected:0,statusFailed:0,dialog_statusAction:!1,dialog_printGuide:!1,dialog_extraForm:!1,validGuide:!1,applicantNameGuide:"",applicantEmailGuide:"",applicantTelNoGuide:"",applicantAddressGuide:"",dossierSelected:[{dossierNo:"18ACE289",serviceName:"Đăng ký, cấp Giấy chứng nhận quyền sử dụng đất, quyền sở hữu nhà ở và tài sản khác gắn liền với đất lần đầu đối với tài sản gắn liền với đất mà chủ sở hữu không đồng thời là người sử dụng đất",statusAction:!1}],buttonConfigItem:{},textNote:"",thongtinhoso:{},dossierId:0,valid:!0,isCallBack:!0,trangThaiHoSoList:null,listDichVu:[],dichVuSelected:null,btnDynamics:[],btnDossierDynamics:[],btnStepsDynamics:[],loading:!0,headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,hosoTotalPage:0,selectedDoAction:[],selectMultiplePage:[],selected:[],listThuTucHanhChinh:[],listThuTuc:[],thuTucHanhChinhSelected:null,thuTucHanhChinhSelectedGuide:null,listLinhVuc:[],linhVucSelected:null,listDichVuGuide:[],dichVuSelectedGuide:null,templateNoGuide:"",domainCode:"",govAgencyCode:"",serviceCode:"",templateNo:"",dossierNoKey:"",dialogAction:!1,loadingAction:!1,dialogActionProcess:!1,loadingActionProcess:!1,validProcess:!1,indexAction:-1,itemAction:{title:""},showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showXacNhanThuPhi:!1,showThuPhi:!1,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:null,itemDialogPick:null,resultDialogPick:null,indexDialogPick:0,userNote:0,dialogPDF:!1,dialogPDFLoading:!0,filterForm:null,checkSelectAll:!1,titleLanding:"",currentQueryState:""}),computed:{loadingDynamicBtn(){return this.$store.getters.loadingDynamicBtn},loadingTable(){return this.$store.getters.loadingTable},originality(){var e=this;return e.getOriginality()},currentUser(){return this.$store.getters.loadingInitData.user},activeLoadingDataHoSo(){return this.$store.getters.activeLoadingDataHoSo}},created(){var e=this;e.selectMultiplePage=[],e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.itemFilterSupport["days"]=[{value:"",name:"Lọc theo ngày"}];for(let t=1;t<=31;t++){let a={value:t,name:"Ngày "+t};e.itemFilterSupport.days.push(a)}e.$nextTick(function(){let t=e.$router.history.current.query,a=e.$router.history.current.query;e.currentQueryState=t,t.hasOwnProperty("page")&&"1"!==t["page"]?e.hosoDatasPage=parseInt(t["page"]):e.hosoDatasPage=1,e.setStateAdvSearch(a)})},updated(){var e=this;e.$nextTick(function(){let t=e.$router.history.current.params,a=e.$router.history.current.query;e.currentQueryState=a,t.hasOwnProperty("index")&&e.isCallBack&&(e.isCallBack=!1,e.$store.commit("setLoadingDynamicBtn",!0),setTimeout(()=>{e.$store.dispatch("loadMenuConfigToDo").then(function(t){e.btnDynamics=[],e.trangThaiHoSoList=t,e.menuType=parseInt(e.trangThaiHoSoList[e.index]["menuType"]),e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.processListTTHC(a),e.processListDomain(a),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("headers")&&(e.headers=e.trangThaiHoSoList[e.index]["tableConfig"]["headers"]),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("hideAction")&&(e.hideAction=e.trangThaiHoSoList[e.index]["tableConfig"]["hideAction"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("buttons")&&(e.btnDynamics=e.trangThaiHoSoList[e.index]["buttonConfig"]["buttons"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("layout_view")&&(e.filterForm=e.trangThaiHoSoList[e.index]["buttonConfig"]["layout_view"]);let i=[],o=[];for(let a in e.btnDynamics)e.btnDynamics[a].hasOwnProperty("onlySteps")?i.push(e.btnDynamics[a]):o.push(e.btnDynamics[a]);if(e.btnDynamics=[],e.btnDynamics=o,e.btnStepsDynamics=[],a.hasOwnProperty("step"))for(let n in e.trangThaiHoSoList[e.index]["items"]){let t=e.trangThaiHoSoList[e.index]["items"][n];if(String(t.stepCode)===String(a.step)){for(let a in i)for(var s=0;s<i[a].onlySteps.length;s++)String(i[a].onlySteps[s])===String(t.stepCode)&&e.btnDynamics.push(i[a]);break}}e.$store.commit("setLoadingDynamicBtn",!1)})},200))})},watch:{$route:function(e,t){let a=this,i=e.query,o=t.query;if(a.currentQueryState=i,i.hasOwnProperty("q")){a.btnDynamics=[],a.$store.commit("setLoadingDynamicBtn",!0),a.menuType=a.trangThaiHoSoList[a.index]["menuType"],a.checkSelectAll=3!==a.menuType&&1!==a.originality,a.headers=a.trangThaiHoSoList[a.index]["tableConfig"]["headers"],null!==a.trangThaiHoSoList[a.index]["tableConfig"]&&void 0!==a.trangThaiHoSoList[a.index]["tableConfig"]&&a.trangThaiHoSoList[a.index]["tableConfig"].hasOwnProperty("hideAction")&&(a.hideAction=a.trangThaiHoSoList[a.index]["tableConfig"]["hideAction"]),null!==a.trangThaiHoSoList[a.index]["buttonConfig"]&&void 0!==a.trangThaiHoSoList[a.index]["buttonConfig"]&&a.trangThaiHoSoList[a.index]["buttonConfig"].hasOwnProperty("buttons")&&(a.btnDynamics=a.trangThaiHoSoList[a.index]["buttonConfig"]["buttons"]),null!==a.trangThaiHoSoList[a.index]["buttonConfig"]&&void 0!==a.trangThaiHoSoList[a.index]["buttonConfig"]&&a.trangThaiHoSoList[a.index]["buttonConfig"].hasOwnProperty("layout_view")&&(a.filterForm=a.trangThaiHoSoList[a.index]["buttonConfig"]["layout_view"]);let e=[],t=[];for(let i in a.btnDynamics)a.btnDynamics[i].hasOwnProperty("onlySteps")?e.push(a.btnDynamics[i]):t.push(a.btnDynamics[i]);if(a.btnDynamics=[],a.btnDynamics=t,a.btnStepsDynamics=[],i.hasOwnProperty("step"))for(let o in a.trangThaiHoSoList[a.index]["items"]){let t=a.trangThaiHoSoList[a.index]["items"][o];if(String(t.stepCode)===String(i.step)){for(let i in e)for(var s=0;s<e[i].onlySteps.length;s++)String(e[i].onlySteps[s])===String(t.stepCode)&&a.btnDynamics.push(e[i]);break}}if(i.hasOwnProperty("page")?(a.hosoDatasPage=parseInt(i.page),i.page===o["page"]&&(a.selectMultiplePage=[])):(a.hosoDatasPage=1,a.selectMultiplePage=[]),a.$store.commit("setLoadingDynamicBtn",!1),null===a.listLinhVuc||void 0===a.listLinhVuc||null!==a.listLinhVuc&&void 0!==a.listLinhVuc&&0===a.listLinhVuc.length)a.processListDomain(i);else for(let o in a.listLinhVuc)String(a.listLinhVuc[o]["domainCode"])===String(i.domain)&&(a.linhVucSelected=a.listLinhVuc[o],a.domainCode=a.linhVucSelected["domainCode"]);null===a.listThuTucHanhChinh||void 0===a.listThuTucHanhChinh||null!==a.listThuTucHanhChinh&&void 0!==a.listThuTucHanhChinh&&0===a.listThuTucHanhChinh.length?a.processListTTHC(i):a.doLoadingDataHoSo(),a.setStateAdvSearch(i)}},activeLoadingDataHoSo(e){var t=this;setTimeout(function(){t.doLoadingDataHoSo()},100)},selectMultiplePage:{handler:function(e){let t=this;if(e.length>0){t.selectedDoAction=[];for(let a in e)t.selectedDoAction=t.selectedDoAction.concat(e[a]["selected"])}else t.selectedDoAction=[]},deep:!0}},methods:{toggleAll(){var e=this;if(e.getUser("Administrator"))e.selected.length?e.selected=[]:e.selected=e.hosoDatas;else{if(!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId)return;e.selected.length?e.selected=[]:e.selected=e.hosoDatas.filter(function(e){return 0!==e["assigned"]})}e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},getUser(e){let t=this,a=t.$store.getters.getUser.role;if(!a)return!1;let i=a.findIndex(t=>t===e);return i>=0},changeSelected(){let e=this;e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},setStateAdvSearch(e){let t=this;if(e.hasOwnProperty("adv_renew")){t.advSearchItems=[];for(let a in t.itemFilterKey)for(let i in e){if(t.itemFilterKey[a]===i&&e[i]){t.itemFilterSupport[t.itemFilterKey[a]]=e[i];break}t.itemFilterSupport[t.itemFilterKey[a]]=""}for(let e in t.itemFilterKey){let a=t.itemFilterKey[e],i=t.advSearchTools.find(function(e){return e.spec===a});if(t.itemFilterSupport[a])if("keyword"===a)t.advSearchItems.push({spec:a,value:a+":"+t.itemFilterSupport[a],text:a+":"+t.itemFilterSupport[a],index:-1});else if("year"===a){let e=t.advSearchItems.find(function(e){return"year_month_day"===e.spec});e?(e["value"]="year_month_day:"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],e["text"]="year_month_day:"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],e["index"]=0):t.advSearchItems.push({spec:"year_month_day",value:"year_month_day:"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],text:"year_month_day:"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],index:0})}else if("month"===a){let e=t.advSearchItems.find(function(e){return"year_month_day"===e.spec});e?(e["value"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["day"],e["text"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["day"],e["index"]=0):t.advSearchItems.push({spec:"year_month_day",value:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["day"],text:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[a]+"_"+t.itemFilterSupport["day"],index:0})}else if("day"===a){let e=t.advSearchItems.find(function(e){return"year_month_day"===e.spec});e?(e["value"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[a],e["text"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[a],e["index"]=0):t.advSearchItems.push({spec:"year_month_day",value:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[a],text:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[a],index:0})}else t.advSearchItems.push({spec:a,value:a+":"+t.itemFilterSupport[a],text:a+":"+t.itemFilterSupport[a],index:i["index"]})}}else t.advSearchItems=[];for(let a in t.advSearchTools){t.advSearchTools[a].display=!1,t.advSearchTools[a].disabled=!1;let e=t.advSearchItems.find(function(e){return e.spec===t.advSearchTools[a].spec});e&&(t.advSearchTools[a].display=!0,t.advSearchTools[a].disabled=!0)}},resend(){var e=this;e.doActions(null,e.buttonConfigItem,null,!0)},closeDialogStatusAction(){var e=this;e.dialog_statusAction=!1,e.selectedDoAction=e.selectedDoAction.filter(function(e){return!e.statusAction})},submitFormXuLy(e,t,a,i,o){var s=this;if(s.showYkienCanBoThucHien){let o=s.$refs.ykiencanbo.doExport();o.valid&&(s.textNote=o.text,s.processAction(e,t,a,i,!1))}else s.processAction(e,t,a,i,!1)},processListTTHC(e){let t=this;t.$store.dispatch("loadListThuTucHanhChinh").then(function(a){if((!e.hasOwnProperty("domain")||e.hasOwnProperty("domain")&&""===String(e.domain))&&(t.listThuTucHanhChinh=a.map(e=>{return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})),t.listThuTuc=a.map(e=>{return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e}),e.hasOwnProperty("service_config")&&"0"!==String(e.service_config)){for(let i in t.listThuTucHanhChinh)if(String(t.listThuTucHanhChinh[i].serviceConfigId)===String(e.service_config)){if(t.thuTucHanhChinhSelected=t.listThuTucHanhChinh[i],null!==t.thuTucHanhChinhSelected&&void 0!==t.thuTucHanhChinhSelected&&t.thuTucHanhChinhSelected.hasOwnProperty("options"))if(t.govAgencyCode=t.thuTucHanhChinhSelected.govAgencyCode,t.serviceCode=t.thuTucHanhChinhSelected.serviceCode,e.hasOwnProperty("template_no")){t.listDichVu=t.thuTucHanhChinhSelected.options;for(let a in t.listDichVu)t.listDichVu[a].templateNo===e.template_no&&(t.dichVuSelected=t.listDichVu[a],t.templateNo=t.dichVuSelected.templateNo)}else t.listDichVu=[],t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";break}}else t.thuTucHanhChinhSelected=null,t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";t.doLoadingDataHoSo()})},processListDomain(e){let t=this;t.$store.dispatch("getDomainLists").then(function(a){if(a.length>0&&(t.listLinhVuc=a.map(e=>{return e["displayName"]=e["domainCode"]+" - "+e["domainName"],e})),e.hasOwnProperty("domain")&&""!==String(e.domain)){for(let i in t.listLinhVuc)String(t.listLinhVuc[i]["domainCode"])===String(e.domain)&&(t.linhVucSelected=t.listLinhVuc[i],t.domainCode=t.linhVucSelected["domainCode"]);let a={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",a).then(e=>{t.listThuTucHanhChinh=e.map(e=>{return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})}else t.linhVucSelected=null})},checkPemissionSpecialAction(e,t,a){var i=this,o=!0;if("PRINT_01"!==e&&"PRINT_02"!==e&&"PRINT_03"!==e&&"GUIDE"!==e&&"PREVIEW"!==e&&"BETIMES"!==e){let e=i.$store.getters.getUsersNextAction;if(e.length>0){let a=e.filter(function(e){if(void 0!==e&&void 0!==t)return e["userId"].toString()===t["userId"].toString()});o=a.length>0}else o=!1}return"ROLLBACK_01"!==e&&"ROLLBACK_02"!==e&&"ROLLBACK_03"!==e||(o=!1),o},paggingData(e){let t=this,a=t.$router.history.current,i=a.query,o="?";i["page"]="";for(let s in i)""!==i[s]&&"undefined"!==i[s]&&void 0!==i[s]&&(o+=s+"="+i[s]+"&");o+="page="+e.page,t.$router.push({path:a.path+o})},doLoadingDataHoSo(){let e=this;e.selected=[];let t=e.$router.history.current.query;if(console.log("currentQuery======",t),t.hasOwnProperty("q")){let i;i=t.q.indexOf("step")>0?t.q:t["step"]?t.q+"&step="+t["step"]:t.q;var a=null;if(3!==e.menuType)a={queryParams:i,page:e.hosoDatasPage,agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,day:t.hasOwnProperty("day")?t.day:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")?t.keyword:"",register:t.hasOwnProperty("register")?t.register:"",dossierNo:e.dossierNoKey?e.dossierNoKey:""};else{let o=t.hasOwnProperty("status")&&"deleted"===t["status"]?-1:"";a={queryParams:i,page:e.hosoDatasPage,agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")&&t["status"]&&"deleted"!==t["status"]?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,day:t.hasOwnProperty("day")?t.day:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")?t.keyword:"",register:t.hasOwnProperty("register")?t.register:"",originality:t.hasOwnProperty("originality")&&t["originality"]?t.originality:o,dossierNo:e.dossierNoKey?e.dossierNoKey:""}}e.$store.dispatch("loadingDataHoSo",a).then(function(t){if(e.hosoDatas=t.data,e.hosoDatasTotal=t.total,e.hosoTotalPage=Math.ceil(e.hosoDatasTotal/15),e.hosoTotalPage>0&&0===e.selectMultiplePage.length){for(let t=0;t<e.hosoTotalPage;t++){let a={selected:[],page:t+1};e.selectMultiplePage.push(a)}console.log("selectMultiplePage",e.selectMultiplePage)}e.selected=e.selectMultiplePage[e.hosoDatasPage-1]["selected"]}).catch(t=>{e.hosoDatas=[],e.hosoDatasTotal=0})}3===e.menuType||"3"===String(e.menuType)?setTimeout(()=>{e.$store.dispatch("loadingDossierCounting").then(function(t){if(null!==t&&void 0!==t){if(e.dossierCounting=t,e.getUser("Administrator_data")){let t={key:"deleted",title:"Hồ sơ đã xóa",count:0};e.dossierCounting.push(t)}}else e.dossierCounting=[];e.dossierCountingShow=!0})},200):e.dossierCountingShow=!1},changeServiceConfigs(e){let t=this;t.selectMultiplePage=[],null!==e&&"null"!==e&&void 0!==e&&e.hasOwnProperty("options")?t.listDichVu=e.options:t.listDichVu=[],null!==t.listDichVu&&void 0!==t.listDichVu&&"undefined"!==t.listDichVu&&t.listDichVu.length>0?(t.dichVuSelected=t.listDichVu[0],t.templateNo=t.dichVuSelected.templateNo):t.dichVuSelected=null;let a=t.$router.history.current,i=a.query,o="?";i["service_config"]="",i["template_no"]="";for(let s in i)"page"===s?o+=s+"=1&":""!==i[s]&&"undefined"!==i[s]&&void 0!==i[s]&&"step"!==s&&(o+=s+"="+i[s]+"&");-1===String(i["q"]).indexOf("&step")&&3!==t.menuType&&(o+="step="+i["step"]+"&"),null!==t.listDichVu&&void 0!==t.listDichVu&&"undefined"!==t.listDichVu&&t.listDichVu.length>0?(o+="service_config="+e.serviceConfigId,o+="&template_no="+t.dichVuSelected.templateNo,t.govAgencyCode=e.govAgencyCode,t.serviceCode=e.serviceCode):(t.templateNo="",t.govAgencyCode="",t.serviceCode=""),t.$router.push({path:a.path+o})},changeServiceConfigsGuide(e){let t=this;null!==e&&"null"!==e&&void 0!==e&&e.hasOwnProperty("options")?t.listDichVuGuide=e.options:t.listDichVuGuide=[],null!==t.listDichVuGuide&&void 0!==t.listDichVuGuide&&"undefined"!==t.listDichVuGuide&&t.listDichVuGuide.length>0?(t.dichVuSelectedGuide=t.listDichVuGuide[0],t.templateNoGuide=t.dichVuSelectedGuide.templateNo):t.dichVuSelectedGuide=null},changeDomain(e){let t=this;t.selectMultiplePage=[],t.linhVucSelected=e,e?setTimeout(function(){let e={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",e).then(e=>{t.listThuTucHanhChinh=e.map(e=>{return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})},100):t.listThuTucHanhChinh=t.listThuTuc,t.domainCode=null!==e&&void 0!==e?t.linhVucSelected["domainCode"]:"";let a=t.$router.history.current,i=a.query,o="?";i["domain"]="";for(let s in i)"page"===s?o+=s+"=1&":""!==i[s]&&"undefined"!==i[s]&&void 0!==i[s]&&"step"!==s&&(o+=s+"="+i[s]+"&");-1===String(i["q"]).indexOf("&step")&&3!==t.menuType&&(o+="step="+i["step"]+"&"),o+="domain="+t.domainCode,t.$router.push({path:a.path+o,query:{renew:Math.floor(100*Math.random())+1}})},changeDossierNoKey(){var e=this;e.selectMultiplePage=[],setTimeout(function(){e.dossierNoKey?(e.dossierNoKey.length>3||""===e.dossierNoKey)&&e.doLoadingDataHoSo():e.doLoadingDataHoSo()},200)},clearDossierNoKey(){this.dossierNoKey="",this.changeDossierNoKey()},changeDichVuConfigs(e){let t=this;t.selectMultiplePage=[];let a=t.$router.history.current,i=a.query,o="?";i["template_no"]="";for(let s in i)""!==i[s]&&"undefined"!==i[s]&&void 0!==i[s]&&(o+=s+"="+i[s]+"&");null!==e&&void 0!==e&&(o+="template_no="+e.templateNo,t.templateNo=e.templateNo),t.$router.push({path:a.path+o})},btnActionEvent(e,t,a,i){let o=this;if(o.buttonConfigItem={},o.buttonConfigItem=t,o.itemAction=t,o.indexAction=a,"NEW"===String(t.form)){let e=!0;null!==o.dichVuSelected&&void 0!==o.dichVuSelected&&"undefined"!==o.dichVuSelected&&null!==o.listDichVu&&void 0!==o.listDichVu&&1===o.listDichVu.length&&(e=!1),e?o.dialogAction=!0:o.doCreateDossier()}else if("UPDATE"===String(t.form))o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+e.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query});else if("ADD"===String(t.form))o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/bo-sung-ho-so/"+e.dossierId,query:o.$router.history.current.query});else if("COPY"===String(t.form))o.doCopy(e,t,a,i);else if("CANCEL"===String(t.form))o.doCancel(e,t,a,i);else if("PRINT_01"===String(t.form))o.doPrint01(e,t,a,i);else if("PRINT_02"===String(t.form))o.doPrint02(e,t,a,i);else if("PRINT_03"===String(t.form))o.doPrint03(e,t,a,i);else if("GUIDING"===String(t.form))o.dialog_printGuide=!0;else if("PREVIEW"===String(t.form))o.doPreview(e,t,a,i);else if("ACTIONS"===String(t.form))o.doActions(e,t,a,i);else if("DELETE"===String(t.form))o.doDeleteDossier(e,t,a,i);else if("ROLLBACK_01"===String(t.form)){let i={actionCode:9e3};o.processAction(e,t,i,a,!0)}else if("ROLLBACK_02"===String(t.form)){let i={actionCode:9e3};o.processAction(e,t,i,a,!0)}else if("OVERDUE"===String(t.form)){let t={actionCode:8500,dossierId:e.dossierId,overdue:e["extendDate"]};o.processPullBtnDetailRouter(e,null,t,null,8500)}else if("PREOVERDUE"===String(t.form)){let t={actionCode:8501,dossierId:e.dossierId,preoverdue:e["extendDate"]};o.processPullBtnDetailRouter(e,null,t,null,8501)}else if("BETIMES"===String(t.form)){let t={actionCode:8400,dossierId:e.dossierId,betimes:e["extendDate"]};o.processPullBtnDetailRouter(e,null,t,null,8400)}else if("CHANGE_DATA_DOSSIER"===String(t.form))o.doChangeDossier(e,t,a,i);else if("UNDO_DOSSIER"===String(t.form))o.doUndoDossier(e,t,a,i);else if("RESTORE_DOSSIER"===String(t.form))o.doRestoreDossier(e,t,a,i);else if("GOTO_DONE"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");let t={stepCode:400,stepName:"hoàn thành"};o.gotoStep(e,t)}else if("GOTO_CANCEL"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");let t={stepCode:410,stepName:"rút"};o.gotoStep(e,t)}else if("GOTO_DENY"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");let t={stepCode:420,stepName:"từ chối"};o.gotoStep(e,t)}},doPrint01(e,t,a,i){let o=this;o.dialogPDFLoading=!0,o.dialogPDF=!0;let s={dossierId:e.dossierId,document:t.document};o.$store.dispatch("doPrint01",s).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doPrint02(e,t,a,i){let o=this;if(console.log("vm.selectedDoAction",o.selectedDoAction),null===o.thuTucHanhChinhSelected||void 0===o.thuTucHanhChinhSelected||"undefined"===o.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{let e={document:t.document,serviceCode:o.thuTucHanhChinhSelected.serviceCode,govAgencyCode:o.thuTucHanhChinhSelected.govAgencyCode,dossiers:JSON.stringify(o.selectedDoAction)};o.dialogPDFLoading=!0,o.dialogPDF=!0,o.$store.dispatch("doPrint02",e).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},doPrint03(e,t,a,i){let o=this;o.dialogPDFLoading=!0,o.dialogPDF=!0;let s={dossierId:e.dossierId,document:t.document};o.$store.dispatch("doPrint03",s).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doGuiding(e){let t=this;if(t.$refs.formGuide.validate()){t.loadingAction=!0;let a={serviceConfigId:t.thuTucHanhChinhSelectedGuide.serviceConfigId,serviceCode:t.thuTucHanhChinhSelectedGuide.serviceCode,serviceName:t.thuTucHanhChinhSelectedGuide.serviceName,templateNo:t.templateNoGuide,applicantName:t.applicantNameGuide,applicantAddress:t.applicantAddressGuide,applicantEmail:t.applicantEmailGuide,applicantTelNo:t.applicantTelNoGuide,typeCode:"DOC_03"};"doc"===e&&(a["reportType"]="word"),"doc"!==e&&(t.dialogPDFLoading=!0,t.dialogPDF=!0),t.$store.dispatch("doGuiding",a).then(function(a){t.loadingAction=!1,t.dialog_printGuide=!1,t.dialogPDFLoading=!1,"doc"!==e&&(document.getElementById("dialogPDFPreview").src=a)}).catch(function(){t.loadingAction=!1})}},doPreview(e,t,a,i){let o=this;o.dialogPDFLoading=!0,o.dialogPDF=!0;let s={dossierId:e.dossierId,document:t.document};o.$store.dispatch("doPrint03",s).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doActions(e,t,a,i){let o=this;o.$router.history.current.query,t.action;if(i)if(o.countSelected=0,1===o.selectedDoAction.length)for(let s in o.selectedDoAction){let e=o.selectedDoAction[s];o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/chi-tiet-ho-so/"+e["dossierId"],query:{activeTab:"tabs-1",btnIndex:null}})}else o.selectedDoAction.length>1?o.$store.dispatch("loadActionActive",t).then(function(){o.$store.dispatch("loadDossierSelected",o.selectedDoAction).then(function(){let e=o.selectedDoAction.map(e=>{return e.dossierId}).join(","),a=o.$router.history.current.query;a["dossiers"]=e,a["actionActive"]=JSON.stringify(t),o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/xu-ly-ho-so",query:a})})}):alert("Chọn hồ sơ để thao tác")},doCopy(e,t,a,i){let o=this,s={dossierId:e.dossierId};o.loadingAction=!0,o.$store.dispatch("doCopy",s).then(function(e){o.loadingAction=!1,o.indexAction=-1,o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+e.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query})}).catch(e=>{o.loadingAction=!1})},doCancel(e,t,a,i){let o=this;if(o.loadingAction=!0,i);else{let t={dossierId:e.dossierId};o.$store.dispatch("doCancel",t).then(function(e){o.loadingAction=!1,o.indexAction=-1,o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+e.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query})}).catch(e=>{o.loadingAction=!1})}},doChangeDossier(e,t,a,i){let o=this;o.$router.history.current.query;if(i)if(o.selectedDoAction.length>0){let e=o.selectedDoAction.length;o.actionId=9100,o.dossierIdSelected=o.selectedDoAction[e-1].dossierId,o.dialog_extraForm=!0}else alert("Chọn hồ sơ để thực hiện")},doUndoDossier(e,t,a,i){let o=this;o.$router.history.current.query;if(o.selectedDoAction.length>0){let e=o.selectedDoAction.length,t=confirm("Xác thực Undo hồ sơ với mã: "+o.selectedDoAction[e-1].dossierNo);if(t){let t={dossierId:o.selectedDoAction[e-1].dossierId};o.$store.dispatch("rollBack",t).then(function(e){setTimeout(function(){o.doLoadingDataHoSo()},300)}).catch(function(){setTimeout(function(){o.doLoadingDataHoSo()},300)})}}else alert("Chọn hồ sơ để thực hiện")},gotoStep(e,t){let a=this;a.$router.history.current.query;if(a.selectedDoAction.length>0){let e=a.selectedDoAction.length,i=confirm("Xác thực "+t["stepName"]+" hồ sơ với mã: "+a.selectedDoAction[e-1].dossierNo);if(i){let i={dossierId:a.selectedDoAction[e-1].dossierId,stepCode:t["stepCode"]};a.$store.dispatch("goToStep",i).then(function(e){setTimeout(function(){a.doLoadingDataHoSo()},300)}).catch(function(){setTimeout(function(){a.doLoadingDataHoSo()},300)})}}else alert("Chọn hồ sơ để thực hiện")},doChangeDossierExtraForm(){let e=this,t=e.$refs.formBoSungThongTinNgan.checkValid();if(t){let t=e.$refs.formBoSungThongTinNgan.formSubmitData();if(t){let a=confirm("Bạn có chắc chắn thực hiện hành động điều chỉnh dữ liệu?");if(a){let a=e.selectedDoAction.length,i={dossierId:e.selectedDoAction[a-1].dossierId,actionCode:e.actionId,payload:t};e.$store.dispatch("processDossierRouter",i).then(function(t){e.doLoadingDataHoSo(),e.dialog_extraForm=!1}).catch(function(){e.dialog_extraForm=!1,e.doLoadingDataHoSo()})}}else e.dialog_extraForm=!1}},doRestoreDossier(){let e=this,t=confirm("Bạn có chắc chắn thực hiện hành động khôi phục hồ sơ?");if(t)if(e.selectedDoAction.length>0){let t=0,a=e.selectedDoAction.length;for(let i in e.selectedDoAction){let o={dossierId:e.selectedDoAction[i]["dossierId"]};console.log("filter Restore",o),e.selectedDoAction[i]["originality"]&&e.$store.dispatch("restoreDossier",o).then(function(i){t+=1,t===a&&e.doLoadingDataHoSo()}).catch(function(){t+=1,t===a&&e.doLoadingDataHoSo()})}}else alert("Chọn hồ sơ để thực hiện")},doDeleteDossier(e,t,a,i){let o=this,s=confirm("Bạn có chắc chắn thực hiện hành động xóa hồ sơ?");if(!s)return!1;{let t=o.$router.history.current.query;if(i){let e={dossierId:0};if(o.selectedDoAction.length>0){let t=[];for(let e in o.selectedDoAction)t.push(o.selectedDoAction[e]["dossierId"]);e["dossierId"]=t,o.$store.dispatch("deleteDossierPatch",e).then(function(e){})}else alert("Chọn hồ sơ để thực hiện")}else{let a={dossierId:e.dossierId};o.$store.dispatch("deleteDossier",a).then(function(e){o.dialogActionProcess=!1,o.loadingActionProcess=!1,o.$router.push({path:o.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:t["q"]}})})}}},doCreateDossier(){let e=this,t={serviceCode:e.serviceCode,govAgencyCode:e.govAgencyCode,templateNo:e.templateNo,originality:e.getOriginality()};e.$store.commit("setDataCreateDossier",t),e.loadingAction=!0,e.$store.dispatch("postDossier",t).then(function(t){e.loadingAction=!1,e.indexAction=-1,e.$router.push({path:"/danh-sach-ho-so/"+e.index+"/ho-so/"+t.dossierId+"/"+e.itemAction.form,query:e.$router.history.current.query})}).catch(t=>{e.loadingAction=!1})},doSubmitDialogAction(e){let t=this;t.$refs.form.validate()&&t.doCreateDossier()},processPullBtnDynamics(e){let t=this;t.btnDossierDynamics=[];let a={dossierId:e.dossierId,dossierStatus:e.dossierStatus,dossierSubStatus:e.dossierSubStatus};if(t.dossierId=e.dossierId,""===e.dossierStatus||""===e.dossierSubStatus)t.$store.dispatch("pullNextactions",a).then(e=>{t.btnDossierDynamics=e});else{t.btnStepsDynamics=[];var i=[t.$store.dispatch("pullNextactions",a),t.$store.dispatch("pullBtnConfigStep",a)];Promise.all(i).then(e=>{t.btnDossierDynamics=e[0],t.btnStepsDynamics=e[1]}).catch(e=>{t.$store.dispatch("pullNextactions",a).then(e=>{t.btnDossierDynamics=e})})}},processAction(e,t,a,i,o){let s=this;var n=null;s.payments&&(n={requestPayment:s.payments["requestPayment"],advanceAmount:Number(s.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(s.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(s.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(s.payments["shipAmount"].toString().replace(/\./g,""))});let r={dossierId:e.dossierId,actionCode:a.actionCode,toUsers:s.assign_items,payment:n,userNote:s.textNote?s.textNote:""};s.dossierId=e.dossierId;let l=s.$router.history.current.query,c="?";l["recount"]=Math.floor(100*Math.random())+1,l["renew"]=Math.floor(100*Math.random())+1;for(let d in l)""!==l[d]&&"undefined"!==l[d]&&void 0!==l[d]&&(c+=d+"="+l[d]+"&");if(s.loadingActionProcess=!0,o){let e=confirm("Bạn có muốn thực hiện hành động này?");if(!e)return!1;s.$store.dispatch("processDossierRouter",r).then(function(e){s.dialogActionProcess=!1,s.loadingActionProcess=!1,s.$router.push({path:s.$router.history.current.path+c})})}else e.statusAction||s.$store.dispatch("processCheckNextActions",r).then(function(e){s.$store.dispatch("processDossierRouter",e).then(function(e){s.dialogActionProcess=!1,s.loadingActionProcess=!1,"ACTIONS"===String(t.form)?(s.hosoDatas.splice(i,1),s.selectedDoAction[i].statusAction=!0,s.countSelected+=1,s.countSelected===s.selectedDoAction.length&&s.statusFailed>0&&s.selectedDoAction.length>1?s.dialog_statusAction=!0:s.countSelected===s.selectedDoAction.length&&0===s.statusFailed&&s.$router.push({path:s.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:l["q"]}})):s.$router.push({path:s.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:l["q"]}})}).catch(function(){s.loadingActionProcess=!1,"ACTIONS"===String(t.form)&&(s.countSelected+=1,s.statusFailed+=1,s.selectedDoAction[i].statusAction=!1,s.countSelected===s.selectedDoAction.length&&s.statusFailed>0&&s.selectedDoAction.length>1&&(s.dialog_statusAction=!0))})})},processPullBtnDetailRouter(e,t,a,i,o){let s=this,n=!1;if(s.dossierId=e.dossierId,s.showYkienCanBoThucHien=!1,s.showFormBoSungThongTinNgan=!1,s.showPhanCongNguoiThucHien=!1,s.showTaoTaiLieuKetQua=!1,s.showKyPheDuyetTaiLieu=!1,s.showTraKetQua=!1,s.showXacNhanThuPhi=!1,s.showThuPhi=!1,s.showThucHienThanhToanDienTu=!1,s.dossierItemDialogPick=e,s.itemDialogPick=t,s.resultDialogPick=a,s.indexDialogPick=i,s.userNote=0,null!==a&&void 0!==a&&"undefined"!==a&&(a.hasOwnProperty("userNote")||a.hasOwnProperty("extraForm")||a.hasOwnProperty("allowAssignUser")||a.hasOwnProperty("createFiles")||a.hasOwnProperty("eSignature")||a.hasOwnProperty("returnFiles")||a.hasOwnProperty("payment")||a.hasOwnProperty("overdue")||a.hasOwnProperty("betimes"))){if(!a.hasOwnProperty("userNote")||1!==a.userNote&&"1"!==a.userNote&&2!==a.userNote&&"2"!==a.userNote||(n=!0,s.showYkienCanBoThucHien=!0,s.userNote=a.userNote),a.hasOwnProperty("extraForm")&&a.extraForm&&(n=!0,s.showFormBoSungThongTinNgan=!0),a.hasOwnProperty("allowAssignUser")&&0!==a.allowAssignUser&&(s.assign_items=a.toUsers,s.type_assign=a.allowAssignUser,n=!0,s.showPhanCongNguoiThucHien=!0),a.hasOwnProperty("returnFiles")&&null!==a.createFiles&&void 0!==a.createFiles&&"undefined"!==a.createFiles&&a.createFiles.length>0&&(n=!0,s.showTaoTaiLieuKetQua=!0),a.hasOwnProperty("eSignature")&&a.eSignature&&(n=!0,s.showKyPheDuyetTaiLieu=!0),a.hasOwnProperty("returnFiles")&&null!==a.returnFiles&&void 0!==a.returnFiles&&"undefined"!==a.returnFiles&&a.returnFiles.length>0&&(n=!0,s.showTraKetQua=!0,s.returnFiles=a.returnFiles),a.hasOwnProperty("payment")&&null!==a.payment&&void 0!==a.payment&&"undefined"!==a.payment&&a.payment.requestPayment>0)if(2===a.payment.requestPayment||"2"===a.payment.requestPayment){n=!0;let e={dossierId:s.dossierId};s.$store.dispatch("loadDossierPayments",e).then(e=>{s.paymentProfile=e}).catch(e=>{})}else n=!0,s.showThuPhi=!0,s.payments=a.payment,s.viaPortalDetail=e.viaPostal;a.hasOwnProperty("overdue")&&(n=!0),a.hasOwnProperty("betimes")&&(n=!0)}if(n){let t={activeTab:"tabs-1",btnIndex:o};s.$router.push({path:"/danh-sach-ho-so/"+s.index+"/chi-tiet-ho-so/"+e["dossierId"],query:t})}else s.processAction(e,t,a,i,!0)},processPullBtnDetail(e,t,a,i){let o=this;if(1===t["enable"]||"special"===t["autoEvent"]){o.itemAction=t;let s={dossierId:e.dossierId,actionId:t.processActionId};o.dossierId=e.dossierId,o.loadingActionProcess=!0,o.$store.dispatch("processPullBtnDetail",s).then(function(s){o.processPullBtnDetailRouter(e,t,s,a,i)})}},goBack(){window.history.back()},viewDetail(e,t){let a=this;console.log("permission: ",e.permission),null!==e.permission&&""!==e.permission&&a.$router.push("/danh-sach-ho-so/"+this.index+"/chi-tiet-ho-so/"+e["dossierId"])},keywordEventChange(e){let t=this;t.selectMultiplePage=[],console.log("keywordEventChange",e),t.advObjectSearch={};for(let a in e)if("string"===typeof e[a]&&null!==e[a]&&void 0!==e[a]&&"undefined"!==e[a])if(e[a].startsWith("keyword:")||e[a].startsWith("year_month_day:")||e[a].startsWith("top:")||e[a].startsWith("status:")||e[a].startsWith("substatus:")||e[a].startsWith("agency:")||e[a].startsWith("service:")||e[a].startsWith("domain:")||e[a].startsWith("register:")||(t.advObjectSearch["keyword"]=e[a]),e[a].startsWith("keyword:"))t.advObjectSearch["keyword"]=e[a].replace("keyword:","");else for(let i in t.advSearchItems)e[a].startsWith(t.advSearchItems[i].spec+":")&&(t.advObjectSearch[t.advSearchItems[i].spec]=e[a].replace(t.advSearchItems[i].spec+":",""));else{let i=e[a].value;t.advObjectSearch[e[a].spec]=i.replace(e[a].spec+":","")}t.advSearchItems=[];for(let a in t.advObjectSearch){if(!t.advObjectSearch.hasOwnProperty(a))continue;let e=t.advObjectSearch[a];if("string"===typeof e&&null!==e&&void 0!==e&&""!==e)if("keyword"===a)t.advSearchItems.push({spec:a,value:a+":"+e,text:a+":"+e,index:-1});else{let i=-2;for(let e in t.advSearchTools)if(t.advSearchTools[e].spec===a){i=t.advSearchTools[e].index;break}t.advSearchItems.push({spec:a,value:a+":"+e,text:a+":"+e,index:i})}else"string"!==typeof e&&null!==e&&void 0!==e&&""!==e&&t.advSearchItems.push({spec:a,value:a+":"+e.value,text:a+":"+e.value,index:a+":"+e.index})}for(let a in t.advSearchTools)t.advSearchTools[a].display=!1,t.advSearchTools[a].disabled=!1,null!==t.advObjectSearch[t.advSearchTools[a].spec]&&void 0!==t.advObjectSearch[t.advSearchTools[a].spec]&&""!==t.advObjectSearch[t.advSearchTools[a].spec]&&(t.advSearchTools[a].display=!0,t.advSearchTools[a].disabled=!0);console.log("vm.advSearchItems",t.advSearchItems),t.doRedirectFilter()},selectedAdvFilter(e){let t=this;t.advSearchTools[e.index].display=!0,t.advSearchTools[e.index].disabled=!0;let a=!1;for(let i in t.advSearchItems)if(t.advSearchItems[i].index===e.index){a=!0;break}a||t.advSearchItems.push({spec:t.advSearchTools[e.index].spec,value:t.advSearchTools[e.index].spec+":__",text:t.advSearchTools[e.index].spec+":__",index:e.index})},showAdvFilter(){let e=this;e.menusss=!e.menusss,e.$store.dispatch("getStatusLists").then(function(t){e.itemFilterSupport.statusLists=t;let a={itemCode:"deleted",itemName:"Đã xóa"};e.getUser("Administrator_data")&&e.itemFilterSupport.statusLists.push(a)});let t={itemCode:""};e.$store.dispatch("getSubstatusLists",t).then(function(t){e.itemFilterSupport.substatusLists=t}),e.$store.dispatch("getAgencyLists").then(function(t){e.itemFilterSupport.agencyLists=t}),e.$store.dispatch("getServiceLists").then(function(t){e.itemFilterSupport.serviceLists=t}),e.$store.dispatch("getDomainLists").then(function(t){e.itemFilterSupport.domainLists=t})},changeAdvFilterData(e,t,a){let i=this;if(console.log("data change advSearch",e,t,a),"status"===t){let t={itemCode:e};i.$store.dispatch("getSubstatusLists",t).then(function(e){i.itemFilterSupport.substatusLists=e})}let o=e;"year"===t?(i.itemFilterSupport.year=e,o=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month+"_"+i.itemFilterSupport.day,t="year_month_day"):"month"===t?(i.itemFilterSupport.month=e,o=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month+"_"+i.itemFilterSupport.day,t="year_month_day"):"day"===t?(i.itemFilterSupport.day=e,o=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month+"_"+i.itemFilterSupport.day,t="year_month_day"):i.itemFilterSupport[t]=e;for(let s in i.advSearchItems)if(console.log("adv Search index",i.advSearchItems[s].index),i.advSearchItems[s].index===a){console.log("vm.itemFilterSupport2",i.itemFilterSupport),i.advSearchItems[s].value=t+":"+o,i.advSearchItems[s].text=t+":"+o;break}i.doRedirectFilter()},doRedirectFilter(){let e=this;e.selectMultiplePage=[];let t=e.$router.history.current,a=t.query,i="?";for(let o in a)""!==a[o]&&"undefined"!==a[o]&&void 0!==a[o]&&"top"!==o&&"status"!==o&&"substatus"!==o&&"agency"!==o&&"service"!==o&&"domain"!==o&&"register"!==o&&"year"!==o&&"month"!==o&&"day"!==o&&"adv_renew"!==o&&"keyword"!==o&&(i+=o+"="+a[o]+"&");for(let o in e.advSearchItems){let t=e.advSearchItems[o];if("year_month_day"===t.spec){let e=t.text.replace(t.spec+":","");const[a,o,s]=e.split("_");i+="year="+a+"&month="+o+"&day="+s+"&"}else console.log("currentItemFilter.spec",t.text.replace(t.spec+":","")),i+=t.spec+"="+t.text.replace(t.spec+":","")+"&"}i+="adv_renew="+Math.floor(100*Math.random())+1,i=i.replace(/=__/g,"="),e.$router.push({path:t.path+i})},changeAdvFilterDataChips(e){let t=this,a=-2;for(let s in t.advSearchTools)"delay"===e.key||"overdue"===e.key||"coming"===e.key?"top"===t.advSearchTools[s]["spec"]&&(a=t.advSearchTools[s]["index"],t.advSearchTools[s].display=!0,t.advSearchTools[s].disabled=!0):"status"===t.advSearchTools[s]["spec"]&&(a=t.advSearchTools[s]["index"],t.advSearchTools[s].display=!0,t.advSearchTools[s].disabled=!0);let i="";i="delay"===e.key||"overdue"===e.key||"coming"===e.key?"top":"status";let o=!0;for(let s in t.advSearchItems)if("status"===t.advSearchItems[s]["spec"]){if("delay"!==e.key&&"overdue"!==e.key&&"coming"!==e.key){t.advSearchItems[s].value="status:"+e.key,t.advSearchItems[s].text="status:"+e.key,o=!1;break}}else if("top"===t.advSearchItems[s]["spec"]&&("delay"===e.key||"overdue"===e.key||"coming"===e.key)){t.advSearchItems[s].value="top:"+e.key,t.advSearchItems[s].text="top:"+e.key,o=!1;break}o&&t.advSearchItems.push({spec:i,value:i+":"+e.key,text:i+":"+e.key,index:a}),t.doRedirectFilter()},validate(){return!0},callback(e){e?alert(e):alert("please check you are not robot")}}},lt=rt,ct=a("8212"),dt=a("cc20"),ut=a("2b5d"),pt=a("8fea"),ht=a("0789"),mt=a("8e36"),gt=a("b56d"),_t=Object(d["a"])(lt,I,A,!1,null,null,null);_t.options.__file="Landing.vue";var vt=_t.exports;p()(_t,{VAutocomplete:V["a"],VAvatar:ct["a"],VBtn:m["a"],VCard:Y["a"],VCardActions:z["a"],VCardText:z["b"],VCardTitle:xe["a"],VCheckbox:ve["a"],VChip:dt["a"],VCombobox:ut["a"],VDataTable:pt["a"],VDialog:Se["a"],VFadeTransition:ht["b"],VFlex:X["a"],VForm:je["a"],VIcon:_["a"],VLayout:Z["a"],VList:v["a"],VListTile:f["a"],VListTileTitle:C["b"],VMenu:ee["a"],VProgressCircular:T["a"],VProgressLinear:mt["a"],VSelect:gt["a"],VSpacer:ot["a"],VTextField:Be["a"],VTooltip:te["a"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},yt=[],Ct={},Dt=Ct,Tt=a("a523"),Pt=Object(d["a"])(Dt,ft,yt,!1,null,null,null);Pt.options.__file="NotFound.vue";var xt=Pt.exports;p()(Pt,{VContainer:Tt["a"],VFlex:X["a"],VLayout:Z["a"],VProgressCircular:T["a"]});const St=[{path:"/danh-sach-ho-so/:index",name:"Landing",component:vt,props:!0},{path:"*",name:"NotFound",component:xt}];i["a"].use(b["a"]);const bt=new b["a"]({routes:St});var It=bt,At=a("4360"),wt=a("967d"),Et=(a("5a9d"),a("a576"),a("470b"),a("bc3a")),Nt=a.n(Et);Nt.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",i["a"].use(wt["default"]),i["a"].config.productionTip=!0,i["a"].mixin({methods:{getOriginality:function(){return 3}}}),new i["a"]({router:It,store:At["a"],beforeCreate(){var e=this;e.$store.dispatch("loadInitResource")},render:function(e){return e(S)}}).$mount("#app_dynamic_report")},"74ef":function(e,t,a){},bbd0:function(e){e.exports={initData:{menuConfigToDo:"/o/rest/v2_1/menuconfigs/todo",counterMenuStep:"/o/rest/v2/statistics/dossiers/todo",getListThuTucHanhChinh:"/o/rest/v2/onegate/serviceconfigs/processes",serviceInfoApi:"/o/rest/v2/serviceinfos",regionApi:"/o/rest/v2/dictcollections",postDossierApi:"/o/rest/v2/dossiers",dossierTemplatesApi:"/o/rest/v2/dossiertemplates",applicantApi:"/o/rest/v2/applicants",dossierlogsApi:"/o/rest/v2/dossierlogs",dossierApi:"/o/rest/v2/dossiers",serviceProcessesApi:"/o/rest/v2/serviceprocesses",serviceConfigApi:"/o/rest/v2/serviceconfigs",serviceConfigByGovApi:"/o/rest/v2/serviceconfigs/govagencies",getNextAction:"/o/rest/v2/dossiers",documentApi:"/o/rest/v2_1/dossiers",stepConfigApi:"/o/rest/v2_1/stepconfigs",getServiceConfigs:"/o/rest/v2/serviceconfigs",commentApi:"/o/rest/v2/comments"},renderURLInit:"?p_p_id=OneGate&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit",dossierTemplates:[{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0}],advSearchTools:[{index:0,value:"adv_0",text:"Lọc hồ sơ theo năm - tháng - ngày",type:"select",dataSource:"data",spec:"year_month_day",display:!1,disabled:!1},{index:1,value:"adv_1",text:"Lọc hồ sơ theo top",type:"select",dataSource:"data",spec:"top",display:!1,disabled:!1},{index:2,value:"adv_2",text:"Lọc trạng thái hồ sơ",type:"select",dataSource:"getStatusLists",spec:"status",display:!1,disabled:!1},{index:3,value:"adv_3",text:"Lọc trạng thái con",type:"select",dataSource:"getSubstatusLists",spec:"substatus",display:!1,disabled:!1},{index:4,value:"adv_4",text:"Lọc theo mã đơn vị",type:"select",dataSource:"getAgencyLists",spec:"agency",display:!1,disabled:!1},{index:5,value:"adv_5",text:"Lọc theo mã thủ tục",type:"select",dataSource:"getServiceLists",spec:"service",display:!1,disabled:!1},{index:6,value:"adv_6",text:"Lọc theo lĩnh vực",type:"select",dataSource:"getDomainLists",spec:"domain",display:!1,disabled:!1},{index:7,value:"adv_7",text:"Tìm theo mã sổ theo dõi",type:"text",spec:"register",display:!1,disabled:!1}]}},e195:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026");__webpack_exports__["a"]={props:{item:{type:Object,default(){return{dossierId:0}}},layout_view:{type:Object}},created(){let vm=this;null!==vm.layout_view&&void 0!==vm.layout_view&&"undefined"!==vm.layout_view&&vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("my-dynamic-view",{template:vm.layout_view["template"],data:eval(" ( "+vm.layout_view["data"]+" ) "),created:eval(" ( "+vm.layout_view["created"]+" ) "),updated:eval(" ( "+vm.layout_view["updated"]+" ) "),methods:vm.layout_view["methods"]})}}}});
//# sourceMappingURL=app.9d63ecb8.js.map