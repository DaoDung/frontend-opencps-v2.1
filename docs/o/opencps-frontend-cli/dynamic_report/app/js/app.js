(function(e){function t(t){for(var o,i,s=t[0],p=t[1],c=t[2],d=0,u=[];d<s.length;d++)i=s[d],n[i]&&u.push(n[i][0]),n[i]=0;for(o in p)Object.prototype.hasOwnProperty.call(p,o)&&(e[o]=p[o]);l&&l(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,s=1;s<r.length;s++){var p=r[s];0!==n[p]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={app:0},a=[];function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],p=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=p;a.push(["56d7","chunk-vendors"]),r()})({"3c87":function(e,t,r){"use strict";const o="\n    {\n        getDynamicReports(start: -1, end: -1) {\n            dynamicReportId\n            reportCode\n            reportName\n            filterConfig\n            tableConfig\n            userConfig\n            sharing\n        }\n    }\n",n='\n    mutation {\n        updateDynamicReport(\n            body: "INPUTBODY"\n        ) {\n            dynamicReportId\n        }\n    }\n';t["a"]={getDynamicReports:o,updateDynamicReport:n}},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),file_saver__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_3__),_AdminConfig__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3c87");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]);const store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},dataSocket:{},pullCounter:0,tocken:"",loginUser:[{email:"",role:""}],user:null,socket:{isConnected:!1,message:"",reconnectError:!1},endPointApi:"/o/rest/v2",getDeliverableTypes:[],getContentFile:"",getContentFileSimple:[],selected:["dossierNo","delegateName","delegateAddress","delegateTelNo","receiveDate","dueDate"],reportType:"REPORT_01",groupType:"domain",siteName:"",itemsReports:[],reportConfigStatic:{}},actions:{loadInitResource({commit:e,state:t}){return new Promise(r=>{null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20103});let o={headers:{groupId:t.initData["groupId"]}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/site/name",o).then(function(o){let n=o.data;t.siteName=n,console.log(t.siteName),e("setsiteName",n),r(t.initData)}).catch(function(e){console.log(e)})})},updateDynamicReport({commit:e,state:t},r){return new Promise((o,n)=>{let a={headers:{groupId:t.groupId,"Content-Type":"text/plain",Accept:"application/json"}},i={};for(let e in r.itemsReports)if(r.itemsReports[e]["code"]===String(r.index)){i["dynamicReportId"]=r.itemsReports[e]["dynamicReportId"],i["userConfig"]=r.itemsReports[e]["userConfig"];break}let s=i["userConfig"];s[r.userId]=r.selected,i["userConfig"]=s;let p=_AdminConfig__WEBPACK_IMPORTED_MODULE_4__["a"].updateDynamicReport.replace("INPUTBODY",JSON.stringify(i).replace(/"/g,'\\"').replace(/'/g,'\\"'));axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/adminconfig",p,a).then(function(e){console.log(e),o(e.data)}).catch(function(t){e("setsnackbarerror",!0),n(t)})})},doChotSoLieu({commit:e,state:t},r){return new Promise((e,o)=>{let n={headers:{groupId:t.groupId,"Content-Type":"text/plain",Accept:"application/json"},params:{}};n["params"][r["key"]]=r["value"];for(let t in r["data"]){let e=r["data"][t];if(""!==e&&void 0!==e&&null!==e){let r=new Date(e).toLocaleDateString("vi-VN");"Invalid Date"!==r&&13===String(e).length?n.params[t]=r:n.params[t]=e}}axios__WEBPACK_IMPORTED_MODULE_2___default.a.get(r["api"],n).then(function(t){let r=t.data;if(r.data){let t=r.data;e(t)}else e(null)}).catch(function(e){console.log(e),o(e)})})},getDynamicReports({commit:commit,state:state},reportTypeFilter){return new Promise((resolve,reject)=>{let reportType="";if(void 0!==reportTypeFilter&&null!==reportTypeFilter&&(reportType=reportTypeFilter),""!==state.siteName)store.dispatch("loadInitResource").then(function(){let options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json",reportType:reportType}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_4__["a"].getDynamicReports;axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){let serializable=response.data,itemsReportsData=[],indexKey=0;for(let key in serializable["getDynamicReports"]){let current=serializable["getDynamicReports"][key],typeCurrent="dossier";current["reportCode"].startsWith("STATISTIC")&&(typeCurrent="thong_ke");let filterconfigObject=eval("( "+current["filterConfig"]+" )");if(filterconfigObject.hasOwnProperty("groupIds")&&filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]){let e=filterconfigObject["groupIds"],t=!1;for(let r in e)if(String(state.groupId)===e[r]["value"]){t=!0;break}!t&&(filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]||!filterconfigObject.hasOwnProperty("exclusive"))&&e.push({value:parseInt(state.groupId),text:state.siteName}),filterconfigObject["groupIds"]=e}state.reportConfigStatic[indexKey]=eval("( "+current["tableConfig"]+" )"),itemsReportsData.push({code:String(indexKey),document:current["reportCode"],active:!1,type:typeCurrent,title:current["reportName"],filterConfig:filterconfigObject,tableConfig:eval("( "+current["tableConfig"]+" )"),userConfig:eval("( "+current["userConfig"]+" )"),dynamicReportId:current["dynamicReportId"],reportCode:current["reportCode"],reportName:current["reportName"],sharing:current["sharing"]}),indexKey+=1}state.itemsReports=itemsReportsData,console.log("state.itemsReports",state.itemsReports),resolve(itemsReportsData)}).catch(function(e){state.itemsReports=[],commit("setsnackbarerror",!0),reject(e)})});else{let options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json",reportType:reportType}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_4__["a"].getDynamicReports;axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){let serializable=response.data,itemsReportsData=[],indexKey=0;for(let key in serializable["getDynamicReports"]){let current=serializable["getDynamicReports"][key],typeCurrent="dossier";current["reportCode"].startsWith("STATISTIC")&&(typeCurrent="thong_ke");let filterconfigObject=eval("( "+current["filterConfig"]+" )");if(filterconfigObject.hasOwnProperty("groupIds")&&filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]){let e=filterconfigObject["groupIds"],t=!1;for(let r in e)if(String(state.groupId)===e[r]["value"]){t=!0;break}!t&&(filterconfigObject.hasOwnProperty("exclusive")&&filterconfigObject["exclusive"]||!filterconfigObject.hasOwnProperty("exclusive"))&&e.push({value:parseInt(state.groupId),text:state.siteName}),filterconfigObject["groupIds"]=e}state.reportConfigStatic[indexKey]=eval("( "+current["tableConfig"]+" )"),itemsReportsData.push({code:String(indexKey),document:current["reportCode"],active:!1,type:typeCurrent,title:current["reportName"],filterConfig:filterconfigObject,tableConfig:eval("( "+current["tableConfig"]+" )"),userConfig:eval("( "+current["userConfig"]+" )"),dynamicReportId:current["dynamicReportId"],reportCode:current["reportCode"],reportName:current["reportName"],sharing:current["sharing"]}),indexKey+=1}state.itemsReports=itemsReportsData,console.log("state.itemsReports",state.itemsReports),resolve(itemsReportsData)}).catch(function(e){state.itemsReports=[],commit("setsnackbarerror",!0),reject(e)})}})},getAgencyReportLists({state:e},t){return new Promise((r,o)=>{store.dispatch("loadInitResource").then(function(){let n={headers:{groupId:e.initData.groupId,Accept:"application/json"},params:{}};for(let e in t["data"]){let r=t["data"][e];if(""!==r&&void 0!==r&&null!==r){let t=new Date(r).toLocaleDateString("vi-VN");"Invalid Date"!==t&&13===String(r).length?n.params[e]=t:n.params[e]=r}}let a=t["govAgency"],i=t["agencyLists"],s="";if(s=t["api"],0===i.length)axios__WEBPACK_IMPORTED_MODULE_2___default.a.get(s,n).then(function(e){let o=e.data;o.data?r(o.data):(console.log("docu","STATISTIC_05"===t.document),"STATISTIC_05"===t.document?r([]):r(null))}).catch(function(e){console.log(e),o(e)});else if("0"===String(a)&&i.length>0){let e=[];for(let t in i)"0"!==String(i[t]["value"])&&(n["headers"]["groupId"]=i[t]["value"],e.push(axios__WEBPACK_IMPORTED_MODULE_2___default.a.get(s,n)));axios__WEBPACK_IMPORTED_MODULE_2___default.a.all(e).then(axios__WEBPACK_IMPORTED_MODULE_2___default.a.spread((...e)=>{let t=[];for(let r=0;r<e.length;r++)e[r]["data"]["total"]>0&&(t=t.concat(e[r]["data"]["data"]));t.length>0?r(t):r(null)}))}else"0"!==String(a)&&i.length>0&&(n["headers"]["groupId"]=a,axios__WEBPACK_IMPORTED_MODULE_2___default.a.get(s,n).then(function(e){let t=e.data;t.data?r(t.data):r(null)}).catch(function(e){console.log(e),o(e)}))})})},doStatisticReportPrint({state:e},t){return new Promise((r,o)=>{store.dispatch("loadInitResource").then(function(){axios__WEBPACK_IMPORTED_MODULE_2___default()({method:"PUT",url:"/o/rest/v2_1/statistics/report/"+t.document,headers:{groupId:e.initData.groupId},responseType:"blob",data:t.data}).then(function(e){let o=e.data;if(t["download"])file_saver__WEBPACK_IMPORTED_MODULE_3___default()(o,(new Date).getTime()+".xls");else{let e=window.URL.createObjectURL(o);r(e)}}).catch(function(e){o(e)})})})},doExportXlsx({state:e},t){return new Promise((e,r)=>{let o=new FormData;o.append("files",t["file"]),window.$.support.cors=!0,window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/uploadFiles",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:o,crossDomain:!0,type:"POST",success:function(e){console.log(e);let t=new FormData;t.append("url",e["url"]),t.append("index",e["index"]),t.append("pid",1),t.append("oid",3),t.append("status",0),t.append("pwd",""),t.append("formatv1",2),t.append("formatv2",2);e["fileName"];setTimeout(()=>{window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/doProcess.do",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:t,crossDomain:!0,type:"POST",success:function(e){setTimeout(()=>{console.log(e),console.log("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx"),window.open("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx")},1e3)}})},1e3)}})})},doExportXlsxddd({state:e},t){return new Promise((e,t)=>{let r=new FormData;r.append("files",window.$("#filefile")[0].files[0]),window.$.support.cors=!0,window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/uploadFiles",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:r,crossDomain:!0,type:"POST",success:function(e){console.log(e);let t=new FormData;t.append("url",e["url"]),t.append("index",e["index"]),t.append("pid",1),t.append("oid",3),t.append("status",0),t.append("pwd",""),t.append("formatv1",2),t.append("formatv2",2);e["fileName"];setTimeout(()=>{window.$.ajax({url:"https://cors-anywhere.herokuapp.com/https://www.cleverpdf.com/pdf/doProcess.do",headers:{"X-Requested-With":"XMLHttpRequest"},cache:!1,contentType:!1,processData:!1,data:t,crossDomain:!0,type:"POST",success:function(e){setTimeout(()=>{console.log(e),console.log("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx"),window.open("https://www.cleverpdf.com/"+e["index"]+"/blob.xlsx")},1e3)}})},1e3)}})})},doExportXlsx2({state:e},t){return new Promise((e,t)=>{let r=new FormData;r.append("SuccessPage"," /Success/{ID}"),r.append("OutputFormat","Word"),r.append("File",window.$("#filefile")[0].files[0]),r.append("ReconstructionMode","flowing"),r.append("DetectTables",!0),r.append("DetectLists","detect"),r.append("HeaderAndFooterMode","detect"),r.append("AnnotRecoveryType","comment"),r.append("DocFormat","Word"),r.append("AutoRotate",!0),r.append("TextRecoveryMode",0),r.append("NSEMode",0),r.append("ocrLanguage","au"),r.append("Password",""),r.append("DynamicFile",window.$("#filefile")[0].files[0]),window.$.support.cors=!0,window.$.ajax({url:"https://simplypdf.com/api/convert",dataType:"jsonp",cache:!1,contentType:!1,processData:!1,data:r,crossDomain:!0,type:"POST",success:function(e){console.log(e)}})})}},mutations:{setInitData(e,t){e.initData=t},setsnackbarerror(e,t){e.snackbarerror=t},setsnackbarsocket(e,t){e.snackbarsocket=t},setpullCounter(e,t){e.pullCounter=t},setdataSocket(e,t){e.dataSocket=t},setselected(e,t){e.selected=t},setselectedText(e,t){e.selectedText=t},setreportType(e,t){e.reportType=t},setgroupType(e,t){e.groupType=t},setsiteName(e,t){e.siteName=t},setitemsReports(e,t){e.itemsReports=t},setreportConfigStatic(e,t){e.reportConfigStatic=t}},getters:{getsnackbarerror(e){return e.snackbarerror},getsnackbarsocket(e){return e.snackbarsocket},getDeliverableTypes(e){return e.getDeliverableTypes},getContentFile(e){return e.getContentFile},getContentFileSimple(e){return e.getContentFileSimple},pullCounter(e){return e.pullCounter},dataSocket(e){return e.dataSocket},selected(e){return e.selected},selectedText(e){return e.selectedText},reportType(e){return e.reportType},groupType(e){return e.groupType},siteName(e){return e.siteName},itemsReports(e){return e.itemsReports},reportConfigStatic(e){return e.reportConfigStatic}}})},"56d7":function(e,t,r){"use strict";r.r(t);r("0f18");var o=r("a026"),n=r("bb71");r("74ef");o["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"app_dynamic_report"}},[r("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"240"}},[r("v-list",{staticClass:"py-0"})],1),r("v-content")],1)},i=[],s={data:()=>({isCallBack:!0,trangThaiHoSoList:[]})},p=s,c=r("2877"),l=r("6544"),d=r.n(l),u=r("7496"),_=r("549c"),f=r("8860"),g=r("f774"),m=Object(c["a"])(p,a,i,!1,null,null,null);m.options.__file="App.vue";var y=m.exports;d()(m,{VApp:u["a"],VContent:_["a"],VList:f["a"],VNavigationDrawer:g["a"]});var h=r("8c4f"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[e._v("\n    Not found\n")])},D=[],v={},b=v,O=r("a523"),C=Object(c["a"])(b,w,D,!1,null,"6c946066",null);C.options.__file="NotFound.vue";var T=C.exports;d()(C,{VContainer:O["a"]});const R=[{path:"*",name:"NotFound",component:T}];o["a"].use(h["a"]);const P=new h["a"]({routes:R});var E=P,I=r("4360"),x=r("967d"),M=(r("5a9d"),r("a576"),r("470b"),r("bc3a")),k=r.n(M);k.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",o["a"].use(x["default"]),o["a"].config.productionTip=!0,o["a"].mixin({methods:{getOriginality:function(){return 3}}}),new o["a"]({router:E,store:I["a"],beforeCreate(){var e=this;e.$store.dispatch("loadInitResource")},render:function(e){return e(y)}}).$mount("#app_dynamic_report")},"74ef":function(e,t,r){}});
//# sourceMappingURL=app.2eefbe36.js.map