(function(t){function e(e){for(var i,s,r=e[0],c=e[1],d=e[2],u=0,p=[];u<r.length;u++)s=r[u],o[s]&&p.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(i=!1)}i&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},o={app:0},n=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=c;n.push(["56d7","chunk-vendors"]),a()})({4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),jquery__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__),file_saver__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_6__);vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.options={closeButton:!0,timeOut:"15000"};var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{initData:_support_json__WEBPACK_IMPORTED_MODULE_4__.initData,endPointApi:"/o/rest/v2",loading:!1,loadingTable:!1,loadingDynamicBtn:!1,loadingGov:!1,validFileUpload:!1,fileTypeTPHS:["png","jpg","jpeg","pdf","docx","doc","xls","xlsx","txt","rtf"],fileTypePAYMENT:["png","jpg","jpeg"],error:null,user:{role:""},index:0,kysoSuccess:!1,activeGetCounter:!1,activeLoadingDataHoSo:!1,trangThaiHoSoList:null,listThuTucHanhChinh:null,checkInput:0,stepOverdueNextAction:"",usersNextAction:[],lePhi:{fee:"",feeNote:"",request:""},dossier:{applicantIdNo:"ccc"},dossierSelected:[],actionActive:{},serviceConfigObj:{},dossierTemplateName:"",thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:""},vnpostCodeItems:[],serviceConfigItems:null,serviceOptionItems:[],citys:null,cityVal:null,districtVal:null,wardVal:null,resultServices:null,dossierFiles:[],listHistoryProcessingItems:[],thanhPhanHoSo:{dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates},dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates,applicantId:"",applicantBussinessExit:!1,applicantNote:"",thongTinChuHoSo:{userType:!0,cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""},thongTinChuHoSoBindChuyenPhat:{cityCode:"",districtCode:"",wardCode:"",address:"",contactTelNo:""},thongTinNguoiNopHoSo:{sameUser:!0,delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""},dichVuChuyenPhatKetQua:{viaPostal:0,postalServiceCode:"",postalAddress:"",postalCityCode:"",postalDistrictCode:"",postalWardCode:"",postalTelNo:""},viaPostal:0,data_phancong:[],dataCreateDossier:{},dataCreateFile:[],paymentProfile:"",paymentFileName:""},actions:{clearError:function(t){var e=t.commit;e("clearError")},loadInitResource:function(t){var e=t.commit,a=t.state;return new Promise(function(t,i){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20164}),""===a["user"].role&&store.dispatch("getRoleUser").then(function(t){a["user"].role=t}).catch(function(t){a["user"].role=["default"],console.log(t)}),e("setInitData",a.initData),t(a.initData)})},getRoleUser:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/users/login",i).then(function(e){var a=e.data;if(a&&a.length>0){var i=[];for(var o in a)a[o]["role"]&&i.push(a[o]["role"]);console.log("roles",i),t(i)}else t(["default"])}).catch(function(t){console.log(t),e("default")})})},loadMenuConfigToDo:function loadMenuConfigToDo(_ref4){var commit=_ref4.commit,state=_ref4.state;return commit("setLoadingDynamicBtn",!0),null===state.trangThaiHoSoList?new Promise(function(resolve,reject){store.dispatch("loadInitResource").then(function(result){var param={headers:{groupId:state.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(state.initData.menuConfigToDo,param).then(function(response){var serializable=response.data,menuData=[],index=0;for(var key in serializable.data){var current=serializable.data[key],menuDetail={index:index,active:!1,title:current["menuName"],id:current["menuGroup"],action:"description",action_active:"play_arrow",counter:-1,menuType:parseInt(current["menuType"]),queryParams:current["queryParams"]};index+=1;var tableConfig=current["tableConfig"],buttonConfig=current["buttonConfig"];if(""!==tableConfig&&void 0!==tableConfig&&"undefined"!==tableConfig&&-1!==String(tableConfig).indexOf("{")&&-1!==String(tableConfig).indexOf("}")&&(menuDetail["tableConfig"]=eval("("+tableConfig+")")),""!==buttonConfig&&void 0!==buttonConfig&&"undefined"!==buttonConfig&&-1!==String(buttonConfig).indexOf("{")&&-1!==String(buttonConfig).indexOf("}")&&(menuDetail["buttonConfig"]=eval("("+buttonConfig+")")),current.hasOwnProperty("steps"))if(current.steps.length>1)menuDetail["items"]=current.steps;else{var stepsItems=[];stepsItems.push(current.steps),menuDetail["items"]=stepsItems}menuData.push(menuDetail)}commit("setLoadingDynamicBtn",!1),commit("setMenuConfigToDo",menuData),resolve(menuData)}).catch(function(t){commit("setLoadingDynamicBtn",!1),console.log(t),reject(t)})})}):new Promise(function(t,e){commit("setLoadingDynamicBtn",!1),t(state.trangThaiHoSoList)})},loadListThuTucHanhChinh:function(t){var e=t.commit,a=t.state;return null===a.listThuTucHanhChinh?new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getListThuTucHanhChinh,n).then(function(a){var i=a.data,o=Array.from(i.data);e("setListThuTucHanhChinh",o),t(o)}).catch(function(t){console.log(t),i(t)})})}):new Promise(function(t,e){var i=Array.from(a.listThuTucHanhChinh);t(i)})},loadingDataHoSo:function(t,e){var a=t.commit,i=t.state;return a("setLoadingTable",!0),new Promise(function(t,o){store.dispatch("loadInitResource").then(function(n){var s={start:15*e.page-15,end:15*e.page,agency:e.agency?e.agency:"",service:e.service?e.service:"",template:e.template?e.template:"",status:e.status?e.status:"",register:e.register?e.register:"",keyword:e.keyword?e.keyword:"",domain:e.domain?e.domain:"",substatus:e.substatus?e.substatus:"",year:e.year?e.year:0,month:e.month?e.month:0,day:e.day?e.day:0,top:e.top?e.top:"",dossierNo:e.dossierNo?e.dossierNo:""};e["originality"]&&(s["originality"]=e.originality);var r={headers:{groupId:i.initData.groupId},params:s};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.queryParams,r).then(function(e){var i=e.data;a("setLoadingTable",!1),a("setUserNextAction",[]),t(i)}).catch(function(t){a("setLoadingTable",!1),a("setUserNextAction",[]),console.log(t),o(t)})})})},loadingCounterNotStep:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={agency:e.agency?e.agency:"",service:e.service?e.service:"",template:e.template?e.template:"",status:e.status?e.status:"",register:e.register?e.register:"",keyword:e.keyword?e.keyword:"",domain:e.domain?e.domain:"",substatus:e.substatus?e.substatus:"",year:e.year?e.year:0,month:e.month?e.month:0,day:e.day?e.day:0,top:e.top?e.top:"",dossierNo:e.dossierNo?e.dossierNo:""};e["originality"]&&(n["originality"]=e.originality);var s={headers:{groupId:a.initData.groupId},params:n};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.queryParams,s).then(function(e){var a=e.data;t(a)}).catch(function(t){i(t)})})})},loadingCounterHoSo:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};e.hasOwnProperty("originality")&&1===e.originality&&(n["params"]={owner:!0}),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.counterMenuStep,n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),i(t)})})})},loadDossierSelected:function(t,e){var a=t.commit;t.state;a("dossierSelected",e)},loadActionActive:function(t,e){var a=t.commit;t.state;a("actionActive",e)},loadDictItems:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){store.dispatch("loadInitResource").then(function(n){var s={headers:{groupId:i.initData.groupId},params:{parent:e.parent}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i.initData.regionApi+"/"+e.collectionCode+"/dictitems",s).then(function(i){var o=i.data;"ADMINISTRATIVE_REGION"===e.collectionCode&&0===e.level&&a("setCitys",o.data),t(i.data)},function(t){o(t)})})})},resetThongTinChungHoSo:function(t){var e=t.commit,a={serviceConfig:{},serviceOption:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierNo:"",govAgencyName:"",dossierIdCTN:"",processBlock:"",processUnit:"",dossierStatus:"",dossierStatusText:"",submitDate:""};e("setThongTinChungHoSo",a)},resetThongTinChuHoSo:function(t){var e=t.commit,a={userType:!0,cityCode:25,districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""};e("setThongTinChuHoSo",a)},resetThongTinNguoiNopHoSo:function(t){var e=t.commit,a={sameUser:"",delegateName:"",delegateCityCode:25,delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""};e("setThongTinNguoiNopHoSo",a)},resetThanhPhanHoSo:function(t){var e=t.commit;e("setDossierTemplates",[])},loadDossierMark:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId},params:{type:1}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/marks",o).then(function(e){var a=e.data;a.data?t(a.data):t([])},function(t){i(t)})})},loadDossierTemplates:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierTemplatesApi+"/"+e.dossierTemplateNo,n).then(function(e){var a=e.data,i=function(t){try{return JSON.parse(t),JSON.parse(t)}catch(a){var e={tip:t,maxSize:10,extensions:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf"};return e}};if(a&&a["dossierParts"])for(var o in a["dossierParts"]){var n=a["dossierParts"][o]["partTip"];a["dossierParts"][o]["partTip"]=i(n)}t(a.dossierParts)},function(t){i(t)})})})},loadAllDossierTemplates:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierTemplatesApi+"/"+e.dossierTemplateNo,n).then(function(e){var a=e.data,i=function(t){try{return JSON.parse(t),JSON.parse(t)}catch(a){var e={tip:t,maxSize:10,extensions:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf"};return e}};if(a&&a["dossierParts"])for(var o in a["dossierParts"]){var n=a["dossierParts"][o]["partTip"];a["dossierParts"][o]["partTip"]=i(n)}t(a.dossierParts)},function(t){i(t)})})})},deleteAttackFiles:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};console.log("data -delete-----",e),console.log("data-- dossier file-------",a.dossierFiles);var n=new URLSearchParams;e.hasForm||e.eform?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid+"/resetformdata",n,o).then(function(e){console.log("success"),t(e)}).catch(function(t){console.log(t),i(t)}):axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.fileTemplateNo+"/all",o).then(function(e){console.log("success!"),t(e)}).catch(function(t){console.log(t),i(t)})})},deleteDossierFile:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid,o).then(function(e){console.log("success!"),t(e)}).catch(function(t){console.log(t),i(t)})})},resetCounterTemplate:function(t,e){t.commit;var a=t.state;a.dossierTemplates.forEach(function(t){t.partNo===e.partNo&&(t.hasForm?t.count=1:t.count=0)})},deleteSingleFile:function(t,e){t.commit;var a=t.state,i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.dossierApi+"/"+a.thonTinChungHoSo.dossierId+"/files/"+e.referenceUid,i).then(function(t){console.log("success")}).catch(function(t){console.log(t)})},uploadSingleFile:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#file"+e.partNo)[0].files,n=o[0],s=n["name"];n["name"]&&(s=n["name"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,""));var r=new FormData;3===e.partType?(e["displayName"]&&(s=e["displayName"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,"")),r.append("displayName",s)):r.append("displayName",s),r.append("fileType",n.type),r.append("fileSize",n.size),r.append("isSync","false"),r.append("file",n,s),r.append("dossierPartNo",e.partNo),r.append("dossierTemplateNo",e.dossierTemplateNo),r.append("fileTemplateNo",e.fileTemplateNo),r.append("formData",""),r.append("referenceUid","");var c={partTip:e.partTip,file:n};store.dispatch("validFileUpload",c),n&&a.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/"+e.dossierId+"/files",r,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(e){t(e.data),console.log("upload file success!")}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)}):i("error")})},uploadSingleOtherFile:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o=new FormData,n=e["displayName"];e["displayName"]&&(n=e["displayName"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,"")),o.append("displayName",e.displayName?n:""),o.append("dossierPartNo",e.partNo?e.partNo:""),o.append("file",""),o.append("fileType",""),o.append("fileSize",""),o.append("isSync","false"),o.append("dossierTemplateNo",""),o.append("fileTemplateNo",""),o.append("formData",""),o.append("referenceUid",""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/"+e.dossierId+"/files",o,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(e){t(e.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),console.log("upload file success!")}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})},uploadPaymentFile:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#"+e.selector)[0].files,n=o[0],s=n["name"];n["name"]&&(s=n["name"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,""));var r=new FormData;r.append("file",n,s);var c={partTip:e["partTip"],file:n};store.dispatch("validFileUpload",c),n&&a.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/"+e.dossierId+"/payments/"+e.referenceUid+"/confirmfile",r,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(e){t(e.data),console.log("Tải file lên thành công")}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải file lên thất bại"),i(t)}):i("error")})},getDetailDossier:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){store.dispatch("loadInitResource").then(function(n){var s={headers:{groupId:i.initData.groupId}};console.log("run"),e>0?(a("setLoading",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i.initData.postDossierApi+"/"+e,s).then(function(e){var i={delegateName:e.data.delegateName,delegateCityCode:e.data.delegateCityCode,delegateAddress:e.data.delegateAddress,delegateDistrictCode:e.data.delegateDistrictCode,delegateWardCode:e.data.delegateWardCode,delegateEmail:e.data.delegateEmail,delegateTelNo:e.data.delegateTelNo,delegateIdNo:e.data.delegateIdNo};t(e.data),a("setLoading",!1),a("setDossier",e.data),a("setThongTinChuHoSo",e.data),a("setLePhi",e.data),a("setThongTinNguoiNopHoSo",i),a("setThongTinChungHoSo",e.data),a("setDichVuChuyenPhatKetQua",e.data)},function(t){a("setLoading",!1),o(t)}).catch(function(t){console.log(t)})):t()})})},getGovAgency:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){var i={headers:{groupId:a.initData.groupId},params:{sort:"sibling"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.regionApi+"/GOVERMENT_AGENCY/dictitems",i).then(function(e){t(e.data.data)}).catch(function(t){console.log(t)})})},loadDossierFiles:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){var n={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i.initData.dossierApi+"/"+e+"/files",n).then(function(e){a("setDossierFiles",e.data.data),e.data.data?t(e.data.data):t([])}).catch(function(t){console.log(t),o(t)})})},getPaymentFiles:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){var n={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i.initData.dossierApi+"/"+e.dossierId+"/payments/"+e.referenceUid+"/confirmfile",n).then(function(e){200===e.status||"200"===e.status?t("hasPayment"):t(""),e.headers["content-disposition"]?a("setPaymentFileName",e.headers["content-disposition"].split(";")[1].split("=")[1].replace(/\"/g,"")):a("setPaymentFileName","file báo thanh toán")}).catch(function(t){console.log(t),o(t)})})},putPayments:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}},n=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/keypay/"+e.referenceUid+"/"+e.referenceUid,n,o).then(function(e){store.dispatch("getActiveGetCounter",!a.activeGetCounter),e.data?t(e.data):t([])}).catch(function(t){console.log(t),i(t)})})},viewFile:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid,o).then(function(e){var a=window.URL.createObjectURL(e.data);t(a)}).catch(function(t){console.log(t)})})},viewPaymentFile:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/payments/"+e.referenceUid+"/confirmfile",o).then(function(e){var a=window.URL.createObjectURL(e.data);t(a)}).catch(function(t){console.log(t)})})},viewDocument:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/documents/"+e.referenceUid,o).then(function(e){var a=window.URL.createObjectURL(e.data);t(a)}).catch(function(t){console.log(t)})})},postDossier:function(t,e){var a=t.commit,i=t.state;return console.log("data-------------",e),new Promise(function(t,o){a("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:i.initData.cps_auth}},s=new URLSearchParams;s.append("serviceCode",e.serviceCode),s.append("govAgencyCode",e.govAgencyCode),s.append("dossierTemplateNo",e.templateNo),s.append("originality",e.originality),console.log("dataPostdossier-------------",s),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(i.initData.postDossierApi,s,n).then(function(e){e.data.serviceConfig=i.serviceConfigObj,a("setLoading",!1),a("setDossier",e.data),a("setThongTinChuHoSo",e.data),a("setLePhi",e.data),a("setThongTinChungHoSo",e.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),t(e.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)})})},doCopy:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){a("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json"}},s=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(i.initData.postDossierApi+"/"+e.dossierId+"/cloning",s,n).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),t(e.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)})})},doCancel:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){a("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json"}},s=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(i.initData.postDossierApi+"/"+e.dossierId+"/cancel",s,n).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),t(e.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)})})},putDossier:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){a("setLoading",!1);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:i.initData.cps_auth}},s="";s=e.userType?"citizen":"business";var r=!1;null!==e["sameUser"]&&void 0!==e["sameUser"]&&"undefined"!==e["sameUser"]&&(r=e["sameUser"]);var c=new URLSearchParams;c.append("applicantName",e.applicantName),c.append("dossierNo",e.dossierNo?e.dossierNo:""),c.append("applicantIdType",s),c.append("applicantIdNo",e.applicantIdNo),c.append("address",e.address),c.append("cityCode",e.cityCode),c.append("districtCode",e.districtCode),c.append("wardCode",e.wardCode),c.append("contactTelNo",e.contactTelNo),c.append("contactEmail",e.contactEmail),c.append("delegateName",e.delegateName),c.append("delegateIdNo",e.delegateIdNo),c.append("delegateTelNo",e.delegateTelNo),c.append("delegateEmail",e.delegateEmail),c.append("delegateAddress",e.delegateAddress),c.append("delegateCityCode",e.delegateCityCode),c.append("delegateDistrictCode",e.delegateDistrictCode),c.append("delegateWardCode",e.delegateWardCode),c.append("applicantNote",i.applicantNote),1!==e.originality&&c.append("dossierName",e.dossierName),c.append("isSameAsApplicant",r),e.editable&&c.append("dueDate",e.dueDate?e.dueDate:""),e.viaPostal&&(c.append("viaPostal",e.viaPostal),c.append("postalServiceCode",e.postalServiceCode),c.append("postalAddress",e.postalAddress),c.append("postalCityCode",e.postalCityCode),c.append("postalTelNo",e.postalTelNo)),c.append("sampleCount",e.sampleCount?e.sampleCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(i.initData.postDossierApi+"/"+e.dossierId,c,n).then(function(e){t(e.data),a("setLoading",!1),a("setDossier",e.data),a("setThongTinChuHoSo",e.data),a("setThongTinChungHoSo",e.data),a("setLePhi",e.data),a("setDichVuChuyenPhatKetQua",e.data)}).catch(function(t){o(t)})})},updateApplicantNote:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:a.initData.cps_auth}},n=new URLSearchParams;n.append("applicantNote",a.applicantNote),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.postDossierApi+"/"+e.dossierId,n,o).then(function(e){t(e.data)}).catch(function(t){i(t)})})},getApplicantInfos:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/applicants/ngsp/"+e.applicantIdNo,o).then(function(e){e.data&&e.data["Data"]&&t(e.data["Data"])}).catch(function(t){console.log(t),i(t)})})},checkApplicantInfos:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId?a.initData.groupId:"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},n=a.endPointApi+"/applicants/ngsp/verify",s=new URLSearchParams;s.append("applicantIdNo",e.applicantIdNo?e.applicantIdNo:""),s.append("applicantName",e.applicantName?e.applicantName:""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n,s,o).then(function(e){t(e.data)}).catch(function(t){i(t)})})},getDossierFilesApplicants:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/applicant/"+e.applicantIdNo+"/files/"+e.fileTemplateNo+"/search",o).then(function(e){e.data.data?t(e.data.data):t([])}).catch(function(t){console.log(t),i(t)})})},putDuedateDossier:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){a("setLoading",!1);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},s=new URLSearchParams;s.append("dueDate",e),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(i.initData.postDossierApi+"/"+i.thongTinChungHoSo.dossierId,s,n).then(function(e){t(e.data)}).catch(function(t){o(t)})})},submitDossier:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+a.thongTinChungHoSo.dossierId+"/submitting",i).then(function(e){t(e.data)}).catch(function(t){e(t),console.log(t)})})},postDossierMark:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:a.initData.cps_auth}},n=new URLSearchParams;1===e["checkInput"]?(void 0!==e.fileCheck&&"undefined"!==e.fileCheck&&null!==e.fileCheck&&n.append("fileCheck",e.fileCheck),void 0!==e.fileComment&&"undefined"!==e.fileComment&&null!==e.fileComment&&n.append("fileComment",e.fileComment)):void 0!==e.fileMark&&"undefined"!==e.fileMark&&null!==e.fileMark&&n.append("fileMark",e.fileMark);var s=a.initData.dossierApi+"/"+e.dossierId+"/marks/"+e.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,n,o).then(function(e){t(e.data)}).catch(function(t){i(t)})})},postAction:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){a("setLoading",!0);var n={headers:{groupId:i.initData.groupId}},s=new URLSearchParams;s.append("actionCode",e.actionCode?e.actionCode:""),s.append("actionNote",e.actionNote?e.actionNote:""),s.append("actionUser",e.actionUser?e.actionUser:""),s.append("payload",e.payload?JSON.stringify(e.payload):""),s.append("security",e.security?e.security:""),s.append("assignUsers",e.assignUsers?JSON.stringify(e.assignUsers):""),s.append("payment",e.payment?JSON.stringify(e.payment):""),s.append("createDossiers",e.createDossiers?e.createDossiers:"");var r=i.initData.dossierApi+"/"+e.dossierId+"/actions";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,s,n).then(function(e){t(e.data),a("setLoading",!1),store.dispatch("getActiveGetCounter",!i.activeGetCounter)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),store.commit("setLoading",!1)})})},getUserInfoFromApplicantIdNo:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId},params:{start:0,end:5,idNo:e.idNo}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.applicantApi,n).then(function(e){t(e.data.data)}).catch(function(t){console.log(t),i(t)})})})},loadAlpcaForm:function loadAlpcaForm(_ref47,data){var commit=_ref47.commit,state=_ref47.state,dispatch=_ref47.dispatch;console.log("alpaca");var id=data["id"]?data["id"]:"nm",formScript,formData;window.$("#formAlpaca"+data.dossierPartNo+id).empty(),formScript=data.formScript?eval("("+data.formScript+")"):{},formData=data.formData?eval("("+data.formData+")"):{},formScript.data=formData,window.$("#formAlpaca"+data.dossierPartNo+id).alpaca(formScript)},putAlpacaForm:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId,cps_auth:a.initData.cps_auth}},n=e["id"]?e["id"]:"nm";try{var s=window.$("#formAlpaca"+e.dossierPartNo+n).alpaca("get"),r=s.getValue(),c=window.$("#formAlpaca"+e.dossierPartNo+n).alpaca("get").childrenByPropertyId;if(c)for(var d in c)if(c[d].isRequired()&&""===c[d].getValue())return void toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(c[d].options.placeholder?c[d].options.placeholder+" là trường dữ liệu bắt buộc":c[d].options["name"]+" là trường dữ liệu bắt buộc");var l=new URLSearchParams;l.append("formdata",JSON.stringify(r));var u=a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid+"/formdata";axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(u,l,o).then(function(e){t(e.data)}).catch(function(t){i(e)})}catch(p){console.log(p),i(e)}})},rollBack:function(t,e){var a=t.state;t.commit;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};try{var n=new URLSearchParams,s=a.initData.dossierApi+"/"+e.dossierId+"/rollback";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,n,o).then(function(e){t(e.data),store.dispatch("getActiveGetCounter",!a.activeGetCounter)}).catch(function(t){i(e)})}catch(r){console.log(r),i(e)}})},goToStep:function(t,e){var a=t.state;t.commit;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};try{var n=new URLSearchParams,s=a.initData.dossierApi+"/"+e.dossierId+"/goto/"+e.stepCode;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,n,o).then(function(e){t(e.data),store.dispatch("getActiveGetCounter",!a.activeGetCounter)}).catch(function(t){i(e)})}catch(r){console.log(r),i(e)}})},postEform:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}};try{var n=e["id"]?e["id"]:"nm",s=new FormData,r=window.$("#formAlpaca"+e.partNo+n).alpaca("get"),c=r.getValue();s.append("formData",JSON.stringify(c)),s.append("file","");var d=window.$("#formAlpaca"+e.partNo+n).alpaca("get").childrenByPropertyId;if(d)for(var l in d)if(d[l].isRequired()&&""===d[l].getValue())return void toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(d[l].options.placeholder?d[l].options.placeholder+" là trường dữ liệu bắt buộc":d[l].options["name"]+" là trường dữ liệu bắt buộc");var u=a.initData.dossierApi+"/"+e.dossierId+"/eforms/"+e.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(u,s,o).then(function(e){t(e.data)}).catch(function(t){i(e)})}catch(p){console.log(p),i(e)}})},postEformEsignature:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}};try{var n=new FormData;n.append("formData",JSON.stringify(JSON.parse(e.formData))),n.append("file","");var s=a.initData.dossierApi+"/"+e.dossierId+"/eforms/"+e.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,n,o).then(function(e){t(e.data)}).catch(function(t){i(e)})}catch(r){console.log(r),i(e)}})},postVNPOST:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){a("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},s=new URLSearchParams;s.append("customerCode","ccth"),s.append("orderNumber",i.thongTinChungHoSo.dossierId),s.append("senderProvince",e.senderProvince),s.append("senderAddress",e.senderAddress),s.append("senderName",e.senderName),s.append("senderTel",e.senderTel),s.append("receiverName",e.receiverName),s.append("receiverAddress",e.receiverAddress),s.append("receiverTel",e.receiverTel),s.append("receiverProvince",e.receiverProvince);var r="/o/rest/v2/postal/vnpost";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,s,n).then(function(e){t(e.data),a("setLoading",!1)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)})})},getDossierTemplateEdit:function(t){t.commit;var e=t.state;return new Promise(function(t,a){var i=e.dossierTemplates,o=[];try{0===e.dossierFiles.length?dispatch("loadDossierFiles").then(function(e){e.forEach(function(t){i.forEach(function(e){t.dossierPartNo===e.partNo&&o.push({partName:e.partName,partNo:e.partNo,displayName:t.displayName,dossierFileId:t.dossierFileId,partType:e.partType,hasForm:e.hasForm,fileType:t.fileType,referenceUid:t.referenceUid})})}),t(o)}).catch(function(e){console.log(e),t([])}):e.dossierFiles.forEach(function(t){i.forEach(function(e){t.dossierPartNo===e.partNo&&o.push({partName:e.partName,partNo:e.partNo,displayName:t.displayName,dossierFileId:t.dossierFileId,partType:e.partType,hasForm:e.hasForm,fileType:t.fileType,referenceUid:t.referenceUid})})}),t(o),console.log(o)}catch(n){console.log(n),a([])}})},loadPlugin:function loadPlugin(_ref55,item){var commit=_ref55.commit,state=_ref55.state;return new Promise(function(resolve,reject){item.plugin=!0;var urlPluginFormData=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formdata",urlPluginFormScript=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formscript",config_plugins={headers:{groupId:state.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormScript,config_plugins),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormData,config_plugins)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(urlResponesFormScript,urlResponesFormData){var responseScript=urlResponesFormScript.data,responseData=urlResponesFormData.data;if(console.log("responseScript==============",responseScript),item.plugin=!0,-1!==responseScript.indexOf("#preview@pdf")){console.log("view pdf");var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/preview",config_blob={headers:{groupId:state.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url,config_blob).then(function(t){var e=window.URL.createObjectURL(t.data);item.pdf=!0,item.url=e,item.no_pdf="",resolve(item)}).catch(function(t){console.log(t),item.pdf=!0,item.url="",item.no_pdf="Tài liệu đính kèm không tồn tại!",resolve(item)})}if(-1!==responseScript.indexOf("#preview@html")){console.log("view html");var config_view={headers:{groupId:state.initData.groupId},dataType:"json"};item.html=!0,item.no_html="";var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/previewhtml";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url,config_view).then(function(response){item.no_html="",vm.stepModel=item;var serializable=response.data,partNo=serializable.partNo,dossierFileId=serializable.dossierFileId,formReport=eval("("+serializable.formReport+")"),formData=eval("("+serializable.formData+")");console.log("formReport======",formReport),console.log("formData======",formData),formReport.data=formData,console.log("formReport_____FINAL=======",formReport),window.$("#alpacajs_form_plugin").alpaca(formReport),window.$(".dossierFilePartNo").val(""),window.$(".dossierFilePartNo").attr("id","dossierFileId"+partNo),window.$(".dossierFilePartNo").val(dossierFileId)}).catch(function(t){console.log(t),item.html=!0,item.no_html="Tài liệu đính kèm không tồn tại!",resolve(item)})}})).catch(function(t){console.log(t),reject(t)})})},getActiveGetCounter:function(t,e){var a=t.commit;t.state;a("setActiveGetCounter",e)},getActiveLoadingDataHoSo:function(t,e){var a=t.commit;t.state;a("setActiveLoadingDataHoSo",e)},setDefaultCityCode:function(t,e){t.commit;var a=t.state;a.thongTinChuHoSo.cityCode=e},getListHistoryProcessingItems:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}},s=[];axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierlogsApi+"/"+e.dossierId+"/logs",n).then(function(e){var a=e.data;for(var i in a.data)"PROCESS_TYPE"===a.data[i].notificationType&&s.push(a.data[i]);t(s)}).catch(function(t){i(t)})})})},loadDossierLogs:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId},params:{notificationType:e.type}},n=a.initData.dossierApi+"/"+e.dossierId+"/logs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,o).then(function(e){t(e.data.data)}).catch(function(t){i(t)})})},loadPlugins:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}},n=a.initData.dossierApi+"/"+e.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,o).then(function(e){t(e.data.data)}).catch(function(t){i(t)})})},downloadFile:function(t,e){t.commit;var a=t.state,i={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.fileAttachId,i).then(function(t){var e=window.URL.createObjectURL(t.data);window.open(e)}).catch(function(t){console.log(t)})},getCpsAuthen:function(t){t.commit;var e=t.state;return new Promise(function(t,a){var i={headers:{groupId:e.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("http://127.0.0.1:8081/api/onegate/token",i).then(function(e){t(e.data)}).catch(function(t){a(t)})})},loadUsersComment:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o=[],n={headers:{groupId:a.initData.groupId},params:{userMapping:!0}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e+"/contacts",n).then(function(e){if(null!=e&&e.hasOwnProperty("data")){var a=e.data;jquery__WEBPACK_IMPORTED_MODULE_5___default.a.each(a,function(t,e){var a={};a.id=e.userId,a.fullname=e.userName,a.email=e.email,a.profilePictureURL=e.profileUrl,o.push(a)})}else o=[];t(o)}).catch(function(t){o=[],i(o)})})},loadCommentItems:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.commentApi+"/"+e.className+"/"+e.classPK,o).then(function(e){t(e.data.data)}).catch(function(t){i(t)})})},postComment:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}},n=e.pings.join(),s=new URLSearchParams;s.append("className",e.className),s.append("classPK",e.classPK),s.append("parent",null!=e.parent?e.parent:0),s.append("pings",n),s.append("content",e.content),s.append("upvoteCount",null!=e.upvoteCount?e.upvoteCount:0),s.append("opinion",e.opinion),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.commentApi,s,o).then(function(e){var a={};null!=e&&(a=e.data,console.log("resPostCmt",a)),t(a)}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),console.log(t)})})},putComment:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}},n=e.pings.join(),s=new URLSearchParams;s.append("pings",n),s.append("content",e.content),console.log("dataPut",e),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.commentApi+"/"+e.commentId,s,o).then(function(e){var a={};null!=e&&(a=e.data),t(a)}).catch(function(t){console.log(t)})})},deleteComment:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.commentApi+"/"+e.commentId,o).then(function(e){t(e)}).catch(function(t){i(t)})})},upvoteComment:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};if(e.userHasUpvoted){var n=new URLSearchParams;n.append("className",e.className),n.append("classPK",e.classPK),n.append("commentId",e.commentId),n.append("upvoteCount",null!=e.upvoteCount?e.upvoteCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.commentApi+"/"+e.commentId+"/upvotes",n,o).then(function(e){var a={};null!=e&&(a=e.data),t(a)}).catch(function(t){console.log(t)})}else axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.commentApi+"/"+e.commentId+"/upvotes",o).then(function(e){var a={};null!=e&&(a=e.data),t(a)}).catch(function(t){console.log(t)})})},loadProcessStep:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}},s=a.initData.dossierApi+"/"+e.dossierId+"/nextactions",r=a.initData.dossierApi+"/"+e.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(s,n),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(r,n)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(e,a){var i=e.data.data,o=a.data.data,n=[],s=[];if(i)for(var r=0;r<i.length;r++){if(i[r].type=1,i[r].configNote){var c=JSON.parse(i[r].configNote);i[r].configNote=c}s.push(i[r])}else i=[],s=[];if(o)for(r=0;r<o.length;r++){var d={type:2,processActionId:o[r].processPluginId,actionName:o[r].pluginName};n.push(d)}var l=s,u=n;console.log("nextactions++++++++++++",l),console.log("plugins++++++++++++",u),l.push.apply(l,u),console.log("nextactions2++++++++++++",l),t(l)})).catch(function(t){i(t)})})})},pullNextactions:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){store.dispatch("loadInitResource").then(function(n){console.log("result",n);var s={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i.initData.getNextAction+"/"+e.dossierId+"/nextactions",s).then(function(e){var i=e.data;a("setUserNextAction",[]),a("setCheckInput",i["checkInput"]),a("setStepOverdueNextAction",i["stepOverdue"]),i["users"]&&(Array.isArray(i["users"])?a("setUserNextAction",i["users"]):a("setUserNextAction",[i["users"]])),t(i.data)}).catch(function(t){console.log(t),o(t),a("setUserNextAction",[])})})})},pullBtnConfigStep:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.stepConfigApi+"/status/"+e.dossierStatus+"/"+e.dossierSubStatus,o).then(function(e){var a,i=e.data.data;a=i[0].buttonConfig&&i[0].buttonConfig.indexOf("{")>=0&&JSON.parse(i[0].buttonConfig)["buttons"]?JSON.parse(i[0].buttonConfig)["buttons"]:[],t(a)}).catch(function(t){console.log(t),i(t)})})},loadDossierDocuments:function(t,e){t.commit;var a=t.state,i={headers:{groupId:a.initData.groupId},params:{}},o=a.initData.documentApi+"/"+e.dossierId+"/documents";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(e){e.data.data?t(e.data.data):t([])}).catch(function(t){e(t)})})},loadDossierPayments:function(t,e){t.commit;var a=t.state,i={headers:{groupId:a.initData.groupId},params:{}},o=a.initData.dossierApi+"/"+e.dossierId+"/payment";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(e){t(e.data)}).catch(function(t){e(t)})})},postDossierPayments:function(t,e){t.commit;var a=t.state,i={headers:{groupId:a.initData.groupId}},o=new URLSearchParams;o.append("paymentFee",e.paymentFee),o.append("paymentNote",e.paymentNote);var n=a.initData.dossierApi+"/"+e.dossierId+"/payment";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n,o,i).then(function(e){t(e.data)}).catch(function(t){e(t)})})},loadDossierActions:function(t,e){t.commit;var a=t.state,i={headers:{groupId:a.initData.groupId},params:{stepType:e.stepType}},o=a.initData.dossierApi+"/"+e.dossierId+"/sequences";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(e){t(e.data)}).catch(function(t){e(t)})})},loadMermaidgraph:function(t,e){t.commit;var a=t.state,i={headers:{groupId:a.initData.groupId},params:{stepType:e.stepType}},o=a.initData.dossierApi+"/"+e.dossierId+"/mermaidgraph";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(e){t(e.data)}).catch(function(t){e(t)})})},loadDossierLienThong:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId},params:{originDossierId:e}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi,n).then(function(e){var a=e.data;a.data?t(a.data):t([])}).catch(function(t){i(t)})})})},getDossierUserAsign:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e+"/users",n).then(function(e){var a=e.data;a["data"]?Array.isArray(a["data"])?t(a.data):t([a["data"]]):t([])}).catch(function(t){i(t)})})})},postDossierUserAsign:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}},s=new URLSearchParams;s.append("assignUsers",e.users?JSON.stringify(e.users):""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/"+e.dossierId+"/users",s,n).then(function(e){t(e)}).catch(function(t){i(t)})})})},loadDossierSyncs:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}},n=a.endPointApi+"/dossiers/"+e.dossierId+"/syncs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,o).then(function(e){t(e.data.data)}).catch(function(t){i(t)})})},processDossierRouter:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},s=new URLSearchParams;s.append("actionCode",e.actionCode?e.actionCode:""),s.append("payment",e.payment?JSON.stringify(e.payment):""),s.append("assignUsers",e.toUsers?JSON.stringify(e.toUsers):""),s.append("actionNote",e.userNote?JSON.stringify(e.userNote):""),s.append("payload",e.payload?JSON.stringify(e.payload):""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.getNextAction+"/"+e.dossierId+"/actions",s,n).then(function(e){store.dispatch("getActiveGetCounter",!a.activeGetCounter);var i=e.data;t(i)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},deleteDossier:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.getNextAction+"/"+e.dossierId,n).then(function(e){var i=e.data;store.dispatch("getActiveGetCounter",!a.activeGetCounter),t(i)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},restoreDossier:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/dossiers/"+e.dossierId+"/restore",n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},getListDossierFiles:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e+"/files",o).then(function(e){e.data.data?t(e.data.data):t([])}).catch(function(t){console.log(t),i(t)})})},deleteDossierPatch:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId,Accept:"application/json"}},s=0,r=e["dossierId"].length;for(var c in e.dossierId)axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.getNextAction+"/"+e.dossierId[c],n).then(function(e){var i=e.data;s+=1,s===r&&(store.dispatch("getActiveGetCounter",!a.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!a.activeLoadingDataHoSo)),t(i)}).catch(function(t){console.log(t),s+=1,s===r&&(store.dispatch("getActiveGetCounter",!a.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!a.activeLoadingDataHoSo)),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},doPrint01:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId},responseType:"blob",params:{payload:e.payload}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/documents/preview/"+e.document,n).then(function(e){var a=e.data,i=window.URL.createObjectURL(a);t(i)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},doPrint03:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId},responseType:"blob",params:{payload:e.payload}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/documents/print",n).then(function(e){var a=e.data,i=window.URL.createObjectURL(a);t(i)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},doGuiding:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={serviceCode:e.serviceCode?e.serviceCode:"",serviceName:e.serviceName?e.serviceName:"",typeCode:e.typeCode?e.typeCode:"",templateNo:e.templateNo?e.templateNo:"",applicantName:e.applicantName?e.applicantName:"",applicantAddress:e.applicantAddress?e.applicantAddress:"",applicantEmail:e.applicantEmail?e.applicantEmail:"",applicantTelNo:e.applicantTelNo?e.applicantTelNo:"",employeeName:e.employeeName?e.employeeName:""};e.reportType&&(n["reportType"]=e.reportType);var s={headers:{groupId:a.initData.groupId},responseType:"blob",params:n};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getServiceConfigs+"/"+e.serviceConfigId+"/guide",s).then(function(a){var i=a.data;e.reportType&&file_saver__WEBPACK_IMPORTED_MODULE_6___default()(i,"HDTT"+(new Date).getTime()+".doc");var o=window.URL.createObjectURL(i);t(o)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},doPrint02:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId},responseType:"blob"},s=new URLSearchParams;s.append("serviceCode",e.serviceCode),s.append("govAgencyCode",e.govAgencyCode),s.append("dossiers",e.dossiers),s.append("payload",e.payload),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.getNextAction+"/preview/"+e.document,s,n).then(function(e){var a=e.data,i=window.URL.createObjectURL(a);t(i)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},printPay:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/payments/"+e.referenceUid+"/invoicefile/preview",n).then(function(e){var a=e.data,i=window.URL.createObjectURL(a);t(i)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},processPullBtnDetail:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/nextactions/"+e.actionId,n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),i(t)})})})},getNextAction:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/nextactions/"+e.actionId,n).then(function(e){var a=e.data;t(a)}).catch(function(e){console.log(e),t([]),i(e)})})})},loadFormScript:function(t,e){var a=t.state;t.commit;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:a.initData.dossierTemplatesApi+"/"+e.templateFileNo+"/parts/"+e.partNo+"/formscript",type:"GET",headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){var a=e;t(a)},error:function(e){console.log(e),t(e),i(e)}})})})},loadFormData:function(t,e){var a=t.state;t.commit;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:a.initData.dossierApi+"/"+e.dossierId+"/eforms/"+e.partNo+"/formdata",type:"GET",headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){var a=e;t(a)},error:function(e){console.log(e),t(e),i(e)}})})})},loadDossierCounting:function(t,e){var a=t.state,i=(t.commit,{headers:{groupId:a.initData.groupId}}),o="/o/rest/v2/statistics/dossiers/counting";return new Promise(function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(e){t(e.data)}).catch(function(t){e(t)})})},reassignDossier:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}},s=new URLSearchParams;s.append("toUsers",JSON.stringify(e.toUsers)),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/"+e.dossierId+"/reassign",s,n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(t)})})})},pullProcessSteps:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.stepConfigApi+"/"+e.stepCode,n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),i(t)})})})},loadServiceConfigsGov:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,e){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:i.initData.groupId},params:{}};a("setLoadingGov",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i.initData.serviceConfigByGovApi,n).then(function(e){a("setLoadingGov",!1);var i=e.data;i.govAgencies?t(i.govAgencies):t([])}).catch(function(t){console.log(t),a("setLoadingGov",!1),e(t)})})})},processCheckNextActions:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}},s=e.actionCode.split(",");axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/nextactions",n).then(function(a){var i=a.data,o=i.data,n=e,r=!1;for(var c in s)if(!r)for(var d in o)if(String(s[c])===String(o[d].actionCode)){n.actionCode=o[d].actionCode,r=!0;break}t(n)}).catch(function(t){console.log(t),i(t)})})})},getServiceOpionByProcess:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getServiceConfigs+"/"+e.serviceConfigId+"/processes",n).then(function(e){var a=e.data;a.data?t(a.data):t({})}).catch(function(t){console.log(t),i(t)})})})},getStatusLists:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){store.dispatch("loadInitResource").then(function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/dictcollections/DOSSIER_STATUS/dictitems?parent=0",o).then(function(e){var a=e.data;if(a.data){var i=a.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({itemCode:"",itemName:"toàn bộ"}),t(i)}else t([])}).catch(function(t){console.log(t),e(t)})})})},getVNPOSTcode:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){store.dispatch("loadInitResource").then(function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/VNPOST_CITY_CODE/dictitems",o).then(function(e){var a=e.data;if(a.data){var i=a.data;t(i)}else t([])}).catch(function(t){console.log(t),e(t)})})})},getSubstatusLists:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/DOSSIER_STATUS/dictitems?parent="+e.itemCode,n).then(function(e){var a=e.data;if(a.data){var i=a.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({itemCode:"",itemName:"toàn bộ"}),t(i)}else t([])}).catch(function(t){console.log(t),i(t)})})})},getAgencyLists:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){store.dispatch("loadInitResource").then(function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceinfos/statistics/agencies",o).then(function(e){var a=e.data;if(a.data){var i=a.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({administrationCode:"",administrationName:"toàn bộ"}),t(i)}else t([])}).catch(function(t){console.log(t),e(t)})})})},getServiceLists:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){store.dispatch("loadInitResource").then(function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/serviceinfos",o).then(function(e){var a=e.data;if(a.data){var i=a.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({serviceCode:"",serviceName:"toàn bộ"}),t(i)}else t([])}).catch(function(t){console.log(t),e(t)})})})},getServiceinfoFilter:function(t,e){var a=t.commit,i=t.state;return new Promise(function(t,o){store.dispatch("loadInitResource").then(function(n){var s={headers:{groupId:i.initData.groupId},params:{domain:e.domain}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i.initData.getListThuTucHanhChinh,s).then(function(e){var i=e.data,o=Array.from(i.data);a("setListThuTucHanhChinh",o),t(o)}).catch(function(t){console.log(t),o(t)})})})},getDomainLists:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){store.dispatch("loadInitResource").then(function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/serviceinfos/statistics/domains",o).then(function(e){var a=e.data;if(a.data){var i=a.data;t(i)}else t([])}).catch(function(t){console.log(t),e(t)})})})},getExtraForm:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/nextactions/"+e.actionId+"/payload",n).then(function(e){var a=e.data;a.data?t(a.data):t([])}).catch(function(t){console.log(t),i(t)})})})},getServiceInfo:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.serviceInfoApi+"/"+e.serviceInfoId,n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),i(t)})})})},changeDisplayNameFile:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}},s=new URLSearchParams;s.append("displayName",e.displayName),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.serviceInfoApi+"/"+e.dossierId+"/files/"+e.dossierFileId,s,n).then(function(e){var a=e.data;t(a)}).catch(function(t){console.log(t),i(t)})})})},loadingDossierCounting:function(t,e){t.commit;var a=t.state;return new Promise(function(t,e){store.dispatch("loadInitResource").then(function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/statistics/dossiers/counting",o).then(function(e){var a=e.data;a.hasOwnProperty("data")?t(a.data):t(null)}).catch(function(t){console.log(t),e(t)})})})},loadVoting:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/postal/votings/"+e.className+"/"+e.classPK,n).then(function(e){var a=e.data;a&&a.data?t(a.data):t([])}).catch(function(t){i(t)})})})},submitVoting:function(t,e){t.commit;var a=t.state;return new Promise(function(t,i){store.dispatch("loadInitResource").then(function(o){var n=new URLSearchParams,s={headers:{groupId:a.initData.groupId}};n.append("className",e.className),n.append("classPk",e.classPk),n.append("votingCode",e.votingCode?e.votingCode:""),n.append("selected",e.selected),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/postal/votings/"+e.votingId+"/results",n,s).then(function(e){t(e.data)}).catch(function(t){i(t)})})})},validFileUpload:function(t,e){t.commit,t.state;var a=e.file.name?e.file.name.split("."):"",i=a?a[a.length-1]:"",o=e.partTip["extensions"]?e.partTip["extensions"].split(","):"",n=(e.partTip["maxSize"],o?o.filter(function(t){return t===i}):"");store.commit("setValidFileUpload",!1),n&&n.length>0?Number(e.file.size)<=1048576*e.partTip["maxSize"]||!e.partTip["maxSize"]?store.commit("setValidFileUpload",!0):(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên dung lượng tối đa là "+e.partTip["maxSize"]+" MB"),store.commit("setValidFileUpload",!1)):e.partTip["extensions"]?(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+e.partTip["extensions"]),store.commit("setValidFileUpload",!1)):store.commit("setValidFileUpload",!0)}},mutations:{setLoading:function(t,e){t.loading=e},setLoadingTable:function(t,e){t.loadingTable=e},setLoadingGov:function(t,e){t.loadingGov=e},setValidFileUpload:function(t,e){t.validFileUpload=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null},setIndex:function(t,e){t.index=e},setInitData:function(t,e){t.initData=e},setMenuConfigToDo:function(t,e){t.trangThaiHoSoList=e},setDataPhanCong:function(t,e){t.data_phancong=e},setLoadingDynamicBtn:function(t,e){t.loadingDynamicBtn=e},setListThuTucHanhChinh:function(t,e){t.listThuTucHanhChinh=e},setDossierTemplateName:function(t,e){t.dossierTemplateName=e},setIsDetail:function(t,e){t.isDetail=e},setLePhi:function(t,e){t.lePhi.fee=e.paymentFee,t.lePhi.feeNote=e.paymentFeeNote},setThanhPhanHoso:function(t,e){t.thanhPhanHoSo=e},setThanhPhanHosoTemplates:function(t,e){t.thanhPhanHoSo.dossierTemplates=e},setDataCreateFile:function(t,e){t.dataCreateFile=e},setCheckInput:function(t,e){t.checkInput=e},setUserNextAction:function(t,e){t.usersNextAction=e||[]},setStepOverdueNextAction:function(t,e){t.stepOverdueNextAction=e},setThongTinChuHoSo:function(t,e){var a=!0;"business"===e.applicantIdType&&(a=!1);var i={applicantIdNo:e.applicantIdNo,applicantName:e.applicantName,address:e.address,cityCode:e.cityCode,districtCode:e.districtCode,wardCode:e.wardCode,contactEmail:e.contactEmail,contactTelNo:e.contactTelNo,userType:a};t.thongTinChuHoSo=i},setThongTinChuHoSoBindChuyenPhat:function(t,e){t.thongTinChuHoSoBindChuyenPhat={cityCode:e.cityCode,districtCode:e.districtCode,wardCode:e.wardCode,address:e.address,contactTelNo:e.contactTelNo}},setThongTinNguoiNopHoSo:function(t,e){t.thongTinNguoiNopHoSo=Object.assign(t.thongTinNguoiNopHoSo,e)},setDichVuChuyenPhatKetQua:function(t,e){var a={viaPostal:e.viaPostal,postalServiceCode:e.postalServiceCode?e.postalServiceCode:"",postalAddress:e.postalAddress?e.postalAddress:"",postalCityCode:e.postalCityCode?e.postalCityCode:"",postalDistrictCode:e.postalDistrictCode?e.postalDistrictCode:"",postalWardCode:e.postalWardCode?e.postalWardCode:"",postalTelNo:e.postalTelNo?e.postalTelNo:""};t.dichVuChuyenPhatKetQua=a},setViaPostal:function(t,e){t.viaPostal=e},setServiceConfigObj:function(t,e){t.serviceConfigObj=e},setThongTinChungHoSo:function(t,e){var a;if(1===e.processUnit&&e.processBlock>8){var i,o=Math.floor(e.processBlock/8)+" ngày";i=e.processBlock%8!==0?8*(e.processBlock/8-Math.floor(e.processBlock/8))+" giờ":"",a="".concat(o," ").concat(i)}else 0===e.processUnit?a=e.processBlock+" ngày":1===e.processUnit&&e.processBlock<=8&&(a=e.processBlock+" giờ");var n={dossierTemplateNo:e.dossierTemplateNo,dossierTemplateName:e.dossierTemplateName,serviceName:e.serviceName,serviceConfig:e.serviceConfig,serviceOption:e.dossierTemplateNo,receiveDate:new Date(e.receiveDate),dueDate:new Date(e.dueDate).toString(),durationDate:a,dossierId:e.dossierId,dossierIdCTN:e.dossierIdCTN,dossierStatus:e.dossierStatus,dossierNo:e.dossierNo,govAgencyName:e.govAgencyName,dossierStatusText:e.dossierStatusText,submitDate:e.submitDate};t.thongTinChungHoSo=n},setThongTinChungHoSoDueDate:function(t,e){t.thongTinChungHoSo.dueDate=e},setThongTinChungHoSoDurationDate:function(t,e){t.thongTinChungHoSo.durationDate=e},setThongTinChungHoSoReceiveDate:function(t,e){t.thongTinChungHoSo.receiveDate=e},setserviceConfigItems:function(t,e){t.serviceConfigItems=e},setServiceOptionItems:function(t,e){t.serviceOptionItems=e},setServiceOptionThongTinChungHoSo:function(t,e){t.thongTinChungHoSo.serviceOption=e},setCitys:function(t,e){t.citys=e},dossierSelected:function(t,e){t.dossierSelected=e},actionActive:function(t,e){t.actionActive=e},setResultServices:function(t,e){t.resultServices=e},setDossierTemplates:function(t,e){t.dossierTemplates=e},setDossier:function(t,e){t.dossier=e},setDanhSachHoSo:function(t,e){t.danhSachHoSo=e},setCityVal:function(t,e){t.cityVal=e},setDistrictVal:function(t,e){t.districtVal=e},setWardVal:function(t,e){t.wardVal=e},setDossierFiles:function(t,e){t.dossierFiles=e},setSameUser:function(t,e){t.thongTinNguoiNopHoSo.sameUser=e},setSameUser2:function(t,e){t.sameUser2=e},setPrintPH:function(t,e){t.printPH=e},setlistHistoryProcessingItems:function(t,e){t.listHistoryProcessingItems=e},setUsersComment:function(t,e){t.usersComment=e},setCommentItems:function(t,e){t.commentItems=e},setKysoSuccess:function(t,e){t.kysoSuccess=e},setActiveGetCounter:function(t,e){t.activeGetCounter=e},setActiveLoadingDataHoSo:function(t,e){t.activeLoadingDataHoSo=e},setDataCreateDossier:function(t,e){t.dataCreateDossier=e},setPaymentProfile:function(t,e){t.paymentProfile=e},setPaymentFileName:function(t,e){t.paymentFileName=e},setApplicantBussinessExit:function(t,e){t.applicantBussinessExit=e},setApplicantNote:function(t,e){t.applicantNote=e},setApplicantId:function(t,e){t.applicantId=e}},getters:{loading:function(t){return t.loading},loadingTable:function(t){return t.loadingTable},loadingGov:function(t){return t.loadingGov},error:function(t){return t.error},index:function(t){return t.index},dossierSelected:function(t){return t.dossierSelected},actionActive:function(t){return t.actionActive},loadingMenuConfigToDo:function(t){return new Promise(function(t,e){store.dispatch("loadMenuConfigToDo").then(function(e){t(e)})})},loadingInitData:function(t){return console.log("loadingInitDataloadingInitDataloadingInitDataloadingInitData: ",t.initData),t.initData},loadingDynamicBtn:function(t){return t.loadingDynamicBtn},loadingListThuTucHanhChinh:function(t){store.dispatch("loadListThuTucHanhChinh")},lePhi:function(t){return t.lePhi},isDetail:function(t){return t.isDetail},dossierTemplateName:function(t){return t.dossierTemplateName},thongTinChungHoSo:function(t,e){return t.thongTinChungHoSo},thongTinChuHoSo:function(t){return t.thongTinChuHoSo},thongTinChuHoSoBindChuyenPhat:function(t){return t.thongTinChuHoSoBindChuyenPhat},kysoSuccess:function(t){return t.kysoSuccess},activeGetCounter:function(t){return t.activeGetCounter},activeLoadingDataHoSo:function(t){return t.activeLoadingDataHoSo},thanhPhanHoSo:function(t){return t.thanhPhanHoSo},thongTinNguoiNopHoSo:function(t){return t.thongTinNguoiNopHoSo},dichVuChuyenPhatKetQua:function(t){return t.dichVuChuyenPhatKetQua},viaPostal:function(t){return t.viaPostal},serviceOptionItems:function(t){return t.serviceOptionItems},getDictItems:function(t){return function(e){return"ADMINISTRATIVE_REGION"===e.collectionCode&&0===e.level?null==t.citys?store.dispatch("loadDictItems",e):new Promise(function(e,a){e({total:t.citys.length,data:t.citys})}):store.dispatch("loadDictItems",e)}},getDataCreateFile:function(t){return t.dataCreateFile},getCheckInput:function(t){return t.checkInput},getUsersNextAction:function(t){return t.usersNextAction},getStepOverdueNextAction:function(t){return t.stepOverdueNextAction},resultServices:function(t){return t.resultServices},dossierTemplates:function(t){return t.dossierTemplates},dataDetailDossier:function(t){return t.dossier},dossier:function(t){return t.dossier},getCityVal:function(t){return t.cityVal},getDistrictVal:function(t){return t.districtVal},getWardVal:function(t){return t.wardVal},dossierFiles:function(t){return t.dossierFiles},sameUser2:function(t){return t.sameUser2},getVnpostCodeItems:function(t){return t.vnpostCodeItems},listHistoryProcessingItems:function(t){return t.listHistoryProcessingItems},subStatusNew:function(t){return t.subStatusNew},usersComment:function(t){return t.usersComment},commentItems:function(t){return t.commentItems},dataPhanCong:function(t){return t.data_phancong},getDataCreateDossier:function(t){return t.dataCreateDossier},getPaymentProfile:function(t){return t.paymentProfile},getPaymentFileName:function(t){return t.paymentFileName},getUser:function(t){return t.user},getApplicantIdNo:function(t){return t.applicantId},getApplicantNote:function(t){return t.applicantNote},getApplicantBussinessExit:function(t){return t.applicantBussinessExit}}})},"56d7":function(t,e,a){"use strict";a.r(e);a("0f18");var i=a("a026"),o=a("bb71");a("74ef");i["a"].use(o["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app_dynamic_report"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"240"}}),a("v-content",[a("router-view")],1)],1)},s=[],r={data:function(){return{}}},c=r,d=a("2877"),l=a("6544"),u=a.n(l),p=a("7496"),_=a("549c"),f=a("f774"),m=Object(d["a"])(c,n,s,!1,null,null,null);m.options.__file="App.vue";var h=m.exports;u()(m,{VApp:p["a"],VContent:_["a"],VNavigationDrawer:f["a"]});var g=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n 2222222111111111222ttttsdfsfs\n")])},D=[],P={data:function(){return{}}},I=P,C=Object(d["a"])(I,v,D,!1,null,null,null);C.options.__file="Landing.vue";var E=C.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  uuuttttttttttt 12312 3123  1231\n  "),a("v-layout",{attrs:{wrap:""}},[a("div",t._l(t.dossierCounting,function(e,i){return a("v-chip",{key:i},["deleted"===e.key?a("v-avatar",[a("v-icon",{attrs:{size:"16"}},[t._v("delete")])],1):a("v-avatar",[t._v(t._s(e.count))]),t._v("\n        "+t._s(e.title)+"\n      ")],1)}),1)])],1)},y=[],O={props:["index"],data:function(){return{dossierCounting:[]}}},A=O,x=a("8212"),w=a("cc20"),N=a("132d"),M=a("a722"),b=Object(d["a"])(A,T,y,!1,null,null,null);b.options.__file="TiepNhanHoSoDetail.vue";var L=b.exports;u()(b,{VAvatar:x["a"],VChip:w["a"],VIcon:N["a"],VLayout:M["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  9816313910231203\n")])},U=[],R={props:["index"],data:function(){return{}}},B=R,k=Object(d["a"])(B,S,U,!1,null,null,null);k.options.__file="HoanThienBoSungHoSoDetail.vue";var K=k.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  13123\n")])},F=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-chitiet"},[a("div",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(e){t.getNextActions()}}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===t.originality?a("span",[t._v("XỬ LÝ HỒ SƠ")]):a("span",[t._v("CHUẨN BỊ HỒ SƠ")])])],1),a("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==t.checkInput&&t.filterNextActionEnable(t.btnDossierDynamics)?a("div",{staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[t._v("\n                123\n              ")])],1)],1):t._e(),t.btnStateVisible?a("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[t._l(t.btnPlugins,function(e,i){return a("v-btn",{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:t.loadingPlugin,disabled:t.loadingPlugin},nativeOn:{click:function(a){t.processPullBtnplugin(e,i)}}},[t._v("\n              "+t._s(e.pluginName)+"\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])}),t.btnStepsDynamics.length>0&&t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?a("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Khác   "),a("v-icon",{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),a("v-list",t._l(t.btnStepsDynamics,function(e,i){return a("v-list-tile",{key:i,on:{click:function(a){t.btnActionEvent(e,i)}}},[a("v-list-tile-title",[t._v(t._s(e.title))])],1)}),1)],1):t._e()],2):t._e()])],1)],1)],1)])},V=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[t._l(t.dossierTemplateItems,function(e,i){return t.partTypes.includes(e.partType)&&t.checkVisibleTemp(e,i)?a("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[t.currentFormView==="formAlpaca"+e.partNo+t.id]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(a){t.onlyView&&e.hasForm?t.viewFile2(e):t.loadAlpcaForm(e)}}},[a("div",{staticClass:"header__tphs"},[a("span",{staticClass:"text-bold"},[t._v(t._s(i+1)+".")]),t._v("  ")]),a("div",{staticClass:"header__tphs"},[a("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(e.partName)+"  \n                      "),e.required?a("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                        \n                    ")]),e.partTip["tip"]?a("span",[t._v(t._s(e.partTip["tip"]))]):t._e()]),e.hasForm&&e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),e.hasForm&&!e.daKhai&&(1===t.originality&&2!==e.partType||1!==t.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),a("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){a.stopPropagation(),t.downloadFileTemplate(e,i)}},slot:"activator"},[t._v("save_alt")]),a("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter"))return null;t.changeFileComment(e,i)}},model:{value:e.fileComment,callback:function(a){t.$set(e,"fileComment",a)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){a.stopPropagation(),t.changeFileComment(e,i)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),a("span",[t._v("Gửi")])],1):t._e()],1),e.fileComment&&!e.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(e.fileComment))]):t._e(),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),a("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,function(i,o){return e.partNo!==i.dossierPartNo||i.eForm?t._e():a("div",{key:o},[a("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(i)}}},[0!==i.fileSize?a("v-icon",[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(i.displayName)+" - \n                    "),a("i",[t._v(t._s(i.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(i,o)}}},[a("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])}),a("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+e.partNo}},t._l(t.dossierFilesApplicant,function(i,o){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&e.partNo===i.dossierPartNo?a("div",{key:o},[i.eForm?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(i.referenceUid)+"."+t._s(i.fileType)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])]),a("span",[t._v("Bản khai trực tuyến")])])],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?a("v-icon",{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(i.displayName)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])],1),a("span",[t._v("Đính kèm")])])],1)]):t._e()}),0)],2)]),e.hasForm&&!t.onlyView?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.saveAlpacaForm(e,i)}}},[t._v("Lưu lại")]):t._e(),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.deleteSingleFileEform(e,i)}}},[t._v("Xóa")]):t._e(),e.daKhai&&e.hasForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.previewFileEfom(e,i)}}},[t._v("In")]):t._e()],1),!t.onlyView||e.daKhai?a("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e()])],1)],1)],1):t._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[a("v-select",{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(e){t.changeFileMark(e,i)}},model:{value:t.dossierTemplateItems[i].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){t.changeFileCheck(e,i)}},model:{value:t.dossierTemplateItems[i].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[i],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):e.fileCheck>0?a("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),a("span",[t._v("Đạt")])],1):2===e.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),a("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?a("v-flex",{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(a){t.onUploadSingleFile(a,e,i)}}}),3!==e.partType||3!==t.originality||t.onlyView?t._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.addFileOther(e)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),a("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===e.partNo?a("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===e.partNo||t.onlyView?t._e():a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.pickFile(e)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?a("span",[t._v("Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB ")]):a("span",[t._v("Tải file lên")])],1),t.partNoApplicantHasFile(e.partNo)&&!t.onlyView?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){t.showFilesApplicant(e.partNo)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("warning")])],1)],1),a("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1):t._e()}),t.partTypes.includes(2)?t._e():a("div",[a("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!t.onlyView||t.onlyView&&t.applicantNoteDossier?a("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[t._v("Ghi chú:")]):t._e(),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[t.onlyView?t._e():a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?a("p",{staticClass:"my-0 py-2"},[t._v("\n            "+t._s(t.applicantNoteDossier)+" \n          ")]):t._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[t._v("Tên giấy tờ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[a("v-icon",[t._v("clear")])],1),t.loadingAddOther?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[t._v("\n              Quay lại\n            ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate(e)}}},[t._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t.pdfEform?a("span",[t._v("Bản khai trực tuyến")]):a("span",[t._v("File đính kèm")])]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a("v-icon",[t._v("clear")])],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},G=[],z={data:function(){return{}}},q=z,Y=a("4ca6"),$=a("8336"),J=a("b0af"),Q=a("99d9"),X=a("12b2"),Z=a("169a"),tt=a("cd55"),et=a("49e2"),at=a("0e8f"),it=a("4bd4"),ot=a("490a"),nt=a("8e36"),st=a("b56d"),rt=a("9910"),ct=a("2677"),dt=a("3a2f"),lt=Object(d["a"])(q,j,G,!1,null,null,null);lt.options.__file="TiepNhanHoSo_ThanhPhanHoSo.vue";var ut=lt.exports;u()(lt,{VBadge:Y["a"],VBtn:$["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:X["a"],VDialog:Z["a"],VExpansionPanel:tt["a"],VExpansionPanelContent:et["a"],VFlex:at["a"],VForm:it["a"],VIcon:N["a"],VLayout:M["a"],VProgressCircular:ot["a"],VProgressLinear:nt["a"],VSelect:st["a"],VSpacer:rt["a"],VTextField:ct["a"],VTooltip:dt["a"]});var pt={props:["index","id"],components:{"thanh-phan-ho-so":ut},data:function(){return{}}},_t=pt,ft=a("8860"),mt=a("ba95"),ht=a("5d23"),gt=a("e449"),vt=a("71a3"),Dt=a("c671"),Pt=a("fe57"),It=a("aac8"),Ct=a("9a96"),Et=Object(d["a"])(_t,H,V,!1,null,null,null);Et.options.__file="XemChiTietHoSoDetailCanBo.vue";var Tt=Et.exports;u()(Et,{VBtn:$["a"],VExpansionPanel:tt["a"],VExpansionPanelContent:et["a"],VIcon:N["a"],VList:ft["a"],VListTile:mt["a"],VListTileTitle:ht["b"],VMenu:gt["a"],VTab:vt["a"],VTabItem:Dt["a"],VTabs:Pt["a"],VTabsItems:It["a"],VTabsSlider:Ct["a"]});var yt={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Tt},data:function(){return{initData:null,step:""}}},Ot=yt,At=Object(d["a"])(Ot,W,F,!1,null,null,null);At.options.__file="DetailForward.vue";var xt=At.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},Nt=[],Mt={},bt=Mt,Lt=a("a523"),St=Object(d["a"])(bt,wt,Nt,!1,null,null,null);St.options.__file="NotFound.vue";var Ut=St.exports;u()(St,{VContainer:Lt["a"],VFlex:at["a"],VLayout:M["a"],VProgressCircular:ot["a"]});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n xaf asdf  3 ew faer aer ea erer\n")])},Bt=[],kt={data:function(){return{}}},Kt=kt,Wt=Object(d["a"])(Kt,Rt,Bt,!1,null,null,null);Wt.options.__file="Landing.vue";var Ft=Wt.exports,Ht=[{path:"/bao-cao/:index",name:"LandingBaocao",component:Ft,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:E,props:!0},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:L,props:!0},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:K,props:!0},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:xt,props:!0},{path:"*",name:"NotFound",component:Ut}];i["a"].use(g["a"]);var Vt=new g["a"]({routes:Ht}),jt=Vt,Gt=a("4360"),zt=a("967d"),qt=(a("5a9d"),a("a576"),a("470b"),a("bc3a")),Yt=a.n(qt);Yt.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",i["a"].use(zt["default"]),i["a"].config.productionTip=!0,i["a"].mixin({methods:{getOriginality:function(){return 3}}}),new i["a"]({router:jt,store:Gt["a"],beforeCreate:function(){var t=this;t.$store.dispatch("loadInitResource")},render:function(t){return t(h)}}).$mount("#app_dynamic_report")},"74ef":function(t,e,a){},bbd0:function(t){t.exports={initData:{menuConfigToDo:"/o/rest/v2_1/menuconfigs/todo",counterMenuStep:"/o/rest/v2/statistics/dossiers/todo",getListThuTucHanhChinh:"/o/rest/v2/onegate/serviceconfigs/processes",serviceInfoApi:"/o/rest/v2/serviceinfos",regionApi:"/o/rest/v2/dictcollections",postDossierApi:"/o/rest/v2/dossiers",dossierTemplatesApi:"/o/rest/v2/dossiertemplates",applicantApi:"/o/rest/v2/applicants",dossierlogsApi:"/o/rest/v2/dossierlogs",dossierApi:"/o/rest/v2/dossiers",serviceProcessesApi:"/o/rest/v2/serviceprocesses",serviceConfigApi:"/o/rest/v2/serviceconfigs",serviceConfigByGovApi:"/o/rest/v2/serviceconfigs/govagencies",getNextAction:"/o/rest/v2/dossiers",documentApi:"/o/rest/v2_1/dossiers",stepConfigApi:"/o/rest/v2_1/stepconfigs",getServiceConfigs:"/o/rest/v2/serviceconfigs",commentApi:"/o/rest/v2/comments"},renderURLInit:"?p_p_id=OneGate&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit",dossierTemplates:[{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0}],advSearchTools:[{index:0,value:"adv_0",text:"Lọc hồ sơ theo năm - tháng - ngày",type:"select",dataSource:"data",spec:"year_month_day",display:!1,disabled:!1},{index:1,value:"adv_1",text:"Lọc hồ sơ theo top",type:"select",dataSource:"data",spec:"top",display:!1,disabled:!1},{index:2,value:"adv_2",text:"Lọc trạng thái hồ sơ",type:"select",dataSource:"getStatusLists",spec:"status",display:!1,disabled:!1},{index:3,value:"adv_3",text:"Lọc trạng thái con",type:"select",dataSource:"getSubstatusLists",spec:"substatus",display:!1,disabled:!1},{index:4,value:"adv_4",text:"Lọc theo mã đơn vị",type:"select",dataSource:"getAgencyLists",spec:"agency",display:!1,disabled:!1},{index:5,value:"adv_5",text:"Lọc theo mã thủ tục",type:"select",dataSource:"getServiceLists",spec:"service",display:!1,disabled:!1},{index:6,value:"adv_6",text:"Lọc theo lĩnh vực",type:"select",dataSource:"getDomainLists",spec:"domain",display:!1,disabled:!1},{index:7,value:"adv_7",text:"Tìm theo mã sổ theo dõi",type:"text",spec:"register",display:!1,disabled:!1}]}}});
//# sourceMappingURL=app.7d401a37.js.map