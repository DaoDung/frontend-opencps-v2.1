(function(e){function t(t){for(var i,s,r=t[0],d=t[1],c=t[2],p=0,u=[];p<r.length;p++)s=r[p],o[s]&&u.push(o[s][0]),o[s]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);l&&l(t);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,r=1;r<a.length;r++){var d=a[r];0!==o[d]&&(i=!1)}i&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},o={app:0},n=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var l=d;n.push(["56d7","chunk-vendors"]),a()})({4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),jquery__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__),file_saver__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_6__);vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.options={closeButton:!0,timeOut:"15000"};const store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{initData:_support_json__WEBPACK_IMPORTED_MODULE_4__.initData,endPointApi:"/o/rest/v2",loading:!1,loadingTable:!1,loadingDynamicBtn:!1,loadingGov:!1,validFileUpload:!1,fileTypeTPHS:["png","jpg","jpeg","pdf","docx","doc","xls","xlsx","txt","rtf"],fileTypePAYMENT:["png","jpg","jpeg"],error:null,user:{role:""},index:0,kysoSuccess:!1,activeGetCounter:!1,activeLoadingDataHoSo:!1,trangThaiHoSoList:null,listThuTucHanhChinh:null,checkInput:0,stepOverdueNextAction:"",usersNextAction:[],lePhi:{fee:"",feeNote:"",request:""},dossier:{applicantIdNo:"ccc"},dossierSelected:[],actionActive:{},serviceConfigObj:{},dossierTemplateName:"",thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:""},vnpostCodeItems:[],serviceConfigItems:null,serviceOptionItems:[],citys:null,cityVal:null,districtVal:null,wardVal:null,resultServices:null,dossierFiles:[],listHistoryProcessingItems:[],thanhPhanHoSo:{dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates},dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates,applicantId:"",applicantBussinessExit:!1,applicantNote:"",thongTinChuHoSo:{userType:!0,cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""},thongTinChuHoSoBindChuyenPhat:{cityCode:"",districtCode:"",wardCode:"",address:"",contactTelNo:""},thongTinNguoiNopHoSo:{sameUser:!0,delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""},dichVuChuyenPhatKetQua:{viaPostal:0,postalServiceCode:"",postalAddress:"",postalCityCode:"",postalDistrictCode:"",postalWardCode:"",postalTelNo:""},viaPostal:0,data_phancong:[],dataCreateDossier:{},dataCreateFile:[],paymentProfile:"",paymentFileName:""},actions:{clearError({commit:e}){e("clearError")},loadInitResource({commit:e,state:t}){return new Promise((a,i)=>{null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20164}),""===t["user"].role&&store.dispatch("getRoleUser").then(function(e){t["user"].role=e}).catch(function(e){t["user"].role=["default"],console.log(e)}),e("setInitData",t.initData),a(t.initData)})},getRoleUser({commit:e,state:t},a){return new Promise((e,a)=>{let i={headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/users/login",i).then(function(t){let a=t.data;if(a&&a.length>0){let t=[];for(let e in a)a[e]["role"]&&t.push(a[e]["role"]);console.log("roles",t),e(t)}else e(["default"])}).catch(function(e){console.log(e),a("default")})})},loadMenuConfigToDo({commit:commit,state:state}){return commit("setLoadingDynamicBtn",!0),null===state.trangThaiHoSoList?new Promise((resolve,reject)=>{store.dispatch("loadInitResource").then(function(result){let param={headers:{groupId:state.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(state.initData.menuConfigToDo,param).then(function(response){let serializable=response.data,menuData=[],index=0;for(let key in serializable.data){let current=serializable.data[key],menuDetail={index:index,active:!1,title:current["menuName"],id:current["menuGroup"],action:"description",action_active:"play_arrow",counter:-1,menuType:parseInt(current["menuType"]),queryParams:current["queryParams"]};index+=1;let tableConfig=current["tableConfig"],buttonConfig=current["buttonConfig"];if(""!==tableConfig&&void 0!==tableConfig&&"undefined"!==tableConfig&&-1!==String(tableConfig).indexOf("{")&&-1!==String(tableConfig).indexOf("}")&&(menuDetail["tableConfig"]=eval("("+tableConfig+")")),""!==buttonConfig&&void 0!==buttonConfig&&"undefined"!==buttonConfig&&-1!==String(buttonConfig).indexOf("{")&&-1!==String(buttonConfig).indexOf("}")&&(menuDetail["buttonConfig"]=eval("("+buttonConfig+")")),current.hasOwnProperty("steps"))if(current.steps.length>1)menuDetail["items"]=current.steps;else{let e=[];e.push(current.steps),menuDetail["items"]=e}menuData.push(menuDetail)}commit("setLoadingDynamicBtn",!1),commit("setMenuConfigToDo",menuData),resolve(menuData)}).catch(function(e){commit("setLoadingDynamicBtn",!1),console.log(e),reject(e)})})}):new Promise((e,t)=>{commit("setLoadingDynamicBtn",!1),e(state.trangThaiHoSoList)})},loadListThuTucHanhChinh({commit:e,state:t}){return null===t.listThuTucHanhChinh?new Promise((a,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getListThuTucHanhChinh,n).then(function(t){let i=t.data,o=Array.from(i.data);e("setListThuTucHanhChinh",o),a(o)}).catch(function(e){console.log(e),i(e)})})}):new Promise((e,a)=>{let i=Array.from(t.listThuTucHanhChinh);e(i)})},loadingDataHoSo({commit:e,state:t},a){return e("setLoadingTable",!0),new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(n){let s={start:15*a.page-15,end:15*a.page,agency:a.agency?a.agency:"",service:a.service?a.service:"",template:a.template?a.template:"",status:a.status?a.status:"",register:a.register?a.register:"",keyword:a.keyword?a.keyword:"",domain:a.domain?a.domain:"",substatus:a.substatus?a.substatus:"",year:a.year?a.year:0,month:a.month?a.month:0,day:a.day?a.day:0,top:a.top?a.top:"",dossierNo:a.dossierNo?a.dossierNo:""};a["originality"]&&(s["originality"]=a.originality);let r={headers:{groupId:t.initData.groupId},params:s};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.queryParams,r).then(function(t){let a=t.data;e("setLoadingTable",!1),e("setUserNextAction",[]),i(a)}).catch(function(t){e("setLoadingTable",!1),e("setUserNextAction",[]),console.log(t),o(t)})})})},loadingCounterNotStep({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={agency:a.agency?a.agency:"",service:a.service?a.service:"",template:a.template?a.template:"",status:a.status?a.status:"",register:a.register?a.register:"",keyword:a.keyword?a.keyword:"",domain:a.domain?a.domain:"",substatus:a.substatus?a.substatus:"",year:a.year?a.year:0,month:a.month?a.month:0,day:a.day?a.day:0,top:a.top?a.top:"",dossierNo:a.dossierNo?a.dossierNo:""};a["originality"]&&(n["originality"]=a.originality);let s={headers:{groupId:t.initData.groupId},params:n};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.queryParams,s).then(function(t){let a=t.data;e(a)}).catch(function(e){i(e)})})})},loadingCounterHoSo({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};a.hasOwnProperty("originality")&&1===a.originality&&(n["params"]={owner:!0}),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.counterMenuStep,n).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},loadDossierSelected({commit:e,state:t},a){e("dossierSelected",a)},loadActionActive({commit:e,state:t},a){e("actionActive",a)},loadDictItems({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(n){let s={headers:{groupId:t.initData.groupId},params:{parent:a.parent}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.regionApi+"/"+a.collectionCode+"/dictitems",s).then(function(t){let o=t.data;"ADMINISTRATIVE_REGION"===a.collectionCode&&0===a.level&&e("setCitys",o.data),i(t.data)},e=>{o(e)})})})},resetThongTinChungHoSo({commit:e}){let t={serviceConfig:{},serviceOption:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierNo:"",govAgencyName:"",dossierIdCTN:"",processBlock:"",processUnit:"",dossierStatus:"",dossierStatusText:"",submitDate:""};e("setThongTinChungHoSo",t)},resetThongTinChuHoSo({commit:e}){let t={userType:!0,cityCode:25,districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""};e("setThongTinChuHoSo",t)},resetThongTinNguoiNopHoSo({commit:e}){let t={sameUser:"",delegateName:"",delegateCityCode:25,delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""};e("setThongTinNguoiNopHoSo",t)},resetThanhPhanHoSo({commit:e}){e("setDossierTemplates",[])},loadDossierMark({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId},params:{type:1}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/marks",o).then(function(t){let a=t.data;a.data?e(a.data):e([])},e=>{i(e)})})},loadDossierTemplates({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierTemplatesApi+"/"+a.dossierTemplateNo,n).then(function(t){let a=t.data,i=function(e){try{return JSON.parse(e),JSON.parse(e)}catch(t){let a={tip:e,maxSize:10,extensions:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf"};return a}};if(a&&a["dossierParts"])for(let e in a["dossierParts"]){let t=a["dossierParts"][e]["partTip"];a["dossierParts"][e]["partTip"]=i(t)}e(a.dossierParts)},e=>{i(e)})})})},loadAllDossierTemplates({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierTemplatesApi+"/"+a.dossierTemplateNo,n).then(function(t){let a=t.data,i=function(e){try{return JSON.parse(e),JSON.parse(e)}catch(t){let a={tip:e,maxSize:10,extensions:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf"};return a}};if(a&&a["dossierParts"])for(let e in a["dossierParts"]){let t=a["dossierParts"][e]["partTip"];a["dossierParts"][e]["partTip"]=i(t)}e(a.dossierParts)},e=>{i(e)})})})},deleteAttackFiles({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId}};console.log("data -delete-----",i),console.log("data-- dossier file-------",t.dossierFiles);var n=new URLSearchParams;i.hasForm||i.eform?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.referenceUid+"/resetformdata",n,o).then(function(t){console.log("success"),e(t)}).catch(function(e){console.log(e),a(e)}):axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.fileTemplateNo+"/all",o).then(function(t){console.log("success!"),e(t)}).catch(function(e){console.log(e),a(e)})})},deleteDossierFile({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.dossierApi+"/"+a.dossierId+"/files/"+a.referenceUid,o).then(function(t){console.log("success!"),e(t)}).catch(function(e){console.log(e),i(e)})})},resetCounterTemplate({commit:e,state:t},a){t.dossierTemplates.forEach(e=>{e.partNo===a.partNo&&(e.hasForm?e.count=1:e.count=0)})},deleteSingleFile({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.dossierApi+"/"+t.thonTinChungHoSo.dossierId+"/files/"+a.referenceUid,i).then(function(e){console.log("success")}).catch(function(e){console.log(e)})},uploadSingleFile({commit:e,state:t},a){return new Promise((e,i)=>{let o=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#file"+a.partNo)[0].files,n=o[0],s=n["name"];n["name"]&&(s=n["name"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,""));let r=new FormData;3===a.partType?(a["displayName"]&&(s=a["displayName"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,"")),r.append("displayName",s)):r.append("displayName",s),r.append("fileType",n.type),r.append("fileSize",n.size),r.append("isSync","false"),r.append("file",n,s),r.append("dossierPartNo",a.partNo),r.append("dossierTemplateNo",a.dossierTemplateNo),r.append("fileTemplateNo",a.fileTemplateNo),r.append("formData",""),r.append("referenceUid","");let d={partTip:a.partTip,file:n};store.dispatch("validFileUpload",d),n&&t.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.dossierApi+"/"+a.dossierId+"/files",r,{headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),console.log("upload file success!")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)}):i("error")})},uploadSingleOtherFile({commit:e,state:t},a){return new Promise((e,i)=>{let o=new FormData,n=a["displayName"];a["displayName"]&&(n=a["displayName"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,"")),o.append("displayName",a.displayName?n:""),o.append("dossierPartNo",a.partNo?a.partNo:""),o.append("file",""),o.append("fileType",""),o.append("fileSize",""),o.append("isSync","false"),o.append("dossierTemplateNo",""),o.append("fileTemplateNo",""),o.append("formData",""),o.append("referenceUid",""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.dossierApi+"/"+a.dossierId+"/files",o,{headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),console.log("upload file success!")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})},uploadPaymentFile({commit:e,state:t},a){return new Promise((e,i)=>{let o=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#"+a.selector)[0].files,n=o[0],s=n["name"];n["name"]&&(s=n["name"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,""));let r=new FormData;r.append("file",n,s);let d={partTip:a["partTip"],file:n};store.dispatch("validFileUpload",d),n&&t.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/"+a.dossierId+"/payments/"+a.referenceUid+"/confirmfile",r,{headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),console.log("Tải file lên thành công")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải file lên thất bại"),i(e)}):i("error")})},getDetailDossier({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(n){let s={headers:{groupId:t.initData.groupId}};console.log("run"),a>0?(e("setLoading",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.postDossierApi+"/"+a,s).then(function(t){let a={delegateName:t.data.delegateName,delegateCityCode:t.data.delegateCityCode,delegateAddress:t.data.delegateAddress,delegateDistrictCode:t.data.delegateDistrictCode,delegateWardCode:t.data.delegateWardCode,delegateEmail:t.data.delegateEmail,delegateTelNo:t.data.delegateTelNo,delegateIdNo:t.data.delegateIdNo};i(t.data),e("setLoading",!1),e("setDossier",t.data),e("setThongTinChuHoSo",t.data),e("setLePhi",t.data),e("setThongTinNguoiNopHoSo",a),e("setThongTinChungHoSo",t.data),e("setDichVuChuyenPhatKetQua",t.data)},t=>{e("setLoading",!1),o(t)}).catch(function(e){console.log(e)})):i()})})},getGovAgency({commit:e,state:t},a){return new Promise((e,a)=>{let i={headers:{groupId:t.initData.groupId},params:{sort:"sibling"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.regionApi+"/GOVERMENT_AGENCY/dictitems",i).then(function(t){e(t.data.data)}).catch(function(e){console.log(e)})})},loadDossierFiles({commit:e,state:t},a){return new Promise((i,o)=>{let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/files",n).then(function(t){e("setDossierFiles",t.data.data),t.data.data?i(t.data.data):i([])}).catch(function(e){console.log(e),o(e)})})},getPaymentFiles({commit:e,state:t},a){return new Promise((i,o)=>{let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/payments/"+a.referenceUid+"/confirmfile",n).then(function(t){200===t.status||"200"===t.status?i("hasPayment"):i(""),t.headers["content-disposition"]?e("setPaymentFileName",t.headers["content-disposition"].split(";")[1].split("=")[1].replace(/\"/g,"")):e("setPaymentFileName","file báo thanh toán")}).catch(function(e){console.log(e),o(e)})})},putPayments({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}},n=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/keypay/"+a.referenceUid+"/"+a.referenceUid,n,o).then(function(a){store.dispatch("getActiveGetCounter",!t.activeGetCounter),a.data?e(a.data):e([])}).catch(function(e){console.log(e),i(e)})})},viewFile({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.referenceUid,o).then(function(t){var a=window.URL.createObjectURL(t.data);e(a)}).catch(function(e){console.log(e)})})},viewPaymentFile({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+i.dossierId+"/payments/"+i.referenceUid+"/confirmfile",o).then(function(t){var a=window.URL.createObjectURL(t.data);e(a)}).catch(function(e){console.log(e)})})},viewDocument({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+i.dossierId+"/documents/"+i.referenceUid,o).then(function(t){var a=window.URL.createObjectURL(t.data);e(a)}).catch(function(e){console.log(e)})})},postDossier({commit:e,state:t},a){return console.log("data-------------",a),new Promise((i,o)=>{e("setLoading",!0);let n={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var s=new URLSearchParams;s.append("serviceCode",a.serviceCode),s.append("govAgencyCode",a.govAgencyCode),s.append("dossierTemplateNo",a.templateNo),s.append("originality",a.originality),console.log("dataPostdossier-------------",s),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.postDossierApi,s,n).then(function(a){a.data.serviceConfig=t.serviceConfigObj,e("setLoading",!1),e("setDossier",a.data),e("setThongTinChuHoSo",a.data),e("setLePhi",a.data),e("setThongTinChungHoSo",a.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),i(a.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},doCopy({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let n={headers:{groupId:t.initData.groupId,Accept:"application/json"}};var s=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.postDossierApi+"/"+a.dossierId+"/cloning",s,n).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),i(e.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},doCancel({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let n={headers:{groupId:t.initData.groupId,Accept:"application/json"}};var s=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.postDossierApi+"/"+a.dossierId+"/cancel",s,n).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu của bạn được thực hiện thành công."),i(e.data)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},putDossier({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!1);let n={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var s="";s=a.userType?"citizen":"business";let r=!1;null!==a["sameUser"]&&void 0!==a["sameUser"]&&"undefined"!==a["sameUser"]&&(r=a["sameUser"]);var d=new URLSearchParams;d.append("applicantName",a.applicantName),d.append("dossierNo",a.dossierNo?a.dossierNo:""),d.append("applicantIdType",s),d.append("applicantIdNo",a.applicantIdNo),d.append("address",a.address),d.append("cityCode",a.cityCode),d.append("districtCode",a.districtCode),d.append("wardCode",a.wardCode),d.append("contactTelNo",a.contactTelNo),d.append("contactEmail",a.contactEmail),d.append("delegateName",a.delegateName),d.append("delegateIdNo",a.delegateIdNo),d.append("delegateTelNo",a.delegateTelNo),d.append("delegateEmail",a.delegateEmail),d.append("delegateAddress",a.delegateAddress),d.append("delegateCityCode",a.delegateCityCode),d.append("delegateDistrictCode",a.delegateDistrictCode),d.append("delegateWardCode",a.delegateWardCode),d.append("applicantNote",t.applicantNote),1!==a.originality&&d.append("dossierName",a.dossierName),d.append("isSameAsApplicant",r),a.editable&&d.append("dueDate",a.dueDate?a.dueDate:""),a.viaPostal&&(d.append("viaPostal",a.viaPostal),d.append("postalServiceCode",a.postalServiceCode),d.append("postalAddress",a.postalAddress),d.append("postalCityCode",a.postalCityCode),d.append("postalTelNo",a.postalTelNo)),d.append("sampleCount",a.sampleCount?a.sampleCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.postDossierApi+"/"+a.dossierId,d,n).then(function(t){i(t.data),e("setLoading",!1),e("setDossier",t.data),e("setThongTinChuHoSo",t.data),e("setThongTinChungHoSo",t.data),e("setLePhi",t.data),e("setDichVuChuyenPhatKetQua",t.data)}).catch(e=>{o(e)})})},updateApplicantNote({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var n=new URLSearchParams;n.append("applicantNote",t.applicantNote),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.postDossierApi+"/"+a.dossierId,n,o).then(function(t){e(t.data)}).catch(e=>{i(e)})})},getApplicantInfos({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/applicants/ngsp/"+a.applicantIdNo,o).then(function(t){t.data&&t.data["Data"]&&e(t.data["Data"])}).catch(function(e){console.log(e),i(e)})})},checkApplicantInfos({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId?t.initData.groupId:"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}};var n=t.endPointApi+"/applicants/ngsp/verify",s=new URLSearchParams;s.append("applicantIdNo",a.applicantIdNo?a.applicantIdNo:""),s.append("applicantName",a.applicantName?a.applicantName:""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n,s,o).then(t=>{e(t.data)}).catch(e=>{i(e)})})},getDossierFilesApplicants({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/applicant/"+a.applicantIdNo+"/files/"+a.fileTemplateNo+"/search",o).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){console.log(e),i(e)})})},putDuedateDossier({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!1);let n={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}};var s=new URLSearchParams;s.append("dueDate",a),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.postDossierApi+"/"+t.thongTinChungHoSo.dossierId,s,n).then(function(e){i(e.data)}).catch(function(e){o(e)})})},submitDossier({commit:e,state:t},a){return new Promise((e,a)=>{let i={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+t.thongTinChungHoSo.dossierId+"/submitting",i).then(function(t){e(t.data)}).catch(function(e){a(e),console.log(e)})})},postDossierMark({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:t.initData.cps_auth}};var n=new URLSearchParams;1===a["checkInput"]?(void 0!==a.fileCheck&&"undefined"!==a.fileCheck&&null!==a.fileCheck&&n.append("fileCheck",a.fileCheck),void 0!==a.fileComment&&"undefined"!==a.fileComment&&null!==a.fileComment&&n.append("fileComment",a.fileComment)):void 0!==a.fileMark&&"undefined"!==a.fileMark&&null!==a.fileMark&&n.append("fileMark",a.fileMark);let s=t.initData.dossierApi+"/"+a.dossierId+"/marks/"+a.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,n,o).then(function(t){e(t.data)}).catch(function(e){i(e)})})},postAction({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let n={headers:{groupId:t.initData.groupId}};var s=new URLSearchParams;s.append("actionCode",a.actionCode?a.actionCode:""),s.append("actionNote",a.actionNote?a.actionNote:""),s.append("actionUser",a.actionUser?a.actionUser:""),s.append("payload",a.payload?JSON.stringify(a.payload):""),s.append("security",a.security?a.security:""),s.append("assignUsers",a.assignUsers?JSON.stringify(a.assignUsers):""),s.append("payment",a.payment?JSON.stringify(a.payment):""),s.append("createDossiers",a.createDossiers?a.createDossiers:"");let r=t.initData.dossierApi+"/"+a.dossierId+"/actions";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,s,n).then(function(a){i(a.data),e("setLoading",!1),store.dispatch("getActiveGetCounter",!t.activeGetCounter)}).catch(function(e){o(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),store.commit("setLoading",!1)})})},getUserInfoFromApplicantIdNo({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},params:{start:0,end:5,idNo:a.idNo}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.applicantApi,n).then(function(t){e(t.data.data)}).catch(function(e){console.log(e),i(e)})})})},loadAlpcaForm({commit:commit,state:state,dispatch:dispatch},data){console.log("alpaca");let id=data["id"]?data["id"]:"nm";var formScript,formData;window.$("#formAlpaca"+data.dossierPartNo+id).empty(),formScript=data.formScript?eval("("+data.formScript+")"):{},formData=data.formData?eval("("+data.formData+")"):{},formScript.data=formData,window.$("#formAlpaca"+data.dossierPartNo+id).alpaca(formScript)},putAlpacaForm({commit:e,state:t,dispatch:a},i){return new Promise((e,a)=>{let o={headers:{groupId:t.initData.groupId,cps_auth:t.initData.cps_auth}},n=i["id"]?i["id"]:"nm";try{var s=window.$("#formAlpaca"+i.dossierPartNo+n).alpaca("get"),r=s.getValue();let p=window.$("#formAlpaca"+i.dossierPartNo+n).alpaca("get").childrenByPropertyId;if(p)for(var d in p)if(p[d].isRequired()&&""===p[d].getValue())return void toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(p[d].options.placeholder?p[d].options.placeholder+" là trường dữ liệu bắt buộc":p[d].options["name"]+" là trường dữ liệu bắt buộc");var c=new URLSearchParams;c.append("formdata",JSON.stringify(r));let u=t.initData.dossierApi+"/"+i.dossierId+"/files/"+i.referenceUid+"/formdata";axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(u,c,o).then(function(t){e(t.data)}).catch(function(e){a(i)})}catch(l){console.log(l),a(i)}})},rollBack({state:e,commit:t},a){return new Promise((t,i)=>{let o={headers:{groupId:e.initData.groupId}};try{var n=new URLSearchParams;let r=e.initData.dossierApi+"/"+a.dossierId+"/rollback";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,n,o).then(function(a){t(a.data),store.dispatch("getActiveGetCounter",!e.activeGetCounter)}).catch(function(e){i(a)})}catch(s){console.log(s),i(a)}})},goToStep({state:e,commit:t},a){return new Promise((t,i)=>{let o={headers:{groupId:e.initData.groupId}};try{var n=new URLSearchParams;let r=e.initData.dossierApi+"/"+a.dossierId+"/goto/"+a.stepCode;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,n,o).then(function(a){t(a.data),store.dispatch("getActiveGetCounter",!e.activeGetCounter)}).catch(function(e){i(a)})}catch(s){console.log(s),i(a)}})},postEform({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}};try{let l=a["id"]?a["id"]:"nm";var n=new FormData,s=window.$("#formAlpaca"+a.partNo+l).alpaca("get"),r=s.getValue();n.append("formData",JSON.stringify(r)),n.append("file","");let p=window.$("#formAlpaca"+a.partNo+l).alpaca("get").childrenByPropertyId;if(p)for(var d in p)if(p[d].isRequired()&&""===p[d].getValue())return void toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(p[d].options.placeholder?p[d].options.placeholder+" là trường dữ liệu bắt buộc":p[d].options["name"]+" là trường dữ liệu bắt buộc");let u=t.initData.dossierApi+"/"+a.dossierId+"/eforms/"+a.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(u,n,o).then(function(t){e(t.data)}).catch(function(e){i(a)})}catch(c){console.log(c),i(a)}})},postEformEsignature({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId,"Content-Type":"multipart/form-data"}};try{var n=new FormData;n.append("formData",JSON.stringify(JSON.parse(a.formData))),n.append("file","");let r=t.initData.dossierApi+"/"+a.dossierId+"/eforms/"+a.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,n,o).then(function(t){e(t.data)}).catch(function(e){i(a)})}catch(s){console.log(s),i(a)}})},postVNPOST({commit:e,state:t},a){return new Promise((i,o)=>{e("setLoading",!0);let n={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}};var s=new URLSearchParams;s.append("customerCode","ccth"),s.append("orderNumber",t.thongTinChungHoSo.dossierId),s.append("senderProvince",a.senderProvince),s.append("senderAddress",a.senderAddress),s.append("senderName",a.senderName),s.append("senderTel",a.senderTel),s.append("receiverName",a.receiverName),s.append("receiverAddress",a.receiverAddress),s.append("receiverTel",a.receiverTel),s.append("receiverProvince",a.receiverProvince);let r="/o/rest/v2/postal/vnpost";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,s,n).then(function(t){i(t.data),e("setLoading",!1)}).catch(function(t){o(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e("setLoading",!1)})})},getDossierTemplateEdit({commit:e,state:t}){return new Promise((e,a)=>{var i=t.dossierTemplates,o=[];try{0===t.dossierFiles.length?dispatch("loadDossierFiles").then(t=>{t.forEach(e=>{i.forEach(t=>{e.dossierPartNo===t.partNo&&o.push({partName:t.partName,partNo:t.partNo,displayName:e.displayName,dossierFileId:e.dossierFileId,partType:t.partType,hasForm:t.hasForm,fileType:e.fileType,referenceUid:e.referenceUid})})}),e(o)}).catch(t=>{console.log(t),e([])}):t.dossierFiles.forEach(e=>{i.forEach(t=>{e.dossierPartNo===t.partNo&&o.push({partName:t.partName,partNo:t.partNo,displayName:e.displayName,dossierFileId:e.dossierFileId,partType:t.partType,hasForm:t.hasForm,fileType:e.fileType,referenceUid:e.referenceUid})})}),e(o),console.log(o)}catch(n){console.log(n),a([])}})},loadPlugin({commit:commit,state:state},item){return new Promise((resolve,reject)=>{item.plugin=!0;var urlPluginFormData=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formdata",urlPluginFormScript=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formscript",config_plugins={headers:{groupId:state.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormScript,config_plugins),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormData,config_plugins)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(urlResponesFormScript,urlResponesFormData){var responseScript=urlResponesFormScript.data,responseData=urlResponesFormData.data;if(console.log("responseScript==============",responseScript),item.plugin=!0,-1!==responseScript.indexOf("#preview@pdf")){console.log("view pdf");var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/preview",config_blob={headers:{groupId:state.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url,config_blob).then(function(e){var t=window.URL.createObjectURL(e.data);item.pdf=!0,item.url=t,item.no_pdf="",resolve(item)}).catch(function(e){console.log(e),item.pdf=!0,item.url="",item.no_pdf="Tài liệu đính kèm không tồn tại!",resolve(item)})}if(-1!==responseScript.indexOf("#preview@html")){console.log("view html");var config_view={headers:{groupId:state.initData.groupId},dataType:"json"};item.html=!0,item.no_html="";var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/previewhtml";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url,config_view).then(function(response){item.no_html="",vm.stepModel=item;var serializable=response.data,partNo=serializable.partNo,dossierFileId=serializable.dossierFileId,formReport=eval("("+serializable.formReport+")"),formData=eval("("+serializable.formData+")");console.log("formReport======",formReport),console.log("formData======",formData),formReport.data=formData,console.log("formReport_____FINAL=======",formReport),window.$("#alpacajs_form_plugin").alpaca(formReport),window.$(".dossierFilePartNo").val(""),window.$(".dossierFilePartNo").attr("id","dossierFileId"+partNo),window.$(".dossierFilePartNo").val(dossierFileId)}).catch(function(e){console.log(e),item.html=!0,item.no_html="Tài liệu đính kèm không tồn tại!",resolve(item)})}})).catch(function(e){console.log(e),reject(e)})})},getActiveGetCounter({commit:e,state:t},a){e("setActiveGetCounter",a)},getActiveLoadingDataHoSo({commit:e,state:t},a){e("setActiveLoadingDataHoSo",a)},setDefaultCityCode({commit:e,state:t},a){t.thongTinChuHoSo.cityCode=a},getListHistoryProcessingItems({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};var s=[];axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierlogsApi+"/"+a.dossierId+"/logs",n).then(function(t){var a=t.data;for(var i in a.data)"PROCESS_TYPE"===a.data[i].notificationType&&s.push(a.data[i]);e(s)}).catch(function(e){i(e)})})})},loadDossierLogs({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId},params:{notificationType:a.type}},n=t.initData.dossierApi+"/"+a.dossierId+"/logs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},loadPlugins({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}},n=t.initData.dossierApi+"/"+a.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},downloadFile({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/files/"+a.fileAttachId,i).then(function(e){var t=window.URL.createObjectURL(e.data);window.open(t)}).catch(function(e){console.log(e)})},getCpsAuthen({commit:e,state:t}){return new Promise((e,a)=>{let i={headers:{groupId:t.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("http://127.0.0.1:8081/api/onegate/token",i).then(function(t){e(t.data)}).catch(function(e){a(e)})})},loadUsersComment({commit:e,state:t},a){return new Promise((e,i)=>{var o=[];let n={headers:{groupId:t.initData.groupId},params:{userMapping:!0}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/contacts",n).then(function(t){if(null!=t&&t.hasOwnProperty("data")){let e=t.data;jquery__WEBPACK_IMPORTED_MODULE_5___default.a.each(e,function(e,t){var a={};a.id=t.userId,a.fullname=t.userName,a.email=t.email,a.profilePictureURL=t.profileUrl,o.push(a)})}else o=[];e(o)}).catch(function(e){o=[],i(o)})})},loadCommentItems({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.commentApi+"/"+a.className+"/"+a.classPK,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},postComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};var n=a.pings.join(),s=new URLSearchParams;s.append("className",a.className),s.append("classPK",a.classPK),s.append("parent",null!=a.parent?a.parent:0),s.append("pings",n),s.append("content",a.content),s.append("upvoteCount",null!=a.upvoteCount?a.upvoteCount:0),s.append("opinion",a.opinion),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.commentApi,s,o).then(function(t){var a={};null!=t&&(a=t.data,console.log("resPostCmt",a)),e(a)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),console.log(e)})})},putComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};var n=a.pings.join(),s=new URLSearchParams;s.append("pings",n),s.append("content",a.content),console.log("dataPut",a),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.commentApi+"/"+a.commentId,s,o).then(function(t){var a={};null!=t&&(a=t.data),e(a)}).catch(function(e){console.log(e)})})},deleteComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.commentApi+"/"+a.commentId,o).then(function(t){e(t)}).catch(function(e){i(e)})})},upvoteComment({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};if(a.userHasUpvoted){var n=new URLSearchParams;n.append("className",a.className),n.append("classPK",a.classPK),n.append("commentId",a.commentId),n.append("upvoteCount",null!=a.upvoteCount?a.upvoteCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.commentApi+"/"+a.commentId+"/upvotes",n,o).then(function(t){var a={};null!=t&&(a=t.data),e(a)}).catch(function(e){console.log(e)})}else axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.commentApi+"/"+a.commentId+"/upvotes",o).then(function(t){var a={};null!=t&&(a=t.data),e(a)}).catch(function(e){console.log(e)})})},loadProcessStep({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};var s=t.initData.dossierApi+"/"+a.dossierId+"/nextactions",r=t.initData.dossierApi+"/"+a.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(s,n),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(r,n)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread(function(t,a){var i=t.data.data,o=a.data.data,n=[],s=[];if(i)for(var r=0;r<i.length;r++){if(i[r].type=1,i[r].configNote){var d=JSON.parse(i[r].configNote);i[r].configNote=d}s.push(i[r])}else i=[],s=[];if(o)for(r=0;r<o.length;r++){var c={type:2,processActionId:o[r].processPluginId,actionName:o[r].pluginName};n.push(c)}var l=s,p=n;console.log("nextactions++++++++++++",l),console.log("plugins++++++++++++",p),l.push(...p),console.log("nextactions2++++++++++++",l),e(l)})).catch(function(e){i(e)})})})},pullNextactions({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(n){console.log("result",n);let s={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/nextactions",s).then(function(t){let a=t.data;e("setUserNextAction",[]),e("setCheckInput",a["checkInput"]),e("setStepOverdueNextAction",a["stepOverdue"]),a["users"]&&(Array.isArray(a["users"])?e("setUserNextAction",a["users"]):e("setUserNextAction",[a["users"]])),i(a.data)}).catch(function(t){console.log(t),o(t),e("setUserNextAction",[])})})})},pullBtnConfigStep({commit:e,state:t},a){return new Promise((e,i)=>{const o={headers:{groupId:t.initData.groupId}};new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.stepConfigApi+"/status/"+a.dossierStatus+"/"+a.dossierSubStatus,o).then(function(t){let a,i=t.data.data;a=i[0].buttonConfig&&i[0].buttonConfig.indexOf("{")>=0&&JSON.parse(i[0].buttonConfig)["buttons"]?JSON.parse(i[0].buttonConfig)["buttons"]:[],e(a)}).catch(function(e){console.log(e),i(e)})})},loadDossierDocuments({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{}},o=t.initData.documentApi+"/"+a.dossierId+"/documents";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){t(e)})})},loadDossierPayments({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{}},o=t.initData.dossierApi+"/"+a.dossierId+"/payment";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},postDossierPayments({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId}};var o=new URLSearchParams;o.append("paymentFee",a.paymentFee),o.append("paymentNote",a.paymentNote);let n=t.initData.dossierApi+"/"+a.dossierId+"/payment";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n,o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadDossierActions({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{stepType:a.stepType}},o=t.initData.dossierApi+"/"+a.dossierId+"/sequences";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadMermaidgraph({commit:e,state:t},a){let i={headers:{groupId:t.initData.groupId},params:{stepType:a.stepType}},o=t.initData.dossierApi+"/"+a.dossierId+"/mermaidgraph";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadDossierLienThong({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},params:{originDossierId:a}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi,n).then(function(t){let a=t.data;a.data?e(a.data):e([])}).catch(function(e){i(e)})})})},getDossierUserAsign({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/users",n).then(function(t){let a=t.data;a["data"]?Array.isArray(a["data"])?e(a.data):e([a["data"]]):e([])}).catch(function(e){i(e)})})})},postDossierUserAsign({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}},s=new URLSearchParams;s.append("assignUsers",a.users?JSON.stringify(a.users):""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.dossierApi+"/"+a.dossierId+"/users",s,n).then(function(t){e(t)}).catch(function(e){i(e)})})})},loadDossierSyncs({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}},n=t.endPointApi+"/dossiers/"+a.dossierId+"/syncs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,o).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},processDossierRouter({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},s=new URLSearchParams;s.append("actionCode",a.actionCode?a.actionCode:""),s.append("payment",a.payment?JSON.stringify(a.payment):""),s.append("assignUsers",a.toUsers?JSON.stringify(a.toUsers):""),s.append("actionNote",a.userNote?JSON.stringify(a.userNote):""),s.append("payload",a.payload?JSON.stringify(a.payload):""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.getNextAction+"/"+a.dossierId+"/actions",s,n).then(function(a){store.dispatch("getActiveGetCounter",!t.activeGetCounter);let i=a.data;e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},deleteDossier({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.getNextAction+"/"+a.dossierId,n).then(function(a){let i=a.data;store.dispatch("getActiveGetCounter",!t.activeGetCounter),e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},restoreDossier({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/dossiers/"+a.dossierId+"/restore",n).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},getListDossierFiles({commit:e,state:t},a){return new Promise((e,i)=>{let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a+"/files",o).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){console.log(e),i(e)})})},deleteDossierPatch({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId,Accept:"application/json"}};var s=0;let r=a["dossierId"].length;for(let d in a.dossierId)axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(t.initData.getNextAction+"/"+a.dossierId[d],n).then(function(a){let i=a.data;s+=1,s===r&&(store.dispatch("getActiveGetCounter",!t.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!t.activeLoadingDataHoSo)),e(i)}).catch(function(e){console.log(e),s+=1,s===r&&(store.dispatch("getActiveGetCounter",!t.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!t.activeLoadingDataHoSo)),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint01({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},responseType:"blob",params:{payload:a.payload}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/documents/preview/"+a.document,n).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint03({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},responseType:"blob",params:{payload:a.payload}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/documents/print",n).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doGuiding({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={serviceCode:a.serviceCode?a.serviceCode:"",serviceName:a.serviceName?a.serviceName:"",typeCode:a.typeCode?a.typeCode:"",templateNo:a.templateNo?a.templateNo:"",applicantName:a.applicantName?a.applicantName:"",applicantAddress:a.applicantAddress?a.applicantAddress:"",applicantEmail:a.applicantEmail?a.applicantEmail:"",applicantTelNo:a.applicantTelNo?a.applicantTelNo:"",employeeName:a.employeeName?a.employeeName:""};a.reportType&&(n["reportType"]=a.reportType);let s={headers:{groupId:t.initData.groupId},responseType:"blob",params:n};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getServiceConfigs+"/"+a.serviceConfigId+"/guide",s).then(function(t){let i=t.data;a.reportType&&file_saver__WEBPACK_IMPORTED_MODULE_6___default()(i,"HDTT"+(new Date).getTime()+".doc");let o=window.URL.createObjectURL(i);e(o)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint02({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},responseType:"blob"},s=new URLSearchParams;s.append("serviceCode",a.serviceCode),s.append("govAgencyCode",a.govAgencyCode),s.append("dossiers",a.dossiers),s.append("payload",a.payload),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(t.initData.getNextAction+"/preview/"+a.document,s,n).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},printPay({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/payments/"+a.referenceUid+"/invoicefile/preview",n).then(function(t){let a=t.data,i=window.URL.createObjectURL(a);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},processPullBtnDetail({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getNextAction+"/"+a.dossierId+"/nextactions/"+a.actionId,n).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},getNextAction({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/nextactions/"+a.actionId,n).then(function(t){let a=t.data;e(a)}).catch(function(t){console.log(t),e([]),i(t)})})})},loadFormScript({state:e,commit:t},a){return new Promise((t,i)=>{store.dispatch("loadInitResource").then(function(o){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:e.initData.dossierTemplatesApi+"/"+a.templateFileNo+"/parts/"+a.partNo+"/formscript",type:"GET",headers:{groupId:e.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){let a=e;t(a)},error:function(e){console.log(e),t(e),i(e)}})})})},loadFormData({state:e,commit:t},a){return new Promise((t,i)=>{store.dispatch("loadInitResource").then(function(o){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:e.initData.dossierApi+"/"+a.dossierId+"/eforms/"+a.partNo+"/formdata",type:"GET",headers:{groupId:e.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){let a=e;t(a)},error:function(e){console.log(e),t(e),i(e)}})})})},loadDossierCounting({state:e,commit:t},a){let i={headers:{groupId:e.initData.groupId}},o="/o/rest/v2/statistics/dossiers/counting";return new Promise((e,t)=>{axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},reassignDossier({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}},s=new URLSearchParams;s.append("toUsers",JSON.stringify(a.toUsers)),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.dossierApi+"/"+a.dossierId+"/reassign",s,n).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},pullProcessSteps({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.stepConfigApi+"/"+a.stepCode,n).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},loadServiceConfigsGov({commit:e,state:t},a){return new Promise((a,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},params:{}};e("setLoadingGov",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.serviceConfigByGovApi,n).then(function(t){e("setLoadingGov",!1);let i=t.data;i.govAgencies?a(i.govAgencies):a([])}).catch(function(t){console.log(t),e("setLoadingGov",!1),i(t)})})})},processCheckNextActions({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}},s=a.actionCode.split(",");axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/nextactions",n).then(function(t){let i=t.data,o=i.data,n=a,r=!1;for(let e in s)if(!r)for(let t in o)if(String(s[e])===String(o[t].actionCode)){n.actionCode=o[t].actionCode,r=!0;break}e(n)}).catch(function(e){console.log(e),i(e)})})})},getServiceOpionByProcess({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getServiceConfigs+"/"+a.serviceConfigId+"/processes",n).then(function(t){let a=t.data;a.data?e(a.data):e({})}).catch(function(e){console.log(e),i(e)})})})},getStatusLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/dictcollections/DOSSIER_STATUS/dictitems?parent=0",o).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({itemCode:"",itemName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getVNPOSTcode({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/VNPOST_CITY_CODE/dictitems",o).then(function(t){let a=t.data;if(a.data){let t=a.data;e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getSubstatusLists({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/DOSSIER_STATUS/dictitems?parent="+a.itemCode,n).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({itemCode:"",itemName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),i(e)})})})},getAgencyLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceinfos/statistics/agencies",o).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({administrationCode:"",administrationName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getServiceLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/serviceinfos",o).then(function(t){let a=t.data;if(a.data){let t=a.data;null!==t&&void 0!==t&&"undefined"!==t&&t.unshift({serviceCode:"",serviceName:"toàn bộ"}),e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getServiceinfoFilter({commit:e,state:t},a){return new Promise((i,o)=>{store.dispatch("loadInitResource").then(function(n){let s={headers:{groupId:t.initData.groupId},params:{domain:a.domain}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.getListThuTucHanhChinh,s).then(function(t){let a=t.data,o=Array.from(a.data);e("setListThuTucHanhChinh",o),i(o)}).catch(function(e){console.log(e),o(e)})})})},getDomainLists({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/serviceinfos/statistics/domains",o).then(function(t){let a=t.data;if(a.data){let t=a.data;e(t)}else e([])}).catch(function(e){console.log(e),a(e)})})})},getExtraForm({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.dossierApi+"/"+a.dossierId+"/nextactions/"+a.actionId+"/payload",n).then(function(t){let a=t.data;a.data?e(a.data):e([])}).catch(function(e){console.log(e),i(e)})})})},getServiceInfo({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.initData.serviceInfoApi+"/"+a.serviceInfoId,n).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},changeDisplayNameFile({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};var s=new URLSearchParams;s.append("displayName",a.displayName),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(t.initData.serviceInfoApi+"/"+a.dossierId+"/files/"+a.dossierFileId,s,n).then(function(t){let a=t.data;e(a)}).catch(function(e){console.log(e),i(e)})})})},loadingDossierCounting({commit:e,state:t},a){return new Promise((e,a)=>{store.dispatch("loadInitResource").then(function(i){let o={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(t.endPointApi+"/statistics/dossiers/counting",o).then(function(t){let a=t.data;a.hasOwnProperty("data")?e(a.data):e(null)}).catch(function(e){console.log(e),a(e)})})})},loadVoting({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){let n={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/postal/votings/"+a.className+"/"+a.classPK,n).then(t=>{let a=t.data;a&&a.data?e(a.data):e([])}).catch(e=>{i(e)})})})},submitVoting({commit:e,state:t},a){return new Promise((e,i)=>{store.dispatch("loadInitResource").then(function(o){var n=new URLSearchParams;const s={headers:{groupId:t.initData.groupId}};n.append("className",a.className),n.append("classPk",a.classPk),n.append("votingCode",a.votingCode?a.votingCode:""),n.append("selected",a.selected),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/postal/votings/"+a.votingId+"/results",n,s).then(t=>{e(t.data)}).catch(e=>{i(e)})})})},validFileUpload({commit:e,state:t},a){let i=a.file.name?a.file.name.split("."):"",o=i?i[i.length-1]:"",n=a.partTip["extensions"]?a.partTip["extensions"].split(","):"",s=(a.partTip["maxSize"],n?n.filter(function(e){return e===o}):"");store.commit("setValidFileUpload",!1),s&&s.length>0?Number(a.file.size)<=1048576*a.partTip["maxSize"]||!a.partTip["maxSize"]?store.commit("setValidFileUpload",!0):(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên dung lượng tối đa là "+a.partTip["maxSize"]+" MB"),store.commit("setValidFileUpload",!1)):a.partTip["extensions"]?(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+a.partTip["extensions"]),store.commit("setValidFileUpload",!1)):store.commit("setValidFileUpload",!0)}},mutations:{setLoading(e,t){e.loading=t},setLoadingTable(e,t){e.loadingTable=t},setLoadingGov(e,t){e.loadingGov=t},setValidFileUpload(e,t){e.validFileUpload=t},setError(e,t){e.error=t},clearError(e){e.error=null},setIndex(e,t){e.index=t},setInitData(e,t){e.initData=t},setMenuConfigToDo(e,t){e.trangThaiHoSoList=t},setDataPhanCong(e,t){e.data_phancong=t},setLoadingDynamicBtn(e,t){e.loadingDynamicBtn=t},setListThuTucHanhChinh(e,t){e.listThuTucHanhChinh=t},setDossierTemplateName(e,t){e.dossierTemplateName=t},setIsDetail(e,t){e.isDetail=t},setLePhi(e,t){e.lePhi.fee=t.paymentFee,e.lePhi.feeNote=t.paymentFeeNote},setThanhPhanHoso(e,t){e.thanhPhanHoSo=t},setThanhPhanHosoTemplates(e,t){e.thanhPhanHoSo.dossierTemplates=t},setDataCreateFile(e,t){e.dataCreateFile=t},setCheckInput(e,t){e.checkInput=t},setUserNextAction(e,t){e.usersNextAction=t||[]},setStepOverdueNextAction(e,t){e.stepOverdueNextAction=t},setThongTinChuHoSo(e,t){let a=!0;"business"===t.applicantIdType&&(a=!1);let i={applicantIdNo:t.applicantIdNo,applicantName:t.applicantName,address:t.address,cityCode:t.cityCode,districtCode:t.districtCode,wardCode:t.wardCode,contactEmail:t.contactEmail,contactTelNo:t.contactTelNo,userType:a};e.thongTinChuHoSo=i},setThongTinChuHoSoBindChuyenPhat(e,t){e.thongTinChuHoSoBindChuyenPhat={cityCode:t.cityCode,districtCode:t.districtCode,wardCode:t.wardCode,address:t.address,contactTelNo:t.contactTelNo}},setThongTinNguoiNopHoSo(e,t){e.thongTinNguoiNopHoSo=Object.assign(e.thongTinNguoiNopHoSo,t)},setDichVuChuyenPhatKetQua(e,t){let a={viaPostal:t.viaPostal,postalServiceCode:t.postalServiceCode?t.postalServiceCode:"",postalAddress:t.postalAddress?t.postalAddress:"",postalCityCode:t.postalCityCode?t.postalCityCode:"",postalDistrictCode:t.postalDistrictCode?t.postalDistrictCode:"",postalWardCode:t.postalWardCode?t.postalWardCode:"",postalTelNo:t.postalTelNo?t.postalTelNo:""};e.dichVuChuyenPhatKetQua=a},setViaPostal(e,t){e.viaPostal=t},setServiceConfigObj(e,t){e.serviceConfigObj=t},setThongTinChungHoSo(e,t){var a;if(1===t.processUnit&&t.processBlock>8){let e,i=Math.floor(t.processBlock/8)+" ngày";e=t.processBlock%8!==0?8*(t.processBlock/8-Math.floor(t.processBlock/8))+" giờ":"",a=`${i} ${e}`}else 0===t.processUnit?a=t.processBlock+" ngày":1===t.processUnit&&t.processBlock<=8&&(a=t.processBlock+" giờ");let i={dossierTemplateNo:t.dossierTemplateNo,dossierTemplateName:t.dossierTemplateName,serviceName:t.serviceName,serviceConfig:t.serviceConfig,serviceOption:t.dossierTemplateNo,receiveDate:new Date(t.receiveDate),dueDate:new Date(t.dueDate).toString(),durationDate:a,dossierId:t.dossierId,dossierIdCTN:t.dossierIdCTN,dossierStatus:t.dossierStatus,dossierNo:t.dossierNo,govAgencyName:t.govAgencyName,dossierStatusText:t.dossierStatusText,submitDate:t.submitDate};e.thongTinChungHoSo=i},setThongTinChungHoSoDueDate(e,t){e.thongTinChungHoSo.dueDate=t},setThongTinChungHoSoDurationDate(e,t){e.thongTinChungHoSo.durationDate=t},setThongTinChungHoSoReceiveDate(e,t){e.thongTinChungHoSo.receiveDate=t},setserviceConfigItems(e,t){e.serviceConfigItems=t},setServiceOptionItems(e,t){e.serviceOptionItems=t},setServiceOptionThongTinChungHoSo(e,t){e.thongTinChungHoSo.serviceOption=t},setCitys(e,t){e.citys=t},dossierSelected(e,t){e.dossierSelected=t},actionActive(e,t){e.actionActive=t},setResultServices(e,t){e.resultServices=t},setDossierTemplates(e,t){e.dossierTemplates=t},setDossier(e,t){e.dossier=t},setDanhSachHoSo(e,t){e.danhSachHoSo=t},setCityVal(e,t){e.cityVal=t},setDistrictVal(e,t){e.districtVal=t},setWardVal(e,t){e.wardVal=t},setDossierFiles(e,t){e.dossierFiles=t},setSameUser(e,t){e.thongTinNguoiNopHoSo.sameUser=t},setSameUser2(e,t){e.sameUser2=t},setPrintPH(e,t){e.printPH=t},setlistHistoryProcessingItems(e,t){e.listHistoryProcessingItems=t},setUsersComment(e,t){e.usersComment=t},setCommentItems(e,t){e.commentItems=t},setKysoSuccess(e,t){e.kysoSuccess=t},setActiveGetCounter(e,t){e.activeGetCounter=t},setActiveLoadingDataHoSo(e,t){e.activeLoadingDataHoSo=t},setDataCreateDossier(e,t){e.dataCreateDossier=t},setPaymentProfile(e,t){e.paymentProfile=t},setPaymentFileName(e,t){e.paymentFileName=t},setApplicantBussinessExit(e,t){e.applicantBussinessExit=t},setApplicantNote(e,t){e.applicantNote=t},setApplicantId(e,t){e.applicantId=t}},getters:{loading(e){return e.loading},loadingTable(e){return e.loadingTable},loadingGov(e){return e.loadingGov},error(e){return e.error},index(e){return e.index},dossierSelected(e){return e.dossierSelected},actionActive(e){return e.actionActive},loadingMenuConfigToDo(e){return new Promise((e,t)=>{store.dispatch("loadMenuConfigToDo").then(function(t){e(t)})})},loadingInitData(e){return console.log("loadingInitDataloadingInitDataloadingInitDataloadingInitData: ",e.initData),e.initData},loadingDynamicBtn(e){return e.loadingDynamicBtn},loadingListThuTucHanhChinh(e){store.dispatch("loadListThuTucHanhChinh")},lePhi(e){return e.lePhi},isDetail(e){return e.isDetail},dossierTemplateName(e){return e.dossierTemplateName},thongTinChungHoSo(e,t){return e.thongTinChungHoSo},thongTinChuHoSo(e){return e.thongTinChuHoSo},thongTinChuHoSoBindChuyenPhat(e){return e.thongTinChuHoSoBindChuyenPhat},kysoSuccess(e){return e.kysoSuccess},activeGetCounter(e){return e.activeGetCounter},activeLoadingDataHoSo(e){return e.activeLoadingDataHoSo},thanhPhanHoSo(e){return e.thanhPhanHoSo},thongTinNguoiNopHoSo(e){return e.thongTinNguoiNopHoSo},dichVuChuyenPhatKetQua(e){return e.dichVuChuyenPhatKetQua},viaPostal(e){return e.viaPostal},serviceOptionItems(e){return e.serviceOptionItems},getDictItems(e){return t=>{return"ADMINISTRATIVE_REGION"===t.collectionCode&&0===t.level?null==e.citys?store.dispatch("loadDictItems",t):new Promise((t,a)=>{t({total:e.citys.length,data:e.citys})}):store.dispatch("loadDictItems",t)}},getDataCreateFile(e){return e.dataCreateFile},getCheckInput(e){return e.checkInput},getUsersNextAction(e){return e.usersNextAction},getStepOverdueNextAction(e){return e.stepOverdueNextAction},resultServices(e){return e.resultServices},dossierTemplates(e){return e.dossierTemplates},dataDetailDossier(e){return e.dossier},dossier(e){return e.dossier},getCityVal(e){return e.cityVal},getDistrictVal(e){return e.districtVal},getWardVal(e){return e.wardVal},dossierFiles(e){return e.dossierFiles},sameUser2(e){return e.sameUser2},getVnpostCodeItems(e){return e.vnpostCodeItems},listHistoryProcessingItems(e){return e.listHistoryProcessingItems},subStatusNew(e){return e.subStatusNew},usersComment(e){return e.usersComment},commentItems(e){return e.commentItems},dataPhanCong(e){return e.data_phancong},getDataCreateDossier(e){return e.dataCreateDossier},getPaymentProfile(e){return e.paymentProfile},getPaymentFileName(e){return e.paymentFileName},getUser(e){return e.user},getApplicantIdNo(e){return e.applicantId},getApplicantNote(e){return e.applicantNote},getApplicantBussinessExit(e){return e.applicantBussinessExit}}})},"56d7":function(e,t,a){"use strict";a.r(t);a("0f18");var i=a("a026"),o=a("bb71");a("74ef");i["a"].use(o["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app_dynamic_report"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"240"}}),a("v-content",[a("router-view")],1)],1)},s=[],r={data:()=>({})},d=r,c=a("2877"),l=a("6544"),p=a.n(l),u=a("7496"),_=a("549c"),m=a("f774"),h=Object(c["a"])(d,n,s,!1,null,null,null);h.options.__file="App.vue";var g=h.exports;p()(h,{VApp:u["a"],VContent:_["a"],VNavigationDrawer:m["a"]});var f=a("8c4f"),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n 35656666666666666666666666\n")])},v=[],P={data:()=>({})},I=P,C=Object(c["a"])(I,D,v,!1,null,null,null);C.options.__file="Landing.vue";var E=C.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  uuuttttttttttt 12312 3123  1231\n  "),a("v-layout",{attrs:{wrap:""}},[a("div",e._l(e.dossierCounting,function(t,i){return a("v-chip",{key:i},["deleted"===t.key?a("v-avatar",[a("v-icon",{attrs:{size:"16"}},[e._v("delete")])],1):a("v-avatar",[e._v(e._s(t.count))]),e._v("\n        "+e._s(t.title)+"\n      ")],1)}),1)])],1)},y=[],O={props:["index"],data:()=>({dossierCounting:[]})},A=O,x=a("8212"),w=a("cc20"),N=a("132d"),M=a("a722"),b=Object(c["a"])(A,T,y,!1,null,null,null);b.options.__file="TiepNhanHoSoDetail.vue";var L=b.exports;p()(b,{VAvatar:x["a"],VChip:w["a"],VIcon:N["a"],VLayout:M["a"]});var S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  9816313910231203\n")])},U=[],R={props:["index"],data:()=>({})},B=R,k=Object(c["a"])(B,S,U,!1,null,null,null);k.options.__file="HoanThienBoSungHoSoDetail.vue";var K=k.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  13123\n")])},F=[],H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-chitiet"},[a("div",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(t){e.getNextActions()}}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===e.originality?a("span",[e._v("XỬ LÝ HỒ SƠ")]):a("span",[e._v("CHUẨN BỊ HỒ SƠ")])])],1),a("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==e.checkInput&&e.filterNextActionEnable(e.btnDossierDynamics)?a("div",{staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[e._v("\n                123\n              ")])],1)],1):e._e(),e.btnStateVisible?a("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[e._l(e.btnPlugins,function(t,i){return a("v-btn",{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:e.loadingPlugin,disabled:e.loadingPlugin},nativeOn:{click:function(a){e.processPullBtnplugin(t,i)}}},[e._v("\n              "+e._s(t.pluginName)+"\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])}),e.btnStepsDynamics.length>0&&e.thongTinChiTietHoSo["permission"].indexOf("write")>=0?a("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Khác   "),a("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),a("v-list",e._l(e.btnStepsDynamics,function(t,i){return a("v-list-tile",{key:i,on:{click:function(a){e.btnActionEvent(t,i)}}},[a("v-list-tile-title",[e._v(e._s(t.title))])],1)}),1)],1):e._e()],2):e._e()])],1)],1)],1)])},V=[],j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[e._l(e.dossierTemplateItems,function(t,i){return e.partTypes.includes(t.partType)&&e.checkVisibleTemp(t,i)?a("div",{key:t.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[e.currentFormView==="formAlpaca"+t.partNo+e.id]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(a){e.onlyView&&t.hasForm?e.viewFile2(t):e.loadAlpcaForm(t)}}},[a("div",{staticClass:"header__tphs"},[a("span",{staticClass:"text-bold"},[e._v(e._s(i+1)+".")]),e._v("  ")]),a("div",{staticClass:"header__tphs"},[a("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                      "+e._s(t.partName)+"  \n                      "),t.required?a("span",{staticStyle:{color:"red"}},[e._v(" (*) ")]):e._e(),e._v("\n                        \n                    ")]),t.partTip["tip"]?a("span",[e._v(e._s(t.partTip["tip"]))]):e._e()]),t.hasForm&&t.daKhai&&(1===e.originality&&2!==t.partType||1!==e.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),a("span",[e._v("Biểu mẫu trực tuyến (Đã khai)")])]):e._e(),t.hasForm&&!t.daKhai&&(1===e.originality&&2!==t.partType||1!==e.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),a("span",[e._v("Biểu mẫu trực tuyến (Chưa khai)")])]):e._e(),e._v("\n                    \n                  "),!t.hasForm&&t.hasFileTemp?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){a.stopPropagation(),e.downloadFileTemplate(t,i)}},slot:"activator"},[e._v("save_alt")]),a("span",[e._v("Biểu mẫu điền thủ công")])],1):e._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?a("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(e){return!!e||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.changeFileComment(t,i)}},model:{value:t.fileComment,callback:function(a){e.$set(t,"fileComment",a)},expression:"item.fileComment"}}):e._e(),1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){a.stopPropagation(),e.changeFileComment(t,i)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("send")])],1),a("span",[e._v("Gửi")])],1):e._e()],1),t.fileComment&&!t.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[e._v(e._s(t.fileComment))]):e._e(),t.fileComment&&!t.stateEditFileCheck&&1===e.checkInput?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.stateEditFileCheck=!t.stateEditFileCheck}},slot:"activator"},[e._v("edit")]),a("span",[e._v("Chỉnh sửa ý kiến")])],1):e._e(),e._l(e.dossierFilesItems,function(i,o){return t.partNo!==i.dossierPartNo||i.eForm?e._e():a("div",{key:o},[a("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(i)}}},[0!==i.fileSize?a("v-icon",[e._v("attach_file")]):e._e(),e._v("\n                    "+e._s(i.displayName)+" - \n                    "),a("i",[e._v(e._s(i.modifiedDate))])],1),e.onlyView||1===e.checkInput?e._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.deleteSingleFile(i,o)}}},[a("v-icon",{staticStyle:{color:"red"}},[e._v("delete_outline")])],1)],1)])}),a("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+t.partNo}},e._l(e.dossierFilesApplicant,function(i,o){return i.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&t.partNo===i.dossierPartNo?a("div",{key:o},[i.eForm?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(i)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),e._v("  \n                        "+e._s(i.referenceUid)+"."+e._s(i.fileType)+" - \n                        "),a("i",[e._v(e._s(i.modifiedDate))])]),a("span",[e._v("Bản khai trực tuyến")])])],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?a("v-icon",{staticStyle:{color:"#0d71bb"}},[e._v("attach_file")]):e._e(),e._v("\n                        "+e._s(i.displayName)+" - \n                        "),a("i",[e._v(e._s(i.modifiedDate))])],1),a("span",[e._v("Đính kèm")])])],1)]):e._e()}),0)],2)]),t.hasForm&&!e.onlyView?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[e.stateView?e._e():a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:e.pstFixed>e.pstEl&&e.pstFixed<e.endEl+e.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+t.partNo+e.id}},[t.hasForm&&!e.onlyView&&1!==e.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.saveAlpacaForm(t,i)}}},[e._v("Lưu lại")]):e._e(),t.daKhai&&t.hasForm&&!e.onlyView&&1!==e.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.deleteSingleFileEform(t,i)}}},[e._v("Xóa")]):e._e(),t.daKhai&&t.hasForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.previewFileEfom(t,i)}}},[e._v("In")]):e._e()],1),!e.onlyView||t.daKhai?a("div",{class:{no_acction__event:e.onlyView},attrs:{id:"formAlpaca"+t.partNo+e.id}}):e._e()])],1)],1)],1):e._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[e.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput?e._e():a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[a("v-select",{attrs:{items:e.fileMarkItems,disabled:e.onlyView},on:{change:function(t){e.changeFileMark(t,i)}},model:{value:e.dossierTemplateItems[i].fileMark,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileMark",t)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===e.checkInput?a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a("v-select",{attrs:{items:e.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(t){e.changeFileCheck(t,i)}},model:{value:e.dossierTemplateItems[i].fileCheck,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileCheck",t)},expression:"dossierTemplateItems[index].fileCheck"}})],1):t.fileCheck>0?a("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":e.thongTinHoSo.online?"10px":"0px"}},[1===t.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[e._v("done")]),a("span",[e._v("Đạt")])],1):2===t.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[e._v("close")]),a("span",[e._v("Không đạt")])],1):e._e()],1):e._e(),1!==e.checkInput?a("v-flex",{class:{"text-xs-right":e.onlyView},style:{width:e.onlyView?"auto":"90px"}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+t.partNo},on:{change:function(a){e.onUploadSingleFile(a,t,i)}}}),3!==t.partType||3!==e.originality||e.onlyView?e._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.addFileOther(t)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("add")])],1),a("span",[e._v("Thêm giấy tờ khác")])],1),e.progressUploadPart===t.partNo?a("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e.progressUploadPart===t.partNo||e.onlyView?e._e():a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.pickFile(t)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"primary"}},[e._v("cloud_upload")])],1)],1),t.partTip["extensions"]||t.partTip["maxSize"]?a("span",[e._v("Chấp nhận tải lên các định dạng: "+e._s(t.partTip["extensions"])+". Tối đa "+e._s(t.partTip["maxSize"])+" MB ")]):a("span",[e._v("Tải file lên")])],1),e.partNoApplicantHasFile(t.partNo)&&!e.onlyView?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.showFilesApplicant(t.partNo)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("warning")])],1)],1),a("span",[e._v("Giấy tờ đã nộp")])],1):e._e()],1):e._e()],1)],1)],1):e._e()}),e.partTypes.includes(2)?e._e():a("div",[a("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!e.onlyView||e.onlyView&&e.applicantNoteDossier?a("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[e._v("Ghi chú:")]):e._e(),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[e.onlyView?e._e():a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:e.changeApplicantNote},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}})],1),e.onlyView&&e.applicantNoteDossier?a("p",{staticClass:"my-0 py-2"},[e._v("\n            "+e._s(e.applicantNoteDossier)+" \n          ")]):e._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAddOtherTemp,callback:function(t){e.dialogAddOtherTemp=t},expression:"dialogAddOtherTemp"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[e._v("Tên giấy tờ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[a("v-icon",[e._v("clear")])],1),e.loadingAddOther?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(e){return!!e||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:e.otherDossierTemplate,callback:function(t){e.otherDossierTemplate=t},expression:"otherDossierTemplate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[e._v("\n              Quay lại\n            ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.addOtherTemplate(t)}}},[e._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1)],1)],1)],1)],2),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e.pdfEform?a("span",[e._v("Bản khai trực tuyến")]):a("span",[e._v("File đính kèm")])]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},G=[],z={data:()=>({})},q=z,Y=a("4ca6"),$=a("8336"),J=a("b0af"),Q=a("99d9"),X=a("12b2"),Z=a("169a"),ee=a("cd55"),te=a("49e2"),ae=a("0e8f"),ie=a("4bd4"),oe=a("490a"),ne=a("8e36"),se=a("b56d"),re=a("9910"),de=a("2677"),ce=a("3a2f"),le=Object(c["a"])(q,j,G,!1,null,null,null);le.options.__file="TiepNhanHoSo_ThanhPhanHoSo.vue";var pe=le.exports;p()(le,{VBadge:Y["a"],VBtn:$["a"],VCard:J["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:X["a"],VDialog:Z["a"],VExpansionPanel:ee["a"],VExpansionPanelContent:te["a"],VFlex:ae["a"],VForm:ie["a"],VIcon:N["a"],VLayout:M["a"],VProgressCircular:oe["a"],VProgressLinear:ne["a"],VSelect:se["a"],VSpacer:re["a"],VTextField:de["a"],VTooltip:ce["a"]});var ue={props:["index","id"],components:{"thanh-phan-ho-so":pe},data:()=>({})},_e=ue,me=a("8860"),he=a("ba95"),ge=a("5d23"),fe=a("e449"),De=a("71a3"),ve=a("c671"),Pe=a("fe57"),Ie=a("aac8"),Ce=a("9a96"),Ee=Object(c["a"])(_e,H,V,!1,null,null,null);Ee.options.__file="XemChiTietHoSoDetailCanBo.vue";var Te=Ee.exports;p()(Ee,{VBtn:$["a"],VExpansionPanel:ee["a"],VExpansionPanelContent:te["a"],VIcon:N["a"],VList:me["a"],VListTile:he["a"],VListTileTitle:ge["b"],VMenu:fe["a"],VTab:De["a"],VTabItem:ve["a"],VTabs:Pe["a"],VTabsItems:Ie["a"],VTabsSlider:Ce["a"]});var ye={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Te},data:()=>({initData:null,step:""})},Oe=ye,Ae=Object(c["a"])(Oe,W,F,!1,null,null,null);Ae.options.__file="DetailForward.vue";var xe=Ae.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},Ne=[],Me={},be=Me,Le=a("a523"),Se=Object(c["a"])(be,we,Ne,!1,null,null,null);Se.options.__file="NotFound.vue";var Ue=Se.exports;p()(Se,{VContainer:Le["a"],VFlex:ae["a"],VLayout:M["a"],VProgressCircular:oe["a"]});const Re=[{path:"/danh-sach-ho-so/:index",name:"Landing",component:E,props:!0},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:L,props:!0},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:K,props:!0},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:xe,props:!0},{path:"*",name:"NotFound",component:Ue}];i["a"].use(f["a"]);const Be=new f["a"]({routes:Re});var ke=Be,Ke=a("4360"),We=a("967d"),Fe=(a("5a9d"),a("a576"),a("470b"),a("bc3a")),He=a.n(Fe);He.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",i["a"].use(We["default"]),i["a"].config.productionTip=!0,i["a"].mixin({methods:{getOriginality:function(){return 3}}}),new i["a"]({router:ke,store:Ke["a"],beforeCreate(){var e=this;e.$store.dispatch("loadInitResource")},render:function(e){return e(g)}}).$mount("#app_dynamic_report")},"74ef":function(e,t,a){},bbd0:function(e){e.exports={initData:{menuConfigToDo:"/o/rest/v2_1/menuconfigs/todo",counterMenuStep:"/o/rest/v2/statistics/dossiers/todo",getListThuTucHanhChinh:"/o/rest/v2/onegate/serviceconfigs/processes",serviceInfoApi:"/o/rest/v2/serviceinfos",regionApi:"/o/rest/v2/dictcollections",postDossierApi:"/o/rest/v2/dossiers",dossierTemplatesApi:"/o/rest/v2/dossiertemplates",applicantApi:"/o/rest/v2/applicants",dossierlogsApi:"/o/rest/v2/dossierlogs",dossierApi:"/o/rest/v2/dossiers",serviceProcessesApi:"/o/rest/v2/serviceprocesses",serviceConfigApi:"/o/rest/v2/serviceconfigs",serviceConfigByGovApi:"/o/rest/v2/serviceconfigs/govagencies",getNextAction:"/o/rest/v2/dossiers",documentApi:"/o/rest/v2_1/dossiers",stepConfigApi:"/o/rest/v2_1/stepconfigs",getServiceConfigs:"/o/rest/v2/serviceconfigs",commentApi:"/o/rest/v2/comments"},renderURLInit:"?p_p_id=OneGate&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit",dossierTemplates:[{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0},{partNo:"2",partName:"Giấy đăng ký hợp đồng xuất khẩu sản phẩm thủy sản (tải bản scan)",partTip:"",partType:0,multiple:!1,required:!1,esign:!1,fileTemplateNo:"",hasForm:!0,fileType:0}],advSearchTools:[{index:0,value:"adv_0",text:"Lọc hồ sơ theo năm - tháng - ngày",type:"select",dataSource:"data",spec:"year_month_day",display:!1,disabled:!1},{index:1,value:"adv_1",text:"Lọc hồ sơ theo top",type:"select",dataSource:"data",spec:"top",display:!1,disabled:!1},{index:2,value:"adv_2",text:"Lọc trạng thái hồ sơ",type:"select",dataSource:"getStatusLists",spec:"status",display:!1,disabled:!1},{index:3,value:"adv_3",text:"Lọc trạng thái con",type:"select",dataSource:"getSubstatusLists",spec:"substatus",display:!1,disabled:!1},{index:4,value:"adv_4",text:"Lọc theo mã đơn vị",type:"select",dataSource:"getAgencyLists",spec:"agency",display:!1,disabled:!1},{index:5,value:"adv_5",text:"Lọc theo mã thủ tục",type:"select",dataSource:"getServiceLists",spec:"service",display:!1,disabled:!1},{index:6,value:"adv_6",text:"Lọc theo lĩnh vực",type:"select",dataSource:"getDomainLists",spec:"domain",display:!1,disabled:!1},{index:7,value:"adv_7",text:"Tìm theo mã sổ theo dõi",type:"text",spec:"register",display:!1,disabled:!1}]}}});
//# sourceMappingURL=app.deabc8b4.js.map