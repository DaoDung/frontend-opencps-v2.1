(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],d=0,g=[];d<r.length;d++)s=r[d],n[s]&&g.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);p&&p(e);while(g.length)g.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},o=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var p=l;o.push(["56d7","chunk-vendors"]),a()})({"56d7":function(t,e,a){"use strict";a.r(e);a("0f18");var i=a("a026"),n=a("bb71");i["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app_login"}},[t.drawerLogin?a("div",{staticStyle:{position:"fixed",width:"100%",height:"100vh",left:"0",top:"0","z-index":"9999"},on:{click:t.showNoti}}):t._e(),t.drawer?a("div",{staticStyle:{position:"fixed",width:"100%",height:"100vh",left:"0",top:"0"}}):t._e(),t.isSignedIn?a("div",[a("div",{staticClass:"login_wrap_app_panel",staticStyle:{"text-align":"right","max-width":"1366px"}},[t.notificationCount>0?a("v-badge",{attrs:{color:"red"}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v("2")]),a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:""},on:{click:t.showNoti}},[a("v-icon",{staticClass:"swing animated",staticStyle:{"-webkit-animation":"swing 0.8s infinite",animation:"swing 0.8s infinite"},attrs:{size:"20",color:"blue darken-3"}},[t._v("\n            notifications_active\n          ")])],1)],1):a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:""},on:{click:t.showNoti}},[a("v-icon",{staticClass:"swing animated",staticStyle:{"-webkit-animation":"swing 0.8s infinite",animation:"swing 0.8s infinite"},attrs:{size:"20",color:"blue darken-3"}},[t._v("\n          notifications\n        ")])],1),a("v-menu",{attrs:{"offset-y":"","nudge-bottom":5}},[a("v-chip",{attrs:{slot:"activator"},on:{click:function(e){t.isShowUserMenu=!t.isShowUserMenu}},slot:"activator"},[""!==t.avatarURL?a("v-avatar",[a("img",{attrs:{src:t.avatarURL}})]):a("v-avatar",{staticClass:"white--text",style:{background:"#"+t.colorBG}},[a("span",{staticClass:"white--text"},[t._v(t._s(t.userNameLogin.slice(0,1).toUpperCase()))])]),t._v("\n          "+t._s(t.userNameLogin)+"\n          "),t.isShowUserMenu?a("v-icon",{staticClass:"swing animated",attrs:{size:"20",color:"blue darken-3"}},[t._v("\n            expand_less\n          ")]):a("v-icon",{staticClass:"swing animated",attrs:{size:"20",color:"blue darken-3"}},[t._v("\n            expand_more\n          ")])],1),a("v-list",[a("v-list-tile",{on:{click:t.doUserInfo}},[a("v-list-tile-action",[a("v-icon",{attrs:{size:"16"}},[t._v("person")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Thông tin tài khoản")])],1)],1),a("v-list-tile",{on:{click:t.doExitApp}},[a("v-list-tile-action",[a("v-icon",{attrs:{size:"16",color:"red darken-3"}},[t._v("exit_to_app")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Đăng xuất")])],1)],1)],1)],1)],1),a("v-navigation-drawer",{staticClass:"login_drawer",staticStyle:{"-webkit-box-shadow":"0 8px 10px -5px rgba(0,0,0,.2), 0 5px 28px 2px rgba(0,0,0,.14), 0 -5px 28px 1px rgba(0,0,0,0)","box-shadow":"0 8px 10px -5px rgba(0,0,0,.2), 0 5px 28px 2px rgba(0,0,0,.14), 0 -5px 28px 1px rgba(0,0,0,0)","z-index":"999"},attrs:{fixed:"",right:"","hide-overlay":"",temporary:""},model:{value:t.drawerLogin,callback:function(e){t.drawerLogin=e},expression:"drawerLogin"}},[a("article",{staticClass:"glass down"},[a("v-list",{staticClass:"pa-1"},[a("v-list-tile",[a("v-list-tile-content",[a("v-btn-toggle",{staticStyle:{width:"100%"},attrs:{mandatory:""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[a("v-btn",{staticClass:"px-0",attrs:{block:"",flat:""}},[t._v("\n                  Thông báo mới\n                ")]),a("v-btn",{staticClass:"px-0",attrs:{block:"",flat:""}},[t._v("\n                  Đánh dấu đã đọc\n                ")])],1)],1)],1)],1)],1)])],1):a("div",{staticStyle:{position:"relative",height:"50px"}},[a("div",{staticClass:"login-wrapper"},[a("div",{staticClass:"login-input"},[a("div",{staticClass:"ico ico-user"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",placeholder:"Tài khoản đăng nhập"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),a("div",{staticClass:"ico ico-pass"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.passWord,expression:"passWord"}],attrs:{type:"password",placeholder:"Mật khẩu"},domProps:{value:t.passWord},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.goToDangNhapPress(e):null},input:function(e){e.target.composing||(t.passWord=e.target.value)}}})])]),a("div",{staticClass:"login-input"},[a("div",{staticStyle:{width:"100%"}},[a("a",{staticClass:"text-hover-blue",staticStyle:{"line-height":"30px","font-size":"12px",color:"#005792","text-decoration":"underline","padding-left":"10px"},attrs:{href:t.forgottenURLStr}},[t._v("Quên mật khẩu?")])]),a("div",{staticStyle:{width:"100%","text-align":"right"}},[a("button",{staticClass:"btn-register",attrs:{type:"button"},on:{click:t.goToDangKyPage}},[t._v("Đăng ký")]),a("button",{staticClass:"btn-login",attrs:{type:"button"},on:{click:t.goToDangNhap}},[t._v("Đăng nhập")])])])])])])},s=[],r=a("bc3a"),l=a.n(r),c=a("854a"),p=a.n(c);p.a.options={closeButton:!0,timeOut:"15000"};var d={data:()=>({isSignedIn:!1,userNameLogin:"",drawerLogin:!1,avatarURL:"http://via.placeholder.com/350x150",notificationCount:0,isShowUserMenu:!1,toggle_exclusive:0,forgottenURLStr:"",userName:"",passWord:"",userData:{},colorBG:"009688"}),created(){let t=this;t.$nextTick(function(){t.isSignedIn=themeDisplay.isSignedIn(),t.userNameLogin=themeDisplay.getUserName(),t.colorBG=t.intToRGB(t.hashCode(t.userNameLogin));let e=themeDisplay.getLayoutRelativeURL().substring(0,themeDisplay.getLayoutRelativeURL().lastIndexOf("/"));if(t.forgottenURLStr=""!==e?e+"/register/#/cap-lai-mat-khau":themeDisplay.getURLHome()+"/register/#/cap-lai-mat-khau",t.isSignedIn){t.userData={};let e={responseType:"blob"};l.a.get("/o/v1/opencps/users/"+themeDisplay.getUserId(),e).then(function(e){t.userData=e.data,t.avatarURL=t.userData["avatar"],t.avatarURL.includes("img_id=0")&&(t.avatarURL=""),t.userNameLogin=t.userData["userName"],t.colorBG=t.intToRGB(t.hashCode(t.userNameLogin))}).catch(function(e){t.avatarURL=""})}})},methods:{showNoti(){let t=this;t.drawerLogin=!t.drawerLogin,t.isShowUserMenu=!1},doRegisterRedirect(){let t=themeDisplay.getLayoutRelativeURL().substring(0,themeDisplay.getLayoutRelativeURL().lastIndexOf("/"));window.location.href=""!==t?t+"/register":themeDisplay.getURLHome()+"/register"},doUserInfo(){if(null!==themeDisplay&&void 0!==themeDisplay){let t=themeDisplay.getLayoutRelativeURL().substring(0,themeDisplay.getLayoutRelativeURL().lastIndexOf("/"));window.location.href=t+"/profile"}else window.location.href="/profile"},doExitApp(){window.location.href="/c/portal/logout"},goToDangKyPage(){if(null!==themeDisplay&&void 0!==themeDisplay){let t=themeDisplay.getLayoutRelativeURL().substring(0,themeDisplay.getLayoutRelativeURL().lastIndexOf("/"));window.location.href=""!==t?t+"/register":themeDisplay.getURLHome()+"/register"}else window.location.href="/register"},goToDangNhap(){let t=this;l.a.post("/o/v1/opencps/login",{},{headers:{Authorization:"BASIC "+window.btoa(t.userName+":"+t.passWord)}}).then(function(t){if(""!==t.data&&"ok"!==t.data&&"captcha"!==t.data)"pending"===t.data?window.location.href=window.themeDisplay.getURLHome()+"/register#/xac-thuc-tai-khoan?active_user_id="+window.themeDisplay.getUserId()+"&redirectURL="+window.themeDisplay.getURLHome():window.location.href=t.data;else if("ok"===t.data)window.location.href=window.themeDisplay.getURLHome();else if("captcha"===t.data){let t=themeDisplay.getLayoutRelativeURL().substring(0,themeDisplay.getLayoutRelativeURL().lastIndexOf("/"));window.location.href=""!==t?t+"/register#/login":themeDisplay.getURLHome()+"/register#/login"}else p.a.error("Tên đăng nhập hoặc mật khẩu không chính xác.")}).catch(function(t){p.a.error("Tên đăng nhập hoặc mật khẩu không chính xác.")})},goToDangNhapPress(t){let e=this;13==t.keyCode&&l.a.post("/o/v1/opencps/login",{},{headers:{Authorization:"BASIC "+window.btoa(e.userName+":"+e.passWord)}}).then(function(t){if(console.log(t.data),""!==t.data&&"ok"!==t.data&&"captcha"!==t.data)"pending"===t.data?window.location.href=window.themeDisplay.getURLHome()+"/register#/xac-thuc-tai-khoan?active_user_id="+window.themeDisplay.getUserId()+"&redirectURL="+window.themeDisplay.getURLHome():window.location.href=t.data;else if("ok"===t.data)window.location.href=window.themeDisplay.getURLHome();else if("captcha"===t.data){let t=themeDisplay.getLayoutRelativeURL().substring(0,themeDisplay.getLayoutRelativeURL().lastIndexOf("/"));window.location.href=""!==t?t+"/register#/login":themeDisplay.getURLHome()+"/register#/login"}else p.a.error("Tên đăng nhập hoặc mật khẩu không chính xác.")}).catch(function(t){p.a.error("Tên đăng nhập hoặc mật khẩu không chính xác.")})},hashCode(t){for(var e=0,a=0;a<t.length;a++)e=t.charCodeAt(a)+((e<<5)-e);return e},intToRGB(t){var e=(16777215&t).toString(16).toUpperCase();return"00000".substring(0,6-e.length)+e}}},g=d,u=a("2877"),h=a("6544"),v=a.n(h),f=a("7496"),m=a("8212"),w=a("4ca6"),y=a("8336"),x=a("a609"),b=a("cc20"),L=a("132d"),k=a("8860"),R=a("ba95"),_=a("40fe"),U=a("5d23"),D=a("e449"),C=a("f774"),S=Object(u["a"])(g,o,s,!1,null,null,null);S.options.__file="App.vue";var T=S.exports;v()(S,{VApp:f["a"],VAvatar:m["a"],VBadge:w["a"],VBtn:y["a"],VBtnToggle:x["a"],VChip:b["a"],VIcon:L["a"],VList:k["a"],VListTile:R["a"],VListTileAction:_["a"],VListTileContent:U["a"],VListTileTitle:U["b"],VMenu:D["a"],VNavigationDrawer:C["a"]}),l.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",i["a"].config.productionTip=!0,new i["a"]({render:function(t){return t(T)}}).$mount("#app_login")}});
//# sourceMappingURL=app.bc60f7cb.js.map