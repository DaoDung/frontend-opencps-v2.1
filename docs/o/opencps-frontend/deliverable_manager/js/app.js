(function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],p=0,u=[];p<s.length;p++)i=s[p],o[i]&&u.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0759":function(module,__webpack_exports__,__webpack_require__){"use strict";var _components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2af9");__webpack_exports__["a"]={props:["index","id"],components:{BbatTableEditorComponentSimple:_components__WEBPACK_IMPORTED_MODULE_0__["b"],BbatTableEditorComponent:_components__WEBPACK_IMPORTED_MODULE_0__["a"],ViewPdf:_components__WEBPACK_IMPORTED_MODULE_0__["d"]},data:function(){return{active:0,loading:!1,dataSocket:{},tempCounter:0,detail:{},showComponent:!1}},created:function created(){var vm=this;vm.$nextTick(function(){setTimeout(function(){var formId=vm.items[vm.index]["formScriptFileId"];console.log("formId",formId),vm.$store.dispatch("getContentFile",formId),vm.showComponent=!1,vm.$store.dispatch("getDeliverableById",vm.id).then(function(e){vm.detail=e,vm.showComponent=!0}),vm.$store.dispatch("getContentFileSimple"),vm.tempCounter=vm.pullCounter,vm.$socket.onmessage=function(data){var dataObj=eval("( "+data.data+" )");vm.dataSocket[dataObj.respone]=dataObj[dataObj.respone],console.log("vm.dataSocket",vm.dataSocket),vm.$store.commit("setdataSocket",vm.dataSocket),"api"===dataObj["type"]&&"200"===dataObj["status"]&&(vm.tempCounter=vm.tempCounter-1,vm.tempCounter<0&&(vm.tempCounter=0),vm.$store.commit("setpullCounter",vm.tempCounter))}},100)})},watch:{$route:function(e,t){}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},pullCounter:{get:function(){return this.$store.getters.pullCounter},set:function(e){this.$store.commit("setpullCounter",e)}}},methods:{goBack:function(){window.history.back()},backToList:function(){var e=this,t=e.$router.history.current,a=t.query,n=(t.path,"?");for(var o in a["state_change"]="0",a["renew"]="",a)""!==a[o]&&"undefined"!==a[o]&&void 0!==a[o]&&(n+=o+"="+a[o]+"&");n+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:"/danh-sach-giay-to/"+e.index+n})},saveToData:function(e){var t=this,a=t.$refs.bbatFormSimple,n=t.$refs.bbatForm,o={};null!==a&&void 0!==a&&"undefined"!==a&&(o=a.data),null!==n&&void 0!==n&&"undefined"!==n&&(o["formData"]={},console.log("bbatForm",n.data),o["formData"]=n.data),o["deliverableType"]=t.items[t.index]["typeCode"],console.log("submitDataObject",o),-1===e||t.$store.dispatch("createDeliverable",o)}}}},1059:function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98");__webpack_exports__["a"]={props:["id","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{isCallBack:!0,config:{},pullOk:!0,pullCounter:0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}}}},computed:{detailForm:function(){var e=this.$store.getters.getContentFileSimple;return console.log("detailDynamicSimple",e),""===e?[]:e},dataSocket:{get:function(){return this.$store.getters.dataSocket},set:function(e){this.$store.commit("setdataSocket",e)}},pullCounterOrg:function(){return this.$store.getters.pullCounter}},updated:function(){var e=this;e.$nextTick(function(){e.isCallBack&&(e.isCallBack=!1,e.processDataSource(),setTimeout(function(){e.processDataSourceVerify(),"0"!==String(e.id)&&(e.data=e.datainput),0===e.pullCounterOrg&&(e.pullOk=!0)},500))})},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(e,t){var a=this;t.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1,console.log("vm.pullCounter",a.pullCounter),a.$socket.sendObj({type:"api",cmd:"get",respone:t.concatina["datasource_key"],api:t.concatina["datasource_api"]+"?"+t.concatina["query"]+"="+e,headers:{Token:a.getAuthToken(),groupId:a.getScopeGroupId(),USER_ID:a.getUserId()}}))},processDataSourceVerify:function(){var e=this;for(var t in e.detailForm)e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")&&e.data.hasOwnProperty(e.detailForm[t]["model"])&&String(e.data[e.detailForm[t]["model"]]).startsWith("[")&&(e.data[e.detailForm[t]["model"]]=JSON.parse(e.data[e.detailForm[t]["model"]]))},processDataSource:function(){var e=this;for(var t in e.detailForm)if(e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")){e.pullOk=!1,e.pullCounter=e.pullCounter+1,console.log("vm.pullCounter",e.pullCounter);var a=e.detailForm[t]["datasource_api"];e.detailForm[t]["dependency"]&&e.detailForm[t].hasOwnProperty("pk")&&(a=a+"?pk="+e.id+"&col="+e.detailForm[t]["pk"]),e.$socket.sendObj({type:"api",cmd:"get",respone:e.detailForm[t]["datasource_key"],api:a,headers:{Token:e.getAuthToken(),groupId:e.getScopeGroupId(),USER_ID:e.getUserId()}})}}}}},"146f":function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98");__webpack_exports__["a"]={props:["id","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{pullCounter:0,isCallBack:!0,config:{},pullOk:!0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}}}},computed:{detailForm:function(){var e=this.$store.getters.getContentFile;return console.log("detailDynamic",e),""===e?[]:e},dataSocket:{get:function(){return this.$store.getters.dataSocket},set:function(e){this.$store.commit("setdataSocket",e)}},pullCounterOrg:function(){return this.$store.getters.pullCounter}},updated:function(){var e=this;e.$nextTick(function(){e.isCallBack&&(e.isCallBack=!1,e.processDataSource(),setTimeout(function(){e.processDataSourceVerify(),"0"!==String(e.id)&&(e.data=JSON.parse(e.datainput)),0===e.pullCounterOrg&&(e.pullOk=!0)},500))})},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(e,t){var a=this;t.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1,a.$store.commit("setpullCounter",a.pullCounter),a.$socket.sendObj({type:"api",cmd:"get",respone:t.concatina["datasource_key"],api:t.concatina["datasource_api"]+"?"+t.concatina["query"]+"="+e,headers:{Token:a.getAuthToken(),groupId:a.getScopeGroupId(),USER_ID:a.getUserId()}}))},processDataSourceVerify:function(){var e=this;for(var t in e.detailForm)e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")&&e.data.hasOwnProperty(e.detailForm[t]["model"])&&String(e.data[e.detailForm[t]["model"]]).startsWith("[")&&(e.data[e.detailForm[t]["model"]]=JSON.parse(e.data[e.detailForm[t]["model"]]))},processDataSource:function(){var e=this;for(var t in e.detailForm)if(e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")){e.pullOk=!1,e.pullCounter=e.pullCounter+1,e.$store.commit("setpullCounter",e.pullCounter);var a=e.detailForm[t]["datasource_api"];e.detailForm[t]["dependency"]&&e.detailForm[t].hasOwnProperty("pk")&&(a=a+"?pk="+e.id+"&col="+e.detailForm[t]["pk"]),e.$socket.sendObj({type:"api",cmd:"get",respone:e.detailForm[t]["datasource_key"],api:a,headers:{Token:e.getAuthToken(),groupId:e.getScopeGroupId(),USER_ID:e.getUserId()}})}}}}},"1a0d":function(e,t,a){"use strict";var n=a("d593"),o=a.n(n);o.a},"2af9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"px-3 py-3 vuejx__form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[null!==e.detailForm&&e.detailForm.length>0?a("v-layout",{staticStyle:{"margin-bottom":"100px","max-width":"800px",margin:"0 auto"},attrs:{row:"",wrap:""}},e._l(e.detailForm,function(t,n){return a("v-flex",{key:n,class:t["class"]},["label"===t.type?a("span",{domProps:{innerHTML:e._s(t["label"])}}):e._e(),"avatar"===t.type?a("attached-file-avatar",{attrs:{pk:e.data[t.model],"pick-item":t,"current-data":e.data}}):e._e(),"date"===t.type?a("datetime-picker",{class:t["class_component"],attrs:{item:t,"data-value":e.data[t.model]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"button"===t.type&&t["link"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:"",to:t.url+"?pk="+e.data[t.pk]+"&col="+t.pk}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["account"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAccount(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["attached"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["fileform"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"selects"===t.type&&!e.pullOk&&t.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:t["class_component"],attrs:{items:e.dataSocket[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2):e._e(),"selects"!==t.type||t.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:t["class_component"],attrs:{items:t.datasource,"item-text":t.itemText,"item-value":t.itemValue,label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2),"text-fields"===t.type?a("v-text-field",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2):e._e(),"textarea"===t.type?a("v-textarea",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],clearable:"",rows:2,box:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"codemirror"===t.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(t["label"]))]):e._e(),"codemirror"===t.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"v-switch"===t.type?a("v-switch",{class:t["class_component"],attrs:{label:t["label"]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2):e._e(),e._l(t["alongside"],function(n,o){return t.hasOwnProperty("alongside")?a("div",{key:o,class:n["class"],style:n["style"]},["label"===n.type?a("span",{domProps:{innerHTML:e._s(n["label"])}}):e._e(),"avatar"===n.type?a("attached-file-avatar",{class:n["class_component"],attrs:{pk:e.data[n.model],"pick-item":n}}):e._e(),"date"===n.type?a("datetime-picker",{class:n["class_component"],attrs:{item:n,"data-value":e.data[n.model]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"button"===n.type&&n["link"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:"",to:n.url+"?pk="+e.data[n.pk]+"&col="+n.pk}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["account"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAccount(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["attached"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAttached(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"selects"===n.type&&!e.pullOk&&n.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===n.type&&e.pullOk&&n.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:n["class_component"],attrs:{items:e.dataSocket[n["datasource_key"]],"item-text":n.itemText,"item-value":n.itemValue,label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2):e._e(),"selects"!==n.type||n.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:n["class_component"],attrs:{items:n.datasource,"item-text":n.itemText,"item-value":n.itemValue,label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2),"text-fields"===n.type?a("v-text-field",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],clearable:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2):e._e(),"textarea"===n.type?a("v-textarea",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],clearable:"",box:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"codemirror"===n.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(n["label"]))]):e._e(),"codemirror"===n.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"v-switch"===n.type?a("v-switch",{class:n["class_component"],attrs:{label:n["label"]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2):e._e()],1):e._e()})],2)})):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"video-preloader",attrs:{id:"video-preloader"}},[a("video",{attrs:{loop:"",id:"editor-video-preloader",width:"100%",height:"350",muted:"true",src:"https://editorassets.parastorage.com/video-preloader/editor-video-preloader-2-@2x.mp4"},domProps:{muted:!0}})])])],1)],1)},o=[],r=a("146f"),i=r["a"],s=a("2877"),l=Object(s["a"])(i,n,o,!1,null,null,null);l.options.__file="BbatTableEditorComponent.vue";var c=l.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"px-3 py-2 grid-list",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[null!==e.detailForm&&e.detailForm.length>0?a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.detailForm,function(t,n){return a("v-flex",{key:n,class:t["class"]},["avatar"===t.type?a("attached-file-avatar",{attrs:{pk:e.data[t.model],"pick-item":t,"current-data":e.data}}):e._e(),"date"===t.type?a("datetime-picker",{class:t["class_component"],attrs:{item:t,"data-value":e.data[t.model]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"button"===t.type&&t["link"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:"",to:t.url+"?pk="+e.data[t.pk]+"&col="+t.pk}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["account"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAccount(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["attached"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["fileform"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"selects"===t.type&&!e.pullOk&&t.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:t["class_component"],attrs:{items:e.dataSocket[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,box:"",label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"selects"!==t.type||t.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:t["class_component"],attrs:{items:t.datasource,"item-text":t.itemText,"item-value":t.itemValue,box:"",label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}),"text-fields"===t.type?a("v-text-field",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],box:"",clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"textarea"===t.type?a("v-textarea",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],box:"",clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"codemirror"===t.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(t["label"]))]):e._e(),"codemirror"===t.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"v-switch"===t.type?a("v-switch",{class:t["class_component"],attrs:{label:t["label"]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),e._l(t["alongside"],function(n,o){return t.hasOwnProperty("alongside")?a("div",{key:o},["avatar"===n.type?a("attached-file-avatar",{class:n["class_component"],attrs:{pk:e.data[n.model],"pick-item":n}}):e._e(),"date"===n.type?a("datetime-picker",{class:n["class_component"],attrs:{item:n,"data-value":e.data[n.model]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"button"===n.type&&n["link"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:"",to:n.url+"?pk="+e.data[n.pk]+"&col="+n.pk}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["account"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAccount(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["attached"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAttached(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"selects"===n.type&&!e.pullOk&&n.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===n.type&&e.pullOk&&n.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:n["class_component"],attrs:{items:e.dataSocket[n["datasource_key"]],"item-text":n.itemText,"item-value":n.itemValue,box:"",label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"selects"!==n.type||n.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:n["class_component"],attrs:{items:n.datasource,"item-text":n.itemText,"item-value":n.itemValue,box:"",label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}),"text-fields"===n.type?a("v-text-field",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],box:"",clearable:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"textarea"===n.type?a("v-textarea",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],box:"",clearable:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"codemirror"===n.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(n["label"]))]):e._e(),"codemirror"===n.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"v-switch"===n.type?a("v-switch",{class:n["class_component"],attrs:{label:n["label"]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e()],1):e._e()})],2)})):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"video-preloader",attrs:{id:"video-preloader"}},[a("video",{attrs:{loop:"",id:"editor-video-preloader",width:"100%",height:"350",muted:"true",src:"https://editorassets.parastorage.com/video-preloader/editor-video-preloader-2-@2x.mp4"},domProps:{muted:!0}})])])],1)],1)},p=[],u=a("1059"),_=u["a"],m=Object(s["a"])(_,d,p,!1,null,null,null);m.options.__file="BbatTableEditorComponentSimple.vue";var v=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[e._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[e._v(e._s(e.total))]),e._v(" bản ghi. ")]),e.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",staticStyle:{"justify-content":"flex-end","-webkit-justify-content":"flex-end"}},[a("div",{staticClass:"px-3 xs2 flex"},[a("v-autocomplete",{attrs:{items:e.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:e.goToPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:e.customClass},[a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,on:{click:function(t){return t.preventDefault(),e.lastPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("first_page")])])]),a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.lastPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_left")])])]),a("li",{staticClass:"page-item",class:e.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.nextPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:e.classLastPage},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,on:{click:function(t){return t.preventDefault(),e.nextPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("last_page")])])])])]):e._e()])},b=[],f="TinyPagination",g={name:f,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:10,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(e){this.currentPage=parseInt(e)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var e=[],t={},a=1;a<=this.totalPages;++a)t={value:a,text:"Trang "+a},e.push(t);return e},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},y=g,k=Object(s["a"])(y,h,b,!1,null,null,null);k.options.__file="TinyPagination.vue";var x=k.exports,w=(a("fa98"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"pdfViewer",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])}),C=[],P={props:["id","datainput"],data:function(){return{data:{},dialogPDFLoading:!0,isCallBack:!0}},created:function(){var e=this;e.$nextTick(function(){e.isCallBack&&(e.isCallBack=!1,e.data=e.datainput,console.log("vm.datainput",e.datainput),console.log("vm.data",e.data),e.pullPDF())})},methods:{pullPDF:function(){var e=this;e.dialogPDFLoading=!0,console.log("pullPDF",e.data["fileEntryId"]),e.$store.dispatch("viewPDF",e.data["fileEntryId"]).then(function(t){e.dialogPDFLoading=!1,document.getElementById("pdfViewer").src=t})}}},D=P,O=Object(s["a"])(D,w,C,!1,null,null,null);O.options.__file="ViewPdf.vue";var S=O.exports;a.d(t,"a",function(){return c}),a.d(t,"b",function(){return v}),a.d(t,"c",function(){return x}),a.d(t,"d",function(){return S})},"3c87":function(e,t,a){"use strict";var n='\n    {\n        getAdminConfig(code: "opencps_deliverable") {\n            detailColumns\n        }\n    }\n';t["a"]={getAdminConfig:n}},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),_DeliverableTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("beb1"),_AdminConfig__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3c87"),_Deliverable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("eaa6"),_mutations;function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}vue__WEBPACK_IMPORTED_MODULE_0__["default"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]);var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},dataSocket:{},pullCounter:0,tocken:"",loginUser:[{email:"",role:""}],user:null,socket:{isConnected:!1,message:"",reconnectError:!1},endPointApi:"/o/rest/v2",getDeliverableTypes:[],getContentFile:"",getContentFileSimple:[]},actions:{loadInitResource:function(e){var t=e.state;return new Promise(function(e){null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20103}),e(t.initData)})},viewPDF:function(e,t){e.commit;var a=e.state;return new Promise(function(e,n){store.dispatch("loadInitResource").then(function(o){var r={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/deliverable/file/"+t,r).then(function(t){var a=t.data,n=window.URL.createObjectURL(a);e(n)}).catch(function(e){console.log(e),n(e)})})})},getDeliverableTypes:function(e){var t=e.commit,a=e.state;return new Promise(function(){var e={headers:{groupId:a.groupId,"Content-Type":"text/plain",Accept:"application/json"}},n=_DeliverableTypes__WEBPACK_IMPORTED_MODULE_3__["a"].getDeliverableTypes;axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/deliverable",n,e).then(function(e){a.getDeliverableTypes=e.data["getDeliverableTypes"]}).catch(function(){a.getDeliverableTypes=[],t("setsnackbarerror",!0)})})},getContentFile:function getContentFile(_ref4,fileEntryId){var commit=_ref4.commit,state=_ref4.state;return new Promise(function(){var options={headers:{groupId:state.groupId,Accept:"text/plain"}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/fileattach/"+fileEntryId+"/text",options).then(function(response){state.getContentFile=eval("( "+response.data+" )")}).catch(function(){state.getContentFile=""})})},getContentFileSimple:function getContentFileSimple(_ref5){var commit=_ref5.commit,state=_ref5.state;return new Promise(function(){var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json"}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_4__["a"].getAdminConfig;axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){state.getContentFileSimple=eval("( "+response.data["getAdminConfig"]["detailColumns"]+" )"),console.log("state.getContentFileSimple",state.getContentFileSimple)}).catch(function(){state.getContentFileSimple=[],commit("setsnackbarerror",!0)})})},getDeliverables:function(e,t){e.commit;var a=e.state;return new Promise(function(e,n){var o={headers:{groupId:a.groupId},params:{start:15*t.page-15,end:15*t.page}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/deliverable/"+t["type"],o).then(function(t){e(t.data)}).catch(function(e){n(e)})})},getDeliverableById:function(e,t){e.commit;var a=e.state;return new Promise(function(e,n){var o={headers:{groupId:a.groupId}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/deliverable/"+t+"/detail",o).then(function(t){t.data["hits"]["hits"].length>0?e(t.data["hits"]["hits"][0]["_source"]):e({})}).catch(function(e){n(e)})})},createDeliverable:function(e,t){var a=e.commit,n=e.state;return new Promise(function(){var e={headers:{groupId:n.groupId,"Content-Type":"text/plain",Accept:"application/json"}},o=_Deliverable__WEBPACK_IMPORTED_MODULE_5__["a"].createDeliverable.replace("INPUTBODY",JSON.stringify(t).replace(/"/g,'\\"'));axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/deliverable",o,e).then(function(e){console.log(e)}).catch(function(){a("setsnackbarerror",!0)})})}},mutations:(_mutations={SOCKET_ONOPEN:function(e,t){vue__WEBPACK_IMPORTED_MODULE_0__["default"].prototype.$socket=t.currentTarget,e.socket.isConnected=!0,setTimeout(function(){e.socket.isConnected&&3===e.refreshSocket&&(e.refreshSocket=0,window.location.reload(!0))},4e3)},SOCKET_ONCLOSE:function(e,t){console.log("SOCKET_ONCLOSE",t),e.refreshSocket=3,e.snackbarsocket=!0,e.socket.isConnected=!1},SOCKET_ONERROR:function(e,t){console.error(e,t)},SOCKET_ONMESSAGE:function(e,t){e.message=t}},_defineProperty(_mutations,WebSocket.WS_RECONNECT,function(e,t){console.log("WS_RECONNECT",e),console.log("WS_RECONNECT",t)}),_defineProperty(_mutations,WebSocket.WS_RECONNECT_ERROR,function(e){e.socket.reconnectError=!0}),_defineProperty(_mutations,"setInitData",function(e,t){e.initData=t}),_defineProperty(_mutations,"setsnackbarerror",function(e,t){e.snackbarerror=t}),_defineProperty(_mutations,"setsnackbarsocket",function(e,t){e.snackbarsocket=t}),_defineProperty(_mutations,"setpullCounter",function(e,t){e.pullCounter=t}),_defineProperty(_mutations,"setdataSocket",function(e,t){e.dataSocket=t}),_mutations),getters:{getsnackbarerror:function(e){return e.snackbarerror},getsnackbarsocket:function(e){return e.snackbarsocket},getDeliverableTypes:function(e){return e.getDeliverableTypes},getContentFile:function(e){return e.getContentFile},getContentFileSimple:function(e){return e.getContentFileSimple},pullCounter:function(e){return e.pullCounter},dataSocket:function(e){return e.dataSocket}}})},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("a026"),o=a("ce5b"),r=a.n(o);n["default"].use(r.a,{theme:{primary:"#212121",secondary:"#424242",accent:"#459fed",error:"#ff8e8e",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}});a("ca9a"),a("a51b"),a("c35c"),a("861c");var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("router-view"),a("go-top",{attrs:{size:42,"bg-color":"#0064c7"}})],1)},s=[],l=a("49ec"),c=a.n(l),d={props:["index"],data:function(){return{}},components:{GoTop:c.a},computed:{},methods:{}},p=d,u=a("2877"),_=Object(u["a"])(p,i,s,!1,null,null,null);_.options.__file="App.vue";var m=_.exports,v=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{attrs:{fixed:"",app:"",width:"240"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},e._l(e.items,function(t,n){return a("v-list-tile",{key:n,attrs:{to:"/danh-sach-giay-to/"+n}},[a("v-list-tile-action",[String(n)===String(e.index)?a("v-icon",{attrs:{color:"blue darken-3"}},[e._v("play_arrow")]):a("v-icon",[e._v("description")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.typeName))])],1)],1)}))],1),a("v-content",[a("router-view")],1),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarerror,callback:function(t){e.snackbarerror=t},expression:"snackbarerror"}},[e._v("\n    Yêu cầu thực hiện thất bại\n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.closeError()}}},[a("v-icon",[e._v("clear")])],1)],1),a("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarsocket,callback:function(t){e.snackbarsocket=t},expression:"snackbarsocket"}},[a("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),e._v("\n     \n    Mất kết nối, tự động kết nối lại trong giây lát ... \n    \n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.reloadPage()}}},[a("v-icon",[e._v("replay")])],1)],1)],1)},b=[],f={props:["index"],data:function(){return{dialog:!1,drawer:null,dataSocket:{}}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(e){this.$store.commit("setsnackbarerror",e)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(e){this.$store.commit("setsnackbarsocket",e)}}},methods:{redirectFilter:function(e){this.$router.push(e+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},reloadPage:function(){window.location.reload(!0)},deliverableRouter:function(e){console.log(e)}}},g=f,y=Object(u["a"])(g,h,b,!1,null,null,null);y.options.__file="Home.vue";var k=y.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[e._v("\n    Not found\n")])},w=[],C={},P=C,D=(a("1a0d"),Object(u["a"])(P,x,w,!1,null,"6c946066",null));D.options.__file="NotFound.vue";var O=D.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},[a("span",[e._v(e._s(void 0!==e.items[e.index]?e.items[e.index]["typeName"]:""))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}}),a("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"50px"}},[a("v-btn",{staticClass:"my-0 mx-2",attrs:{icon:""}},[a("v-icon",{attrs:{size:"16"}},[e._v("filter_list")])],1)],1)])]),a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{attrs:{color:"blue darken-3",dark:"",to:"/danh-sach-giay-to/"+e.index+"/editor/0"}},[e._v("\n      Thêm giấy phép\n    ")])],1),a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.hosoDatas,"total-items":e.hosoDatasTotal,"no-data-text":"Không có giấy phép nào","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item["_source"],t.index)}}},[e._v("\n            "+e._s(15*e.hosoDatasPage-15+t.index+1)+"\n          ")])],1),e._l(e.headers,function(n,o){return n.hasOwnProperty("value")?a("td",{key:o+"_"+t.item["_id"],class:n["class_column"]},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item["_source"],t.index)}}},[n.hasOwnProperty("layout_view")?a("template-rendering",{attrs:{item:t.item["_source"],layout_view:n.layout_view}}):a("span",[e._v("\n              "+e._s(t.item["_source"][n.value])+"\n            ")])],1)],1):e._e()}),e.hideAction?e._e():a("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:"",icon:""}},[a("v-icon",[e._v("picture_as_pdf")])],1)],1)],2)]}}])}),a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:e.hosoDatasTotal,page:e.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)])],1)},T=[],E=a("d3a7"),I=E["a"],$=Object(u["a"])(I,S,T,!1,null,null,null);$.options.__file="DeliverableList.vue";var M=$.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},[a("span",[e._v(e._s(void 0!==e.items[e.index]?e.items[e.index]["typeName"]:""))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}}),a("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[a("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{icon:""}},[a("v-icon",{attrs:{size:"16"}},[e._v("more_vert")])],1),a("v-btn",{staticClass:"ml-0 btn-border-left mr-3 my-0",attrs:{icon:"","active-class":"temp_active"},on:{click:e.backToList}},[a("v-icon",{attrs:{size:"16"}},[e._v("reply")])],1)],1)])]),e.showComponent?a("bbat-table-editor-component-simple",{ref:"bbatFormSimple",attrs:{id:e.id,datainput:e.detail}}):e._e(),a("v-tabs",{attrs:{"icons-and-text":"",centered:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tabs-slider"),"0"!==String(e.id)?a("v-tab",{key:1,attrs:{href:"#tab-1"}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n        XEM GIẤY PHÉP\n      ")])],1):e._e(),a("v-tab",{key:2,attrs:{href:"#tab-2"}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n        FORM NHẬP GIẤY PHÉP\n      ")])],1),"0"!==String(e.id)?a("v-tab",{key:3,attrs:{href:"#tab-3"}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n        LỊCH SỬ CẬP NHẬT GIẤY PHÉP\n      ")])],1):e._e(),a("v-tabs-items",{attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"}},["0"!==String(e.id)?a("v-tab-item",{key:1,attrs:{value:"tab-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[a("view-pdf",{attrs:{id:e.id,datainput:e.detail}})],1):e._e(),a("v-tab-item",{key:2,attrs:{value:"tab-2","reverse-transition":"fade-transition",transition:"fade-transition"}},[e.showComponent?a("bbat-table-editor-component",{ref:"bbatForm",attrs:{id:e.id,datainput:e.detail["formData"]}}):e._e()],1),"0"!==String(e.id)?a("v-tab-item",{key:3,attrs:{value:"tab-3","reverse-transition":"fade-transition",transition:"fade-transition"}},[e._v("\n        view logs\n      ")]):e._e()],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-right pt-0 ml-1 px-0",staticStyle:{"border-top":"1px solid #dcdcdc"},attrs:{xs12:""}},[e.loading?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0,color:"blue darken-3"}}):e._e(),"0"===String(e.id)?a("v-btn",{staticClass:"mr-0",attrs:{color:"teal darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.saveToData(-1)}}},[e._v("Ghi lại và thêm mới")]):e._e(),a("v-btn",{staticClass:"mr-0",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.saveToData(0)}}},[e._v("Ghi lại")]),a("v-btn",{staticClass:"mr-0",attrs:{color:"red darken-3",dark:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")]),e._v("  \n        Quay lại\n      ")],1)],1)],1)],1)},L=[],R=a("0759"),A=R["a"],B=Object(u["a"])(A,F,L,!1,null,null,null);B.options.__file="DeliverableEditor.vue";var U=B.exports,q=[{path:"/danh-sach-giay-to/:index",name:"Home",component:k,props:!0,meta:{requiresAuth:!0},children:[{path:"/danh-sach-giay-to/:index",name:"DeliverableList",component:M,props:!0,meta:{requiresAuth:!0}},{path:"/danh-sach-giay-to/:index/editor/:id",name:"DeliverableEditor",component:U,props:!0,meta:{requiresAuth:!0}}]},{path:"*",name:"NotFound",component:O}];n["default"].use(v["a"]);var K=new v["a"]({routes:q});K.beforeEach(function(e,t,a){e.matched.some(function(e){return e.meta.requiresAuth});a()});var z=K,W=a("4360"),j=a("b408"),N=a.n(j),H=a("967d"),V=a("e0e8"),G=a("bc3a"),Y=a.n(G);n["default"].use(V["a"]),n["default"].use(H["default"]);var J=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,Z=void 0!==window.themeDisplay?window.themeDisplay.getCompanyId():0,Q=void 0!==window.themeDisplay?window.themeDisplay.getUserId():0,X=void 0!==window.themeDisplay?window.themeDisplay.getUserName():"",ee=void 0!==window.themeDisplay?window.themeDisplay.getPortalURL().replace("http://",""):"localhost:8080",te=void 0!==window.themeDisplay?window.Liferay.authToken:"",ae=ee.indexOf(":")>0?ee.substr(0,ee.indexOf(":")):ee;n["default"].use(N.a,"ws://"+ae+":8080/o/v1/socket/web?groupId="+J+"&portalURL="+ee+"&companyId="+Z+"&userId="+Q+"&userName="+X+"&Token="+te,{store:W["a"],format:"json",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3,maxHttpBufferSize:31457280,maxPayload:31457280}),Y.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",Y.a.defaults.headers.common["groupId"]=J,n["default"].config.productionTip=!0,n["default"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new n["default"]({el:"#app",router:z,store:W["a"],render:function(e){return e(m)},created:function(){var e=this;e.$nextTick(function(){e.$store.dispatch("getDeliverableTypes")})}})},"861c":function(e,t,a){},a51b:function(e,t,a){},beb1:function(e,t,a){"use strict";var n="\n    {\n        getDeliverableTypes(start: -1, end: -1) {\n            typeCode\n            typeName\n            formScriptFileId\n            formReportFileId\n            dataConfig\n            tableConfig\n        }\n    }\n";t["a"]={getDeliverableTypes:n}},c35c:function(e,t,a){},ca9a:function(e,t,a){},d3a7:function(module,__webpack_exports__,__webpack_require__){"use strict";var _components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2af9");__webpack_exports__["a"]={props:["index"],components:{TinyPagination:_components__WEBPACK_IMPORTED_MODULE_0__["c"]},data:function(){return{headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,dataSocket:{},loadingTable:!1}},created:function created(){var vm=this;vm.$nextTick(function(){setTimeout(function(){vm.headers=eval("( "+vm.items[vm.index]["tableConfig"]+" )")["headers"],vm.pullData(vm.items[vm.index]["typeCode"])},100)})},watch:{$route:function(e,t){},index:function index(val){var vm=this;vm.headers=eval("( "+vm.items[val]["tableConfig"]+" )")["headers"]}},computed:{items:function(){return this.$store.getters.getDeliverableTypes}},methods:{pullData:function(e){var t=this,a={type:e,page:t.hosoDatasPage};t.$store.dispatch("getDeliverables",a).then(function(e){t.hosoDatasTotal=e["hits"]["total"],t.hosoDatas=e["hits"]["hits"]})},viewDetail:function(e,t){var a=this,n=a.$router.history.current,o=n.query,r="?";for(var i in o)""!==o[i]&&"undefined"!==o[i]&&void 0!==o[i]&&(r+=i+"="+o[i]+"&");a.$router.push({path:"/danh-sach-giay-to/"+a.index+"/editor/"+e["entryClassPK"]+r})},paggingData:function(e){var t=this,a=t.$router.history.current,n=a.query,o="?";for(var r in n["page"]="",n)""!==n[r]&&"undefined"!==n[r]&&void 0!==n[r]&&(o+=r+"="+n[r]+"&");o+="page="+e.page,t.$router.push({path:a.path+o})}}}},d593:function(e,t,a){},eaa6:function(e,t,a){"use strict";var n='\n    mutation {\n        createDeliverable(\n            body: "INPUTBODY"\n        ) {\n            deliverableId\n        }\n    }\n';t["a"]={createDeliverable:n}},f04e:function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],n=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)if(a.push(i.value),t&&a.length===t)break}catch(e){o=!0,r=e}finally{try{n||null==s["return"]||s["return"]()}finally{if(o)throw r}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}__webpack_exports__["a"]={data:function(){return{toDateFormatted:null,toDate:null}},props:["value","item","dataValue"],watch:{toDate:function(e){this.toDateFormatted=this.formatDate(e),this.$emit("input",new Date(e).getTime())}},methods:{formatDate:function(e){if(!e)return null;var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=_slicedToArray(t,3),n=a[0],o=a[1],r=a[2];return"".concat(r,"-").concat(o.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")}}}},fa98:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!0,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[a("v-text-field",{attrs:{slot:"activator",box:"","append-icon":"event",label:e.item.required?e.item["label"]+" 💥":e.item["label"],rules:e.processRules(e.item.rules),value:e.formatDate(e.dataValue)},on:{blur:function(t){e.toDate=e.parseDate(e.toDateFormatted)}},slot:"activator"}),a("v-date-picker",{attrs:{"no-title":""},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)},o=[],r=a("f04e"),i=r["a"],s=a("2877"),l=Object(s["a"])(i,n,o,!1,null,null,null);l.options.__file="DatetimePicker.vue";t["a"]=l.exports}});
//# sourceMappingURL=app.js.map