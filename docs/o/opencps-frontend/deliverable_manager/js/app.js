(function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)a=s[d],o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a0d":function(e,t,n){"use strict";var r=n("d593"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("a026"),o=n("ce5b"),i=n.n(o);r["default"].use(i.a,{theme:{primary:"#212121",secondary:"#424242",accent:"#459fed",error:"#ff8e8e",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}});n("ca9a"),n("a51b"),n("c35c"),n("861c");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("router-view"),n("go-top",{attrs:{size:42,"bg-color":"#0064c7"}})],1)},s=[],c=n("49ec"),l=n.n(c),u={props:["index"],data:function(){return{dialog:!1,drawer:null,dataSocket:{}}},components:{GoTop:l.a},computed:{items:function(){return this.$store.getters.getDeliverableTypes},user:function(){return this.$store.getters.user},drawer:function(){return this.$store.getters.drawer},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(e){this.$store.commit("setsnackbarerror",e)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(e){this.$store.commit("setsnackbarsocket",e)}}},methods:{redirectFilter:function(e){this.$router.push(e+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},reloadPage:function(){window.location.reload(!0)},deliverableRouter:function(e){console.log(e)}}},d=u,p=n("2877"),f=Object(p["a"])(d,a,s,!1,null,null,null);f.options.__file="App.vue";var m=f.exports,h=n("8c4f"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{fixed:"",app:"",width:"240"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},e._l(e.items,function(t,r){return n("v-list-tile",{key:r,attrs:{to:"/danh-sach-giay-to/"+r}},[n("v-list-tile-action",[String(r)===String(e.index)?n("v-icon",{attrs:{color:"blue darken-3"}},[e._v("play_arrow")]):n("v-icon",[e._v("description")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.typeName))])],1)],1)}))],1),n("v-content",[n("router-view")],1),n("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarerror,callback:function(t){e.snackbarerror=t},expression:"snackbarerror"}},[e._v("\n    Yêu cầu thực hiện thất bại\n    "),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.closeError()}}},[n("v-icon",[e._v("clear")])],1)],1),n("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarsocket,callback:function(t){e.snackbarsocket=t},expression:"snackbarsocket"}},[n("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),e._v("\n     \n    Mất kết nối, tự động kết nối lại trong giây lát ... \n    \n    "),n("v-btn",{attrs:{icon:""},on:{click:function(t){e.reloadPage()}}},[n("v-icon",[e._v("replay")])],1)],1)],1)},b=[],g={props:["index"],data:function(){return{dialog:!1,drawer:null,dataSocket:{}}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(e){this.$store.commit("setsnackbarerror",e)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(e){this.$store.commit("setsnackbarsocket",e)}}},methods:{redirectFilter:function(e){this.$router.push(e+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},reloadPage:function(){window.location.reload(!0)},deliverableRouter:function(e){console.log(e)}}},w=g,k=Object(p["a"])(w,v,b,!1,null,null,null);k.options.__file="Home.vue";var y=k.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[e._v("\n    Not found\n")])},D=[],T={},S=T,x=(n("1a0d"),Object(p["a"])(S,_,D,!1,null,"6c946066",null));x.options.__file="NotFound.vue";var O=x.exports,E=(n("84bf"),[{path:"/danh-sach-giay-to/:index",name:"Home",component:y,props:!0,meta:{requiresAuth:!0},children:[{path:"/danh-sach-giay-to/:index",name:"DeliverableList",component:function(){return Promise.resolve().then(n.bind(null,"84bf"))},props:!0,meta:{requiresAuth:!0}}]},{path:"*",name:"NotFound",component:O}]);r["default"].use(h["a"]);var C=new h["a"]({routes:E});C.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth});n()});var N,$=C,I=n("2f62"),P=n("bc3a"),j=n.n(P),R="\n    {\n        getDeliverableTypes(start: -1, end: -1) {\n            typeCode\n            typeName\n        }\n    }\n",A={getDeliverableTypes:R};function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r["default"].use(I["a"]);var M=new I["a"].Store({state:{groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},tocken:"",loginUser:[{email:"",role:""}],user:null,socket:{isConnected:!1,message:"",reconnectError:!1},endPointApi:"/o/rest/v2",getDeliverableTypes:[]},actions:{loadInitResource:function(e){var t=e.state;return new Promise(function(e){null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20103}),e(t.initData)})},getDeliverableTypes:function(e){var t=e.commit,n=e.state;return new Promise(function(){var e={headers:{Authorization:"Basic dGVzdEBsaWZlcmF5LmNvbTp0ZXN0",groupId:n.groupId,"Content-Type":"text/plain",Accept:"application/json"}},r=A.getDeliverableTypes;console.log(r),j.a.post("/o/v1/opencps/deliverable",r,e).then(function(e){n.getDeliverableTypes=e.data["getDeliverableTypes"]}).catch(function(){n.getDeliverableTypes=[],t("setsnackbarerror",!0)})})}},mutations:(N={SOCKET_ONOPEN:function(e,t){r["default"].prototype.$socket=t.currentTarget,e.socket.isConnected=!0,setTimeout(function(){e.socket.isConnected&&3===e.refreshSocket&&(e.refreshSocket=0,window.location.reload(!0))},4e3)},SOCKET_ONCLOSE:function(e,t){console.log("SOCKET_ONCLOSE",t),e.refreshSocket=3,e.snackbarsocket=!0,e.socket.isConnected=!1},SOCKET_ONERROR:function(e,t){console.error(e,t)},SOCKET_ONMESSAGE:function(e,t){e.message=t}},L(N,WebSocket.WS_RECONNECT,function(e,t){console.log("WS_RECONNECT",e),console.log("WS_RECONNECT",t)}),L(N,WebSocket.WS_RECONNECT_ERROR,function(e){e.socket.reconnectError=!0}),L(N,"setInitData",function(e,t){e.initData=t}),L(N,"setsnackbarerror",function(e,t){e.snackbarerror=t}),L(N,"setsnackbarsocket",function(e,t){e.snackbarsocket=t}),N),getters:{getsnackbarerror:function(e){return e.snackbarerror},getsnackbarsocket:function(e){return e.snackbarsocket},getDeliverableTypes:function(e){return e.getDeliverableTypes}}}),F=n("b408"),U=n.n(F),G=n("967d"),W=n("e0e8");r["default"].use(W["a"]),r["default"].use(G["default"]);var z=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,K=void 0!==window.themeDisplay?window.themeDisplay.getCompanyId():0,q=void 0!==window.themeDisplay?window.themeDisplay.getUserId():0,B=void 0!==window.themeDisplay?window.themeDisplay.getUserName():"",H=void 0!==window.themeDisplay?window.themeDisplay.getPortalURL().replace("http://",""):"localhost:8080",J=void 0!==window.themeDisplay?window.Liferay.authToken:"",Z=H.indexOf(":")>0?H.substr(0,H.indexOf(":")):H;r["default"].use(U.a,"ws://"+Z+":8080/o/v1/socket/web?groupId="+z+"&portalURL="+H+"&companyId="+K+"&userId="+q+"&userName="+B+"&Token="+J,{store:M,format:"json",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3,maxHttpBufferSize:31457280,maxPayload:31457280}),j.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",j.a.defaults.headers.common["groupId"]=z,r["default"].config.productionTip=!0,r["default"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new r["default"]({el:"#app",router:$,store:M,render:function(e){return e(m)},created:function(){var e=this;e.$nextTick(function(){e.$store.dispatch("getDeliverableTypes")})}})},"84bf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row-header no__hidden_class"},[n("div",{staticClass:"background-triangle-big"},[n("span",[e._v(e._s(e.items[e.index]["typeName"]))])]),n("div",{staticClass:"layout row wrap header_tools row-blue"},[n("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}}),n("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"50px"}},[n("v-btn",{staticClass:"my-0 mx-2",attrs:{icon:""}},[n("v-icon",{attrs:{size:"16"}},[e._v("filter_list")])],1)],1)])])])},o=[],i={props:["index"],data:function(){return{dataSocket:{}}},created:function(){var e=this;e.$nextTick(function(){})},computed:{items:function(){return this.$store.getters.getDeliverableTypes}},methods:{}},a=i,s=n("2877"),c=Object(s["a"])(a,r,o,!1,null,null,null);c.options.__file="DeliverableList.vue";t["default"]=c.exports},"861c":function(e,t,n){},a51b:function(e,t,n){},c35c:function(e,t,n){},ca9a:function(e,t,n){},d593:function(e,t,n){}});
//# sourceMappingURL=app.js.map