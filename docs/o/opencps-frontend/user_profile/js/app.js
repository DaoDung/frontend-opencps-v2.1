webpackJsonp([1],{175:function(e,t){e.exports={renderURLInit:"?p_p_id=FrontendWebUserProfile&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit"}},176:function(e,t,s){"use strict";s.d(t,"a",function(){return d});var a=s(206),n=s.n(a),r=s(80),i=s.n(r),o=s(458),l=s(117),c=s.n(l),u=s(175);s.n(u);i.a.use(o.a);var d=new o.a.Store({state:{initData:{groupId:55123,user:{userName:"Nguyễn Vũ Nam",userEmail:"namnv.sct@phutho.gov.vn",userId:20103}},loading:!1},actions:{loadInitResource:function(e){var t=(e.commit,e.state);return new n.a(function(e,s){null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData.groupId=window.themeDisplay.getScopeGroupId(),t.initData.user={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData.groupId=0,t.initData.user={userName:"",userEmail:"",userId:20103}),e(t.initData)})},loadUser:function(e,t){var s=(e.commit,e.state);return new n.a(function(e,a){d.dispatch("loadInitResource").then(function(n){var r={headers:{groupId:s.initData.groupId}};c.a.get("/o/rest/v2/users/"+t.userId+"/profile",r).then(function(t){e(t)}).catch(function(e){a(e)})})})},putUser:function(e,t){var s=(e.commit,e.state);return new n.a(function(e,a){var n={headers:{groupId:s.initData.groupId}},r=new URLSearchParams,i="";"employee"===t.className?(i="/o/rest/v2/employees/"+t.employeeId,r.append("fullName",t.fullName),r.append("telNo",Number(t.telNo)),r.append("address",t.address),r.append("email",t.email)):(i="/o/rest/v2/applicants/"+t.applicantId,r.append("applicantName",t.applicantName),r.append("contactTelNo",Number(t.contactTelNo)),r.append("address",t.address),r.append("contactEmail",t.contactEmail),r.append("cityCode",t.cityCode),r.append("wardCode",t.wardCode),r.append("cityName",t.cityName),r.append("districtName",t.districtName),r.append("wardName",t.wardName)),c.a.put(i,r,n).then(function(t){e(t)}).catch(function(e){a(e)})})},loadDictItems:function(e,t){var s=(e.commit,e.state);return new n.a(function(e,a){d.dispatch("loadInitResource").then(function(n){var r={headers:{groupId:s.initData.groupId},params:{parent:t.parent}};c.a.get("/o/rest/v2/dictcollections/"+t.collectionCode+"/dictitems",r).then(function(t){t.data;e(t.data)},function(e){a(e)})})})},loadImageUser:function(e,t){var s=(e.commit,e.state);return new n.a(function(e,t){d.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:s.initData.groupId},responseType:"blob"};c.a.get("/o/rest/v2/users/"+s.initData.user.userId+"/photo",n).then(function(t){var s=window.URL.createObjectURL(t.data);e(s)}).catch(function(e){t(e)})})})}},mutations:{setLoading:function(e,t){e.loading=t}},getters:{getDictItems:function(e){return function(t){return"ADMINISTRATIVE_REGION"===t.collectionCode&&0===t.level?null==e.citys?d.dispatch("loadDictItems",t):new n.a(function(t,s){t({total:e.citys.length,data:e.citys})}):d.dispatch("loadDictItems",t)}},loading:function(e){return e.loading},index:function(e){return e.index}}})},178:function(e,t){},179:function(e,t){},180:function(e,t){},182:function(e,t,s){var a=s(116)(s(202),s(454),null,null);a.options.__file="d:\\FDS_OPENCPS\\front-end-v2.1\\frontend-opencps-v2.1\\onegate_21_users_profile\\src\\App.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] App.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},201:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(179),n=(s.n(a),s(178)),r=(s.n(n),s(180)),i=(s.n(r),s(80)),o=s.n(i),l=s(182),c=s.n(l),u=s(79),d=s(183),p=s.n(d),v=s(176),m=s(181),f=s(177),x=(s.n(f),s(117));s.n(x).a.defaults.headers.common.Token=window.Liferay.authToken,o.a.use(m.default),o.a.use(p.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:u.a,store:v.a,render:function(e){return e(c.a)}})},202:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s(79);t.default={data:function(){return{active:null,currentAgency:"",currentDomain:"",currentLevel:""}},computed:{currentIndex:function(){return this.$store.getters.index}},created:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current;t.query})},watch:{$route:function(e,t){e.params,e.query}},methods:{}}},203:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(s(79),s(174)),n=(s.n(a),s(448)),r=(s.n(n),s(175)),i=(s.n(r),s(450)),o=s.n(i),l=s(442),c=(s.n(l),s(441)),u=(s.n(c),s(444)),d=s.n(u),p=s(445),v=s.n(p),m=o()(d.a,v.a);t.default={props:[],components:{FilePond:m},data:function(){return{loading:!1,currentTab:!0,cityItems:[],districtItems:[],wardItems:[],cityCode:"",districtCode:"",wardCode:"",user:{userId:123,fullName:"Nguyễn Vũ Nam",birthDay:"20/09/1985",telNo:"0868979395",email:"namnv@sct.phutho.gov",nameAccount:"namnv@sct.phutho.gov",contactCode:"EMP001",jobposKeySign:"Mis",locationKeySign:"HaNoi",imageUrl:"",applicantType:"citizen"},userType:"employee",serverImgAvatar:{},filesImgAvatar:[],serverImgEsign:{url:"",process:{url:"",method:"PUT",withCredentials:!1,headers:{},timeout:5e3,onload:null,onerror:null}},serverEsignCert:{url:"",process:{url:"",method:"PUT",withCredentials:!1,headers:{},timeout:5e3,onload:null,onerror:null}},passWord:"",newPassWord:"",againNewPassWord:"",passField1:!0,passField2:!0,passField3:!0}},computed:{},created:function(){var e=this;e.$nextTick(function(){e.currentTab=!0,e.$store.dispatch("loadInitResource").then(function(t){var s={userId:t.user.userId};e.$store.dispatch("loadUser",s).then(function(t){e.user=t,e.getUserDetail(e.user)}).catch(function(e){}),e.filesImgAvatar=["/o/rest/v2/users/"+t.user.userId+"/photo"],e.serverImgAvatar={url:"/o/rest/v2/users/"+t.user.userId+"/photo",process:{url:"",method:"PUT",withCredentials:!1,headers:{groupId:t.groupId},timeout:5e3,onload:e.loadImgAvatar,onerror:e.loadImgAvatar},load:{url:"",method:"GET",withCredentials:!1,headers:{groupId:t.groupId},timeout:5e3,onload:null,onerror:null}}}).catch(function(e){})})},updated:function(){this.$nextTick(function(){})},watch:{},methods:{getUserDetail:function(e){var t=this;if("applicant"===e.className){var s={collectionCode:"ADMINISTRATIVE_REGION",level:0,parent:0};t.$store.getters.getDictItems(s).then(function(e){t.cityItems=e.data}),t.cityCode&&t.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.cityCode}).then(function(e){t.districtItems=e.data}),t.districtCode&&t.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.districtCode}).then(function(e){t.wardItems=e.data})}else t.userType},onChangeCity:function(e){var t=this,s={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e};t.$store.getters.getDictItems(s).then(function(e){t.districtItems=e.data,t.wardItems=[]})},onChangeDistrict:function(e){console.log("district",e);var t=this,s={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e};t.$store.getters.getDictItems(s).then(function(e){t.wardItems=e.data})},onchangeWard:function(e){console.log("ward",e)},submitUserProfile:function(){var e=this;e.$store.dispatch("putUser",e.user).then(function(e){})},submitUserPassWord:function(){},loadImgAvatar:function(){},loadImgEsign:function(){},loadEsignCert:function(){}}}},204:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},441:function(e,t){},442:function(e,t){},443:function(e,t){},451:function(e,t,s){var a=s(116)(s(203),s(455),null,null);a.options.__file="d:\\FDS_OPENCPS\\front-end-v2.1\\frontend-opencps-v2.1\\onegate_21_users_profile\\src\\components\\Landing.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] Landing.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},452:function(e,t,s){var a=s(116)(s(204),s(453),null,null);a.options.__file="d:\\FDS_OPENCPS\\front-end-v2.1\\frontend-opencps-v2.1\\onegate_21_users_profile\\src\\components\\NotFound.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] NotFound.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},453:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[s("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},454:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-content",[s("router-view")],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},455:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{wrap:""}},[s("v-flex",{staticClass:"xs12 sm9"},[s("v-card",{staticClass:"mx-3 my-3"},[s("div",{staticClass:"row-header"},[s("div",{staticClass:"background-triangle-big"},[e.currentTab?s("span",[e._v("THÔNG TIN TÀI KHOẢN")]):s("span",[e._v("THAY ĐỔI MẬT KHẨU")])]),e._v(" "),s("div",{staticClass:"layout row wrap header_tools"},[s("div",{staticClass:"flex xs4 sm3 text-right",staticStyle:{"margin-left":"auto"}},[e.currentTab?s("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{color:"primary",flat:"","active-class":"temp_active"},on:{click:function(){return e.currentTab=!e.currentTab}}},[s("v-icon",[e._v("verified_user")]),e._v(" \n              "),s("span",[e._v("Đổi mật khẩu")])],1):s("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{color:"primary",flat:"","active-class":"temp_active"},on:{click:function(){return e.currentTab=!e.currentTab}}},[s("v-icon",[e._v("how_to_reg")]),e._v(" \n              "),s("span",[e._v("Thông tin tài khoản")])],1)],1)])]),e._v(" "),e.currentTab?s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},["employee"===e.user.className?s("v-layout",{staticClass:"px-3",attrs:{wrap:""}},[s("v-flex",{staticClass:"pr-3",attrs:{xs6:"",sm6:""}},[s("v-text-field",{attrs:{label:"Tên người dùng",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.user.fullName,callback:function(t){e.$set(e.user,"fullName",t)},expression:"user.fullName"}})],1),e._v(" "),s("v-flex",{staticClass:"pr-3",attrs:{xs6:"",sm3:""}},[s("v-text-field",{attrs:{label:"Số điện thoại",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.user.telNo,callback:function(t){e.$set(e.user,"telNo",t)},expression:"user.telNo"}})],1),e._v(" "),s("v-flex",{attrs:{xs6:"",sm3:""}},[s("v-text-field",{attrs:{label:"Thư điện tử",box:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),s("v-flex",{staticClass:"pr-3",attrs:{xs6:"",sm6:""}},[s("v-text-field",{attrs:{label:"Tài khoản đăng nhập",box:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),s("v-flex",{attrs:{xs6:"",sm6:""}},[s("v-text-field",{attrs:{label:"Contact code",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm12:""}},[s("v-text-field",{attrs:{label:"Chức danh ký số",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm12:""}},[s("v-text-field",{attrs:{label:"Địa điểm ký số",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),s("v-flex",{staticClass:"mt-2 pr-3",attrs:{xs6:"",sm6:""}},[s("p",{staticClass:"text-bold"},[e._v("File ảnh ký số:")]),e._v(" "),s("file-pond",{attrs:{"label-idle":"Cập nhật ảnh ký sô","accepted-file-types":"image/jpeg, image/png",server:e.serverImgEsign,files:e.filesImgAvatar},on:{init:e.loadImgEsign}})],1),e._v(" "),s("v-flex",{staticClass:"mt-2",attrs:{xs6:"",sm6:""}},[s("p",{staticClass:"text-bold"},[e._v("File chứng thư gốc:")]),e._v(" "),s("file-pond",{attrs:{"label-idle":"Cập nhật chứng thư gốc","accepted-file-types":"image/jpeg, image/png",server:e.serverEsignCert,files:e.myFiles},on:{init:e.loadEsignCert}})],1)],1):s("v-layout",{staticClass:"px-3",attrs:{wrap:""}},[s("v-flex",{staticClass:"pr-3",attrs:{xs6:"",sm4:""}},[s("v-text-field",{attrs:{label:"Họ và tên",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.user.applicantName,callback:function(t){e.$set(e.user,"applicantName",t)},expression:"user.applicantName"}})],1),e._v(" "),s("v-flex",{staticClass:"pr-3",attrs:{xs4:""}},[s("v-text-field",{attrs:{label:"Điện thoại",box:""},model:{value:e.user.contactTelNo,callback:function(t){e.$set(e.user,"contactTelNo",t)},expression:"user.contactTelNo"}})],1),e._v(" "),s("v-flex",{attrs:{sm4:""}},[s("v-text-field",{attrs:{label:"Thư điện tử",box:""},model:{value:e.user.contactEmail,callback:function(t){e.$set(e.user,"contactEmail",t)},expression:"user.contactEmail"}})],1),e._v(" "),s("v-flex",{attrs:{xs12:"",sm12:""}},[s("v-text-field",{attrs:{label:"Địa chỉ",box:""},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1),e._v(" "),s("v-flex",{staticClass:"pr-3 input-group--text-field-box",attrs:{xs6:"",sm4:""}},[s("v-select",{attrs:{items:e.cityItems,label:"Tỉnh/thành phố","item-text":"itemName","item-value":"itemCode",autocomplete:"","hide-selected":!0},on:{change:e.onChangeCity},model:{value:e.user.cityCode,callback:function(t){e.$set(e.user,"cityCode",t)},expression:"user.cityCode"}})],1),e._v(" "),s("v-flex",{staticClass:"pr-3 input-group--text-field-box",attrs:{xs6:"",sm4:""}},[s("v-select",{attrs:{items:e.districtItems,label:"Quận/huyện","item-text":"itemName","item-value":"itemCode",autocomplete:"","hide-selected":!0},on:{change:e.onChangeDistrict},model:{value:e.user.districtCode,callback:function(t){e.$set(e.user,"districtCode",t)},expression:"user.districtCode"}})],1),e._v(" "),s("v-flex",{staticClass:"input-group--text-field-box",attrs:{xs4:""}},[s("v-select",{attrs:{label:"Xã/phường",items:e.wardItems,"item-text":"itemName","item-value":"itemCode",autocomplete:"","hide-selected":!0},on:{change:e.onChangeWard},model:{value:e.user.wardCode,callback:function(t){e.$set(e.user,"wardCode",t)},expression:"user.wardCode"}})],1)],1),e._v(" "),s("div",{staticClass:"text-xs-center my-2"},[s("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:e.submitUserProfile}},[s("v-icon",[e._v("save")]),e._v(" \n            Cập nhật thông tin\n          ")],1)],1)],1):s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-layout",{staticClass:"px-3 py-3",attrs:{wrap:""}},[s("v-flex",{attrs:{xs3:""}},[s("v-subheader",[e._v("Mật khẩu hiện tại")])],1),e._v(" "),s("v-flex",{staticClass:"pr-3",attrs:{xs9:""}},[s("v-text-field",{attrs:{box:"","append-icon":e.passField1?"visibility":"visibility_off","append-icon-cb":function(){return e.passField1=!e.passField1},rules:[function(){return"Trường dữ liệu bắt buộc"}],type:e.passField1?"password":"text",hint:"Ít nhất 6 ký tự",min:"6"},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}})],1),e._v(" "),s("v-flex",{attrs:{xs3:""}},[s("v-subheader",[e._v("Mật khẩu mới")])],1),e._v(" "),s("v-flex",{staticClass:"pr-3",attrs:{xs9:""}},[s("v-text-field",{attrs:{box:"","append-icon":e.passField2?"visibility":"visibility_off","append-icon-cb":function(){return e.passField2=!e.passField2},rules:[function(){return"Trường dữ liệu bắt buộc"}],type:e.passField2?"password":"text",hint:"Ít nhất 6 ký tự",min:"6"},model:{value:e.newPassWord,callback:function(t){e.newPassWord=t},expression:"newPassWord"}})],1),e._v(" "),s("v-flex",{attrs:{xs3:""}},[s("v-subheader",[e._v("Nhập lại mật khẩu mới")])],1),e._v(" "),s("v-flex",{staticClass:"pr-3",attrs:{xs9:""}},[s("v-text-field",{attrs:{box:"","append-icon":e.passField3?"visibility":"visibility_off","append-icon-cb":function(){return e.passField3=!e.passField3},rules:[function(){return"Trường dữ liệu bắt buộc"}],type:e.passField3?"password":"text",hint:"Ít nhất 6 ký tự",min:"6"},model:{value:e.againNewPassWord,callback:function(t){e.againNewPassWord=t},expression:"againNewPassWord"}})],1)],1),e._v(" "),s("div",{staticClass:"text-xs-center my-2"},[s("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:e.submitUserPassWord}},[s("v-icon",[e._v("save")]),e._v(" \n            Cập nhật mật khẩu\n          ")],1)],1)],1)],1)],1),e._v(" "),s("v-flex",{staticClass:"xs12 sm3"},[s("v-card",{staticClass:"mr-3 my-3"},[s("v-card-text",{staticStyle:{height:"100px",border:"1px solid #dedede"}},[s("file-pond",{ref:"pond",attrs:{"label-idle":"Cập nhật ảnh đại diện","accepted-file-types":"image/jpeg, image/png",server:e.serverImgAvatar,files:e.filesImgAvatar},on:{init:e.loadImgAvatar}})],1),e._v(" "),"employee"===e.userType?s("div",{staticClass:"px-3 py-3"},[s("div",{staticClass:"text-bold text-xs-center mb-2"},[e._v(e._s(e.user.fullName))]),e._v(" "),s("div",[s("span",[e._v("Ngày sinh:")]),e._v("  "),s("span",{staticClass:"text-bold"},[e._v(e._s(e.user.birthdate))])]),e._v(" "),s("div",[s("span",[e._v("Thư điện tử:")]),e._v("  "),s("span",{staticClass:"text-bold"},[e._v(e._s(e.user.email))])]),e._v(" "),s("div",[s("span",[e._v("Số điện thoại:")]),e._v("  "),s("span",{staticClass:"text-bold"},[e._v(e._s(e.user.telNo))])])]):s("div",{staticClass:"px-3 py-3"},[s("div",{staticClass:"text-bold text-xs-center mb-2"},[e._v(e._s(e.user.applicantName))]),e._v(" "),s("div",["citizen"==e.applicantIdType?s("span",[e._v("Số CMND/Hộ chiếu:")]):s("span",[e._v("Mã số thuế:")]),e._v("\n            "),s("span",{staticClass:"text-bold"},[e._v(e._s(e.user.applicantIdNo))])]),e._v(" "),s("div",[s("span",[e._v("Ngày cấp:")]),e._v("  "),s("span",{staticClass:"text-bold"},[e._v(e._s(e.user.applicantIdDate))])]),e._v(" "),s("div",[s("span",[e._v("Thư điện tử:")]),e._v("  "),s("span",{staticClass:"text-bold"},[e._v(e._s(e.user.contactEmail))])])])],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},79:function(e,t,s){"use strict";var a=s(80),n=s.n(a),r=s(456),i=s(451),o=s.n(i),l=s(452),c=s.n(l),u=[{path:"/",name:"Landing",component:o.a,props:!0},{path:"*",name:"NotFound",component:c.a}];n.a.use(r.a);var d=new r.a({routes:u});t.a=d}},[201]);
//# sourceMappingURL=app.js.map