{"remainingRequest":"/Users/binhthgc/Documents/fds/github/frontend-opencps-v2.1/dynamic_report/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/binhthgc/Documents/fds/github/frontend-opencps-v2.1/dynamic_report/src/components/ThanhToanThanhCong.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/binhthgc/Documents/fds/github/frontend-opencps-v2.1/dynamic_report/src/components/ThanhToanThanhCong.vue","mtime":1548058113295},{"path":"/Users/binhthgc/Documents/fds/github/frontend-opencps-v2.1/dynamic_report/node_modules/vuetify-loader/lib/loader.js","mtime":499162500000},{"path":"/Users/binhthgc/Documents/fds/github/frontend-opencps-v2.1/dynamic_report/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/binhthgc/Documents/fds/github/frontend-opencps-v2.1/dynamic_report/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport Vue from 'vue'\nexport default {\n  props: [],\n  components: {},\n  data: () => ({\n    loading: true,\n    loadingAction: false,\n    dossierDetail: {\n      serviceName: '',\n      dossierNo: '',\n      govAgencyName: '',\n      paymentFee: '',\n      paymentAmount: '',\n      transId: '',\n      goodCode: '',\n      paymentPortal: ''\n    }\n  }),\n  computed: {},\n  created () {\n    let vm = this\n    vm.$nextTick(function () {\n      var vm = this\n      let query = vm.$router.history.current.query\n      let dossierId = query.hasOwnProperty('dossierId') ? query.dossierId : ''\n      let referenceUidQuery = query.hasOwnProperty('referenceUid') ? query.referenceUid : ''\n      let actionCode = query.hasOwnProperty('actionCode') ? query.actionCode : ''\n      if (dossierId) {\n        vm.$store.dispatch('getDetailDossier', dossierId).then(resultDossier => {\n          vm.dossierDetail['serviceName'] = resultDossier.serviceName\n          vm.dossierDetail['dossierNo'] = resultDossier.dossierNo\n          vm.dossierDetail['govAgencyName'] = resultDossier.govAgencyName\n          vm.dossierDetail['transId'] = query.transId\n          vm.dossierDetail['goodCode'] = query.goodCode\n          vm.dossierDetail['paymentPortal'] = query.paymentPortal\n          vm.dossierDetail['paymentAmount'] = query.net_cost\n          let filter = {\n            dossierId: resultDossier.dossierId,\n            referenceUid: !referenceUidQuery ? resultDossier.referenceUid : referenceUidQuery\n          }\n          vm.$store.dispatch('putPayments', filter).then(result => {\n            vm.dossierDetail['paymentFee'] = result.paymentFee\n            if (actionCode) {\n              let fiter2 = {\n                dossierId: !referenceUidQuery ? resultDossier.referenceUid : referenceUidQuery,\n                actionCode: actionCode\n              }\n              vm.$store.dispatch('processDossierRouter', fiter2).then(function (result) {\n              }).catch(function () {\n              })\n            }\n          }).catch(reject => {\n          })\n        })\n      }\n    })\n  },\n  watch: {},\n  methods: {\n    currency (value) {\n      if (value) {\n        return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.') ? value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.') : 0\n      }\n      return 0\n    },\n    goBack () {\n      var vm = this\n      let redirectURL = window.themeDisplay.getLayoutRelativeURL().substring(0, window.themeDisplay.getLayoutRelativeURL().lastIndexOf('\\/'))\n      let url = redirectURL + '/dich-vu-cong#/'\n      window.open(url, '_self')\n    }\n  }\n}\n",{"version":3,"sources":["ThanhToanThanhCong.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ThanhToanThanhCong.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-card>\n      <div class=\"row-header\">\n        <div class=\"background-triangle-big\"> <span>THÔNG TIN THANH TOÁN</span> </div>\n        <div class=\"layout row wrap header_tools row-blue\">\n          <div class=\"flex xs4 sm2 text-right\" style=\"margin-left: auto;\">\n            <v-btn flat class=\"my-0 mx-0 btn-border-left\" @click=\"goBack\" active-class=\"temp_active\">\n              Quay lại &nbsp;\n              <v-icon size=\"16\">undo</v-icon>\n            </v-btn>\n          </div>\n        </div> \n      </div>\n      <div>\n        <div class=\"mx-2 my-3\">\n          <v-alert outline :value=\"true\" type=\"success\">\n            Giao dịch thanh toán thành công\n          </v-alert>\n        </div>\n        <v-card class=\"mx-2\">\n          <v-card-text class=\"px-0 py-0\">\n            <div class=\"table-bordered\" style=\"border-top: 1px solid #dedede;\">\n              <div class=\"table__overflow\">\n                <table class=\"datatable table\">\n                  <tbody>\n                    <tr>\n                      <td width=\"200\"><span class=\"text-bold\">Tên hồ sơ</span></td>\n                      <td><span>{{dossierDetail.serviceName}}</span></td>\n                    </tr>\n                    <tr>\n                      <td><span class=\"text-bold\">Mã hồ sơ</span></td>\n                      <td><span>{{dossierDetail.dossierNo}}</span></td>\n                    </tr>\n                    <tr>\n                      <td><span class=\"text-bold\">Cơ quan thực hiện</span></td>\n                      <td><span>{{dossierDetail.govAgencyName}}</span></td>\n                    </tr>\n                    <tr>\n                      <td><span class=\"text-bold\">Tên phí, lệ phí</span></td>\n                      <td><span>{{dossierDetail.paymentFee}}</span></td>\n                    </tr>\n                    <tr>\n                      <td><span class=\"text-bold\">Tổng tiền</span></td>\n                      <td><span>{{currency(dossierDetail.paymentAmount)}} VNĐ</span></td>\n                    </tr>\n                    <tr>\n                      <td><span class=\"text-bold\">Mã giao dịch trực tuyến</span></td>\n                      <td><span>{{dossierDetail.transId}}</span></td>\n                    </tr>\n                    <tr>\n                      <td><span class=\"text-bold\">Mã tra cứu trên cổng thanh toán</span></td>\n                      <td><span>{{dossierDetail.goodCode}}</span></td>\n                    </tr>\n                    <tr>\n                      <td><span class=\"text-bold\">Cổng thanh toán</span></td>\n                      <td><span>{{dossierDetail.paymentPortal}}</span></td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </v-card-text>\n        </v-card>\n      </div>\n    </v-card>\n  </div>\n</template>\n\n<script>\n\nimport Vue from 'vue'\nexport default {\n  props: [],\n  components: {},\n  data: () => ({\n    loading: true,\n    loadingAction: false,\n    dossierDetail: {\n      serviceName: '',\n      dossierNo: '',\n      govAgencyName: '',\n      paymentFee: '',\n      paymentAmount: '',\n      transId: '',\n      goodCode: '',\n      paymentPortal: ''\n    }\n  }),\n  computed: {},\n  created () {\n    let vm = this\n    vm.$nextTick(function () {\n      var vm = this\n      let query = vm.$router.history.current.query\n      let dossierId = query.hasOwnProperty('dossierId') ? query.dossierId : ''\n      let referenceUidQuery = query.hasOwnProperty('referenceUid') ? query.referenceUid : ''\n      let actionCode = query.hasOwnProperty('actionCode') ? query.actionCode : ''\n      if (dossierId) {\n        vm.$store.dispatch('getDetailDossier', dossierId).then(resultDossier => {\n          vm.dossierDetail['serviceName'] = resultDossier.serviceName\n          vm.dossierDetail['dossierNo'] = resultDossier.dossierNo\n          vm.dossierDetail['govAgencyName'] = resultDossier.govAgencyName\n          vm.dossierDetail['transId'] = query.transId\n          vm.dossierDetail['goodCode'] = query.goodCode\n          vm.dossierDetail['paymentPortal'] = query.paymentPortal\n          vm.dossierDetail['paymentAmount'] = query.net_cost\n          let filter = {\n            dossierId: resultDossier.dossierId,\n            referenceUid: !referenceUidQuery ? resultDossier.referenceUid : referenceUidQuery\n          }\n          vm.$store.dispatch('putPayments', filter).then(result => {\n            vm.dossierDetail['paymentFee'] = result.paymentFee\n            if (actionCode) {\n              let fiter2 = {\n                dossierId: !referenceUidQuery ? resultDossier.referenceUid : referenceUidQuery,\n                actionCode: actionCode\n              }\n              vm.$store.dispatch('processDossierRouter', fiter2).then(function (result) {\n              }).catch(function () {\n              })\n            }\n          }).catch(reject => {\n          })\n        })\n      }\n    })\n  },\n  watch: {},\n  methods: {\n    currency (value) {\n      if (value) {\n        return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.') ? value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.') : 0\n      }\n      return 0\n    },\n    goBack () {\n      var vm = this\n      let redirectURL = window.themeDisplay.getLayoutRelativeURL().substring(0, window.themeDisplay.getLayoutRelativeURL().lastIndexOf('\\/'))\n      let url = redirectURL + '/dich-vu-cong#/'\n      window.open(url, '_self')\n    }\n  }\n}\n</script>\n\n"]}]}